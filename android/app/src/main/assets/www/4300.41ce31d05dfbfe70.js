"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4300],{74300:(e,n,t)=>{t.r(n),t.d(n,{AddonModGlossaryEntryLazyModule:()=>$});var o=t(13386),r=t(24672),i=t(71068),a=t(51845),l=t(67643),s=t(49671),d=t(2866),c=t(38799),_=t(25233),y=t(71460),g=t(81856),m=t(7739),u=t(76777),f=t(43555),p=t(81370),E=t(13010),I=t(75803),h=t(10727),A=t(98370),v=t(93149),x=t(32971),T=t(88817),M=t(43468),w=t(19212),Z=t(30242),G=t(96814),P=t(9693),b=t(66931),Q=t(93930),J=t(80070),O=t(86700),q=t(8947),U=t(5065),L=t(29657),S=t(22068),N=t(31903),D=t(88533),k=t(37176),R=t(83779),C=t(5385),F=t(89515);function AddonModGlossaryEntryPage_h1_6_Template(e,n){if(1&e&&(w.TgZ(0,"h1"),w._UZ(1,"core-format-text",8),w.qZA()),2&e){const e=w.oxw();w.xp6(),w.Q6J("text",e.entry.concept)("contextInstanceId",e.componentId)("courseId",e.courseId)}}const _c0=e=>({$a:e});function AddonModGlossaryEntryPage_ng_container_12_ion_card_1_Template(e,n){1&e&&(w.TgZ(0,"ion-card",15)(1,"ion-item"),w._UZ(2,"ion-icon",16),w.TgZ(3,"ion-label"),w._uU(4),w.ALo(5,"translate"),w.ALo(6,"translate"),w.qZA()()()),2&e&&(w.xp6(4),w.Oqu(w.xi3(5,1,"core.hasdatatosync",w.VKq(6,_c0,w.lcZ(6,4,"addon.mod_glossary.entry")))))}function AddonModGlossaryEntryPage_ng_container_12_ion_item_2_p_5_Template(e,n){if(1&e&&(w.TgZ(0,"p"),w._uU(1),w.qZA()),2&e){const e=w.oxw(3);w.xp6(),w.Oqu(e.onlineEntry.userfullname)}}function AddonModGlossaryEntryPage_ng_container_12_ion_item_2_ion_note_6_Template(e,n){if(1&e&&(w.TgZ(0,"ion-note",19),w._uU(1),w.ALo(2,"coreDateDayOrTime"),w.qZA()),2&e){const e=w.oxw(3);w.xp6(),w.Oqu(w.lcZ(2,1,e.onlineEntry.timemodified))}}function AddonModGlossaryEntryPage_ng_container_12_ion_item_2_Template(e,n){if(1&e&&(w.TgZ(0,"ion-item",10),w._UZ(1,"core-user-avatar",17),w.TgZ(2,"ion-label")(3,"h2"),w._UZ(4,"core-format-text",8),w.qZA(),w.YNc(5,AddonModGlossaryEntryPage_ng_container_12_ion_item_2_p_5_Template,2,1,"p",2),w.qZA(),w.YNc(6,AddonModGlossaryEntryPage_ng_container_12_ion_item_2_ion_note_6_Template,3,3,"ion-note",18),w.qZA()),2&e){const e=w.oxw(2);w.xp6(),w.Q6J("user",e.entry),w.xp6(3),w.Q6J("text",e.entry.concept)("contextInstanceId",e.componentId)("courseId",e.courseId),w.xp6(),w.Q6J("ngIf",e.onlineEntry),w.xp6(),w.Q6J("ngIf",e.showDate&&e.onlineEntry)}}function AddonModGlossaryEntryPage_ng_container_12_ion_item_3_ion_note_4_Template(e,n){if(1&e&&(w.TgZ(0,"ion-note",19),w._uU(1),w.ALo(2,"coreDateDayOrTime"),w.qZA()),2&e){const e=w.oxw(3);w.xp6(),w.Oqu(w.lcZ(2,1,e.onlineEntry.timemodified))}}function AddonModGlossaryEntryPage_ng_container_12_ion_item_3_Template(e,n){if(1&e&&(w.TgZ(0,"ion-item",10)(1,"ion-label")(2,"p",20),w._UZ(3,"core-format-text",21),w.qZA()(),w.YNc(4,AddonModGlossaryEntryPage_ng_container_12_ion_item_3_ion_note_4_Template,3,3,"ion-note",18),w.qZA()),2&e){const e=w.oxw(2);w.xp6(3),w.Q6J("text",e.entry.concept)("contextInstanceId",e.componentId),w.xp6(),w.Q6J("ngIf",e.showDate&&e.onlineEntry)}}function AddonModGlossaryEntryPage_ng_container_12_div_7_core_file_1_Template(e,n){if(1&e&&w._UZ(0,"core-file",23),2&e){const e=n.$implicit,t=w.oxw(3);w.Q6J("file",e)("component",t.component)("componentId",t.componentId)}}function AddonModGlossaryEntryPage_ng_container_12_div_7_Template(e,n){if(1&e&&(w.TgZ(0,"div"),w.YNc(1,AddonModGlossaryEntryPage_ng_container_12_div_7_core_file_1_Template,1,3,"core-file",22),w.qZA()),2&e){const e=w.oxw(2);w.xp6(),w.Q6J("ngForOf",e.onlineEntry.attachments)}}function AddonModGlossaryEntryPage_ng_container_12_div_8_core_file_1_Template(e,n){if(1&e&&w._UZ(0,"core-file",23),2&e){const e=n.$implicit,t=w.oxw(3);w.Q6J("file",e)("component",t.component)("componentId",t.componentId)}}function AddonModGlossaryEntryPage_ng_container_12_div_8_Template(e,n){if(1&e&&(w.TgZ(0,"div"),w.YNc(1,AddonModGlossaryEntryPage_ng_container_12_div_8_core_file_1_Template,1,3,"core-file",22),w.qZA()),2&e){const e=w.oxw(2);w.xp6(),w.Q6J("ngForOf",e.offlineEntry.attachments.online)}}function AddonModGlossaryEntryPage_ng_container_12_div_9_core_local_file_1_Template(e,n){if(1&e&&w._UZ(0,"core-local-file",25),2&e){w.Q6J("file",n.$implicit)}}function AddonModGlossaryEntryPage_ng_container_12_div_9_Template(e,n){if(1&e&&(w.TgZ(0,"div"),w.YNc(1,AddonModGlossaryEntryPage_ng_container_12_div_9_core_local_file_1_Template,1,1,"core-local-file",24),w.qZA()),2&e){const e=w.oxw(2);w.xp6(),w.Q6J("ngForOf",e.offlineEntryFiles)}}function AddonModGlossaryEntryPage_ng_container_12_ion_item_10_Template(e,n){if(1&e&&(w.TgZ(0,"ion-item",10)(1,"ion-label")(2,"div",0),w._uU(3),w.ALo(4,"translate"),w.qZA(),w._UZ(5,"core-tag-list",26),w.qZA()()),2&e){const e=w.oxw(2);w.xp6(3),w.hij("",w.lcZ(4,2,"core.tag.tags"),":"),w.xp6(2),w.Q6J("tags",e.onlineEntry.tags)}}function AddonModGlossaryEntryPage_ng_container_12_ion_item_11_ion_button_2_Template(e,n){if(1&e){const e=w.EpF();w.TgZ(0,"ion-button",29),w.NdJ("click",(function AddonModGlossaryEntryPage_ng_container_12_ion_item_11_ion_button_2_Template_ion_button_click_0_listener(){w.CHM(e);const n=w.oxw(3);return w.KtG(n.deleteEntry())})),w.ALo(1,"translate"),w._UZ(2,"ion-icon",30),w.qZA()}2&e&&w.uIk("aria-label",w.lcZ(1,1,"addon.mod_glossary.deleteentry"))}function AddonModGlossaryEntryPage_ng_container_12_ion_item_11_ion_button_3_Template(e,n){if(1&e){const e=w.EpF();w.TgZ(0,"ion-button",31),w.NdJ("click",(function AddonModGlossaryEntryPage_ng_container_12_ion_item_11_ion_button_3_Template_ion_button_click_0_listener(){w.CHM(e);const n=w.oxw(3);return w.KtG(n.editEntry())})),w.ALo(1,"translate"),w._UZ(2,"ion-icon",32),w.qZA()}2&e&&w.uIk("aria-label",w.lcZ(1,1,"addon.mod_glossary.editentry"))}function AddonModGlossaryEntryPage_ng_container_12_ion_item_11_Template(e,n){if(1&e&&(w.TgZ(0,"ion-item")(1,"div",19),w.YNc(2,AddonModGlossaryEntryPage_ng_container_12_ion_item_11_ion_button_2_Template,3,3,"ion-button",27)(3,AddonModGlossaryEntryPage_ng_container_12_ion_item_11_ion_button_3_Template,3,3,"ion-button",28),w.qZA()()),2&e){const e=w.oxw(2);w.xp6(2),w.Q6J("ngIf",e.canDelete),w.xp6(),w.Q6J("ngIf",e.canEdit)}}function AddonModGlossaryEntryPage_ng_container_12_ion_item_12_Template(e,n){1&e&&(w.TgZ(0,"ion-item",10)(1,"ion-label")(2,"p")(3,"em"),w._uU(4),w.ALo(5,"translate"),w.qZA()()()()),2&e&&(w.xp6(4),w.Oqu(w.lcZ(5,1,"addon.mod_glossary.entrypendingapproval")))}function AddonModGlossaryEntryPage_ng_container_12_core_comments_13_Template(e,n){if(1&e&&w._UZ(0,"core-comments",33),2&e){const e=w.oxw(2);w.Q6J("instanceId",e.glossary.coursemodule)("itemId",e.onlineEntry.id)("courseId",e.glossary.course)("showItem",!0)}}function AddonModGlossaryEntryPage_ng_container_12_core_rating_rate_14_Template(e,n){if(1&e){const e=w.EpF();w.TgZ(0,"core-rating-rate",34),w.NdJ("onUpdate",(function AddonModGlossaryEntryPage_ng_container_12_core_rating_rate_14_Template_core_rating_rate_onUpdate_0_listener(){w.CHM(e);const n=w.oxw(2);return w.KtG(n.ratingUpdated())})),w.qZA()}if(2&e){const e=w.oxw(2);w.Q6J("ratingInfo",e.ratingInfo)("instanceId",e.glossary.coursemodule)("itemId",e.onlineEntry.id)("itemSetId",0)("courseId",e.glossary.course)("aggregateMethod",e.glossary.assessed)("scaleId",e.glossary.scale)("userId",e.entry.userid)}}function AddonModGlossaryEntryPage_ng_container_12_core_rating_aggregate_15_Template(e,n){if(1&e&&w._UZ(0,"core-rating-aggregate",35),2&e){const e=w.oxw(2);w.Q6J("ratingInfo",e.ratingInfo)("instanceId",e.glossary.coursemodule)("itemId",e.onlineEntry.id)("courseId",e.glossary.course)("aggregateMethod",e.glossary.assessed)("scaleId",e.glossary.scale)}}function AddonModGlossaryEntryPage_ng_container_12_Template(e,n){if(1&e&&(w.ynx(0),w.YNc(1,AddonModGlossaryEntryPage_ng_container_12_ion_card_1_Template,7,8,"ion-card",7)(2,AddonModGlossaryEntryPage_ng_container_12_ion_item_2_Template,7,6,"ion-item",9)(3,AddonModGlossaryEntryPage_ng_container_12_ion_item_3_Template,5,3,"ion-item",9),w.TgZ(4,"ion-item",10)(5,"ion-label"),w._UZ(6,"core-format-text",11),w.qZA()(),w.YNc(7,AddonModGlossaryEntryPage_ng_container_12_div_7_Template,2,1,"div",2)(8,AddonModGlossaryEntryPage_ng_container_12_div_8_Template,2,1,"div",2)(9,AddonModGlossaryEntryPage_ng_container_12_div_9_Template,2,1,"div",2)(10,AddonModGlossaryEntryPage_ng_container_12_ion_item_10_Template,6,4,"ion-item",9)(11,AddonModGlossaryEntryPage_ng_container_12_ion_item_11_Template,4,2,"ion-item",2)(12,AddonModGlossaryEntryPage_ng_container_12_ion_item_12_Template,6,3,"ion-item",9)(13,AddonModGlossaryEntryPage_ng_container_12_core_comments_13_Template,1,4,"core-comments",12)(14,AddonModGlossaryEntryPage_ng_container_12_core_rating_rate_14_Template,1,8,"core-rating-rate",13)(15,AddonModGlossaryEntryPage_ng_container_12_core_rating_aggregate_15_Template,1,6,"core-rating-aggregate",14),w.BQk()),2&e){const e=w.oxw();w.xp6(),w.Q6J("ngIf",e.offlineEntry),w.xp6(),w.Q6J("ngIf",e.showAuthor),w.xp6(),w.Q6J("ngIf",!e.showAuthor),w.xp6(3),w.Q6J("component",e.component)("componentId",e.componentId)("text",e.entry.definition)("contextInstanceId",e.componentId)("courseId",e.courseId),w.xp6(),w.Q6J("ngIf",e.onlineEntry&&e.onlineEntry.attachment),w.xp6(),w.Q6J("ngIf",e.offlineEntry&&e.offlineEntry.attachments),w.xp6(),w.Q6J("ngIf",e.offlineEntry&&e.offlineEntryFiles),w.xp6(),w.Q6J("ngIf",e.onlineEntry&&e.tagsEnabled&&e.entry&&e.onlineEntry.tags&&e.onlineEntry.tags.length>0),w.xp6(),w.Q6J("ngIf",e.canDelete||e.canEdit),w.xp6(),w.Q6J("ngIf",e.onlineEntry&&!e.onlineEntry.approved),w.xp6(),w.Q6J("ngIf",e.glossary&&e.glossary.allowcomments&&e.onlineEntry&&e.onlineEntry.id>0&&e.commentsEnabled),w.xp6(),w.Q6J("ngIf",e.glossary&&e.ratingInfo&&e.onlineEntry),w.xp6(),w.Q6J("ngIf",e.glossary&&e.ratingInfo&&e.onlineEntry)}}function AddonModGlossaryEntryPage_ion_card_13_Template(e,n){1&e&&(w.TgZ(0,"ion-card",15)(1,"ion-item")(2,"ion-label"),w._uU(3),w.ALo(4,"translate"),w.qZA()()()),2&e&&(w.xp6(3),w.Oqu(w.lcZ(4,1,"addon.mod_glossary.errorloadingentry")))}let Y=(()=>{var e;class AddonModGlossaryEntryPage{constructor(e,n){var t=this;this.splitView=e,this.route=n,this.component=x.eH.COMPONENT,this.loaded=!1,this.showAuthor=!1,this.showDate=!1,this.tagsEnabled=!1,this.canEdit=!1,this.canDelete=!1,this.commentsEnabled=!1,this.logView=T.V.once((0,s.Z)((function*(){t.onlineEntry&&t.glossary&&t.componentId&&(yield I.Tr.ignoreErrors(x.wi.logEntryView(t.onlineEntry.id,t.componentId)),t.analyticsLogEvent("mod_glossary_get_entry_by_id",`/mod/glossary/showentry.php?eid=${t.onlineEntry.id}`))})))}get entry(){var e;return null!==(e=this.onlineEntry)&&void 0!==e?e:this.offlineEntry}ngOnInit(){var e=this;return(0,s.Z)((function*(){let n=null,t=null;try{var o;e.courseId=f.b.getRequiredRouteNumberParam("courseId"),e.tagsEnabled=u.e.areTagsAvailableInSite(),e.commentsEnabled=!m.N.areCommentsDisabledInSite(),e.cmId=f.b.getRequiredRouteNumberParam("cmId");const r=f.b.getRequiredRouteParam("entrySlug"),i=_.p.getOrCreateSource(v.c,[e.courseId,e.cmId,null!==(o=e.route.snapshot.data.glossaryPathPrefix)&&void 0!==o?o:""]);e.entries=new AddonModGlossaryEntryEntriesSwipeManager(i),yield e.entries.start(),r.startsWith("new-")?t=Number(r.slice(4)):n=Number(r)}catch(e){return E.OQ.showErrorModal(e),f.b.back(),void 0}e.entryUpdatedObserver=A.R.on(x.YQ,(n=>{var t;n.glossaryId===(null===(t=e.glossary)||void 0===t?void 0:t.id)&&(e.onlineEntry&&e.onlineEntry.id===n.entryId||e.offlineEntry&&e.offlineEntry.timecreated===n.timecreated)&&e.doRefresh()}));try{n?yield e.loadOnlineEntry(n):t&&(yield e.loadOfflineEntry(t))}finally{e.loaded=!0}}))()}ngOnDestroy(){var e;this.entries.destroy(),null===(e=this.entryUpdatedObserver)||void 0===e||e.off()}editEntry(){return(0,s.Z)((function*(){yield f.b.navigate("./edit")}))()}deleteEntry(){var e=this;return(0,s.Z)((function*(){var n,t,o;e.analyticsLogEvent("mod_glossary_delete_entry",`/mod/glossary/deleteentry.php?id=${null===(n=e.glossary)||void 0===n?void 0:n.id}&mode=delete&entry=${null===(t=e.onlineEntry)||void 0===t?void 0:t.id}`);const r=null===(o=e.glossary)||void 0===o?void 0:o.id,i=yield I.Tr.promiseFails(E.OQ.showConfirm(h.vN.instant("addon.mod_glossary.areyousuredelete")));if(!r||i)return;const a=yield E.OQ.showModalLoading();try{var l;if(e.onlineEntry){const n=e.onlineEntry.id;yield x.wi.deleteEntry(r,n),yield Promise.all([I.Tr.ignoreErrors(x.wi.invalidateEntry(n)),I.Tr.ignoreErrors(x.wi.invalidateEntriesByLetter(r)),I.Tr.ignoreErrors(x.wi.invalidateEntriesByAuthor(r)),I.Tr.ignoreErrors(x.wi.invalidateEntriesByCategory(r)),I.Tr.ignoreErrors(x.wi.invalidateEntriesByDate(r,"CREATION")),I.Tr.ignoreErrors(x.wi.invalidateEntriesByDate(r,"UPDATE")),I.Tr.ignoreErrors(e.entries.getSource().invalidateCache(!1))])}else if(e.offlineEntry){const n=e.offlineEntry.concept,t=e.offlineEntry.timecreated;yield c.s.deleteOfflineEntry(r,t),yield d.D.deleteStoredFiles(r,n,t)}E.OQ.showToast("addon.mod_glossary.entrydeleted",!0,E.O2.LONG),null!==(l=e.splitView)&&void 0!==l&&l.outletActivated?yield f.b.navigate("../../"):yield f.b.back()}catch(e){E.OQ.showErrorModalDefault(e,"addon.mod_glossary.errordeleting",!0)}finally{a.dismiss()}}))()}doRefresh(e){var n=this;return(0,s.Z)((function*(){var t;n.onlineEntry&&null!==(t=n.glossary)&&void 0!==t&&t.allowcomments&&n.onlineEntry.id>0&&n.commentsEnabled&&n.comments&&I.Tr.ignoreErrors(n.comments.doRefresh());try{if(n.onlineEntry)yield I.Tr.ignoreErrors(x.wi.invalidateEntry(n.onlineEntry.id)),yield n.loadOnlineEntry(n.onlineEntry.id);else if(n.offlineEntry){const e=f.b.getRequiredRouteParam("entrySlug"),t=Number(e.slice(4));yield n.loadOfflineEntry(t)}}finally{null==e||e.complete()}}))()}loadOnlineEntry(e){var n=this;return(0,s.Z)((function*(){try{var t,o;const r=yield x.wi.getEntry(e),i=p.AS.isOnline()&&(yield x.wi.canDeleteEntries()),a=p.AS.isOnline()&&(yield x.wi.canUpdateEntries());n.onlineEntry=r.entry,n.ratingInfo=r.ratinginfo,n.canDelete=i&&!(null===(t=r.permissions)||void 0===t||!t.candelete),n.canEdit=a&&!(null===(o=r.permissions)||void 0===o||!o.canupdate),yield n.loadGlossary(),n.logView()}catch(e){E.OQ.showErrorModalDefault(e,"addon.mod_glossary.errorloadingentry",!0)}}))()}loadOfflineEntry(e){var n=this;return(0,s.Z)((function*(){try{const t=yield n.loadGlossary();n.offlineEntry=yield c.s.getOfflineEntry(t.id,e),n.offlineEntryFiles=n.offlineEntry.attachments&&n.offlineEntry.attachments.offline>0?yield d.D.getStoredFiles(t.id,n.offlineEntry.concept,e):void 0,n.canEdit=!0,n.canDelete=!0}catch(e){E.OQ.showErrorModalDefault(e,"addon.mod_glossary.errorloadingentry",!0)}}))()}loadGlossary(){var e=this;return(0,s.Z)((function*(){if(e.glossary)return e.glossary;switch(e.glossary=yield x.wi.getGlossary(e.courseId,e.cmId),e.componentId=e.glossary.coursemodule,e.glossary.displayformat){case"fullwithauthor":case"encyclopedia":e.showAuthor=!0,e.showDate=!0;break;case"fullwithoutauthor":e.showAuthor=!1,e.showDate=!0;break;default:e.showAuthor=!1,e.showDate=!1}return e.glossary}))()}ratingUpdated(){this.onlineEntry&&x.wi.invalidateEntry(this.onlineEntry.id)}analyticsLogEvent(e,n){this.onlineEntry&&this.glossary&&M.ke.logEvent({type:M.gM.VIEW_ITEM,ws:e,name:this.onlineEntry.concept,data:{id:this.onlineEntry.id,glossaryid:this.glossary.id,category:"glossary"},url:n})}}return(e=AddonModGlossaryEntryPage).ɵfac=function AddonModGlossaryEntryPage_Factory(n){return new(n||e)(w.Y36(Z.A,8),w.Y36(l.gz))},e.ɵcmp=w.Xpm({type:e,selectors:[["page-addon-mod-glossary-entry"]],viewQuery:function AddonModGlossaryEntryPage_Query(e,n){if(1&e&&w.Gf(g.H,5),2&e){let e;w.iGM(e=w.CRH())&&(n.comments=e.first)}},decls:14,vars:12,consts:[["slot","start"],[3,"text"],[4,"ngIf"],[1,"limited-width",3,"core-swipe-navigation"],["slot","fixed",3,"disabled","ionRefresh"],[3,"pullingText"],[3,"hideUntil"],["class","core-warning-card",4,"ngIf"],["contextLevel","module",3,"text","contextInstanceId","courseId"],["class","ion-text-wrap",4,"ngIf"],[1,"ion-text-wrap"],["contextLevel","module",3,"component","componentId","text","contextInstanceId","courseId"],["contextLevel","module","component","mod_glossary","area","glossary_entry",3,"instanceId","itemId","courseId","showItem",4,"ngIf"],["contextLevel","module",3,"ratingInfo","instanceId","itemId","itemSetId","courseId","aggregateMethod","scaleId","userId","onUpdate",4,"ngIf"],["contextLevel","module",3,"ratingInfo","instanceId","itemId","courseId","aggregateMethod","scaleId",4,"ngIf"],[1,"core-warning-card"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"],["slot","start",3,"user"],["slot","end",4,"ngIf"],["slot","end"],[1,"item-heading"],["contextLevel","module",3,"text","contextInstanceId"],[3,"file","component","componentId",4,"ngFor","ngForOf"],[3,"file","component","componentId"],[3,"file",4,"ngFor","ngForOf"],[3,"file"],[3,"tags"],["fill","clear","color","danger",3,"click",4,"ngIf"],["fill","clear",3,"click",4,"ngIf"],["fill","clear","color","danger",3,"click"],["slot","icon-only","name","fas-trash","aria-hidden","true"],["fill","clear",3,"click"],["slot","icon-only","name","fas-pen","aria-hidden","true"],["contextLevel","module","component","mod_glossary","area","glossary_entry",3,"instanceId","itemId","courseId","showItem"],["contextLevel","module",3,"ratingInfo","instanceId","itemId","itemSetId","courseId","aggregateMethod","scaleId","userId","onUpdate"],["contextLevel","module",3,"ratingInfo","instanceId","itemId","courseId","aggregateMethod","scaleId"]],template:function AddonModGlossaryEntryPage_Template(e,n){1&e&&(w.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),w._UZ(3,"ion-back-button",1),w.ALo(4,"translate"),w.qZA(),w.TgZ(5,"ion-title"),w.YNc(6,AddonModGlossaryEntryPage_h1_6_Template,2,3,"h1",2),w.qZA()()(),w.TgZ(7,"ion-content",3)(8,"ion-refresher",4),w.NdJ("ionRefresh",(function AddonModGlossaryEntryPage_Template_ion_refresher_ionRefresh_8_listener(e){return n.doRefresh(e.target)})),w._UZ(9,"ion-refresher-content",5),w.ALo(10,"translate"),w.qZA(),w.TgZ(11,"core-loading",6),w.YNc(12,AddonModGlossaryEntryPage_ng_container_12_Template,16,17,"ng-container",2)(13,AddonModGlossaryEntryPage_ion_card_13_Template,5,3,"ion-card",7),w.qZA()()),2&e&&(w.xp6(3),w.Q6J("text",w.lcZ(4,8,"core.back")),w.xp6(3),w.Q6J("ngIf",n.entry),w.xp6(),w.Q6J("core-swipe-navigation",n.entries),w.xp6(),w.Q6J("disabled",!n.loaded),w.xp6(),w.s9C("pullingText",w.lcZ(10,10,"core.pulltorefresh")),w.xp6(2),w.Q6J("hideUntil",n.loaded),w.xp6(),w.Q6J("ngIf",n.entry&&n.loaded),w.xp6(),w.Q6J("ngIf",!n.entry))},dependencies:[G.sg,G.O5,P.Y,b.r,Q.w,J.X,O.I,q.r,U.g,L.t,S.O,N.YG,N.Sm,N.PM,N.W2,N.Gu,N.gu,N.Ie,N.Q$,N.uN,N.nJ,N.Wo,N.wd,N.sr,N.oU,g.H,D.R,k.E,R.I,C.c,F.X$],encapsulation:2}),AddonModGlossaryEntryPage})();class AddonModGlossaryEntryEntriesSwipeManager extends y.t{getSelectedItemPathFromRoute(e){const n=e instanceof l.De?e:e.snapshot;return`${this.getSource().GLOSSARY_PATH_PREFIX}entry/${n.params.entrySlug}`}}const B=[{path:"",component:Y}];let $=(()=>{var e;class AddonModGlossaryEntryLazyModule{}return(e=AddonModGlossaryEntryLazyModule).ɵfac=function AddonModGlossaryEntryLazyModule_Factory(n){return new(n||e)},e.ɵmod=w.oAB({type:e}),e.ɵinj=w.cJS({imports:[l.Bz.forChild(B),o.L,r.H,i.S,a.g]}),AddonModGlossaryEntryLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&w.kYT($,{declarations:[Y],imports:[l.Bz,o.L,r.H,i.S,a.g]}))},71460:(e,n,t)=>{t.d(n,{t:()=>CoreSwipeNavigationItemsManager});var o=t(49671),r=t(67643),i=t(43555),a=t(22594);class CoreSwipeNavigationItemsManager extends a.A{start(){var e=this;return(0,o.Z)((function*(){e.updateSelectedItem()}))()}navigateToNextItem(){var e=this;return(0,o.Z)((function*(){yield e.navigateToItemBy(1,"forward")}))()}navigateToPreviousItem(){var e=this;return(0,o.Z)((function*(){yield e.navigateToItemBy(-1,"back")}))()}hasNextItem(){var e=this;return(0,o.Z)((function*(){return!!(yield e.getItemBy(1))}))()}hasPreviousItem(){var e=this;return(0,o.Z)((function*(){return!!(yield e.getItemBy(-1))}))()}getCurrentPageRoute(){return i.b.getCurrentRoute()}getSelectedItemPathFromRoute(e){const n=[];for(;e;){if(n.push(...(e instanceof r.De?e:e.snapshot).url),!e.firstChild)break;e=e.firstChild}return n.map((e=>e.path)).join("/").replace(/\/+/,"/").trim()||null}navigateToItemBy(e,n){var t=this;return(0,o.Z)((function*(){const o=yield t.getItemBy(e);o&&(yield t.navigateToItem(o,{animationDirection:n,replace:!0}))}))()}getItemBy(e){var n=this;return(0,o.Z)((function*(){var t;const o=n.getSource().getItems(),r=null!==(t=n.selectedItem&&(null==o?void 0:o.indexOf(n.selectedItem)))&&void 0!==t?t:-1;if(-1===r||null===o)return null;const i=e>0?1:-1;let a=r,l=0;for(;l!==e;){if(a+=i,a<0)return null;if(a>=o.length)break;n.skipItemInSwipe(o[a])||(l+=i)}return l===e?o[a]:n.getSource().isCompleted()?null:(yield n.getSource().load(),n.getItemBy(e))}))()}skipItemInSwipe(e){return!1}}}}]);