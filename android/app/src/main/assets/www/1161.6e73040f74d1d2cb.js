"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1161],{21161:(n,o,t)=>{t.d(o,{i:()=>g});var e=t(13386),i=t(51071),r=t(22416),c=t(61646),a=t(1713),l=t(17761),s=t(19212);let g=(()=>{var n;class CoreLoginComponentsModule{}return(n=CoreLoginComponentsModule).ɵfac=function CoreLoginComponentsModule_Factory(o){return new(o||n)},n.ɵmod=s.oAB({type:n}),n.ɵinj=s.cJS({imports:[e.L]}),CoreLoginComponentsModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&s.kYT(g,{declarations:[l.u,i.z,r.Y,c.b,a.X],imports:[e.L],exports:[l.u,i.z,r.Y,c.b,a.X]}))},17761:(n,o,t)=>{t.d(o,{u:()=>p});var e=t(49671),i=t(70955),r=t(19212),c=t(96814),a=t(86700),l=t(22068),s=t(31903),g=t(89515);function CoreLoginExceededAttemptsComponent_ion_button_6_Template(n,o){if(1&n){const n=r.EpF();r.TgZ(0,"ion-button",3),r.NdJ("click",(function CoreLoginExceededAttemptsComponent_ion_button_6_Template_ion_button_click_0_listener(){r.CHM(n);const o=r.oxw();return r.KtG(o.contactSupport())})),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&n&&(r.xp6(),r.hij(" ",r.lcZ(2,1,"core.contactsupport")," "))}const _=["*"];let p=(()=>{var n;class CoreLoginExceededAttemptsComponent{constructor(){this.canContactSupport=!1}ngOnInit(){this.canContactSupport=this.supportConfig.canContactSupport()}contactSupport(){var n=this;return(0,e.Z)((function*(){yield i.O.contact({supportConfig:n.supportConfig,subject:n.supportSubject})}))()}}return(n=CoreLoginExceededAttemptsComponent).ɵfac=function CoreLoginExceededAttemptsComponent_Factory(o){return new(o||n)},n.ɵcmp=r.Xpm({type:n,selectors:[["core-login-exceeded-attempts"]],inputs:{supportConfig:"supportConfig",supportSubject:"supportSubject"},ngContentSelectors:_,decls:7,vars:1,consts:[[1,"core-danger-card"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"],["fill","outline","color","medium",3,"click",4,"ngIf"],["fill","outline","color","medium",3,"click"]],template:function CoreLoginExceededAttemptsComponent_Template(n,o){1&n&&(r.F$t(),r.TgZ(0,"ion-card",0)(1,"ion-item"),r._UZ(2,"ion-icon",1),r.TgZ(3,"ion-label")(4,"p"),r.Hsn(5),r.qZA(),r.YNc(6,CoreLoginExceededAttemptsComponent_ion_button_6_Template,3,3,"ion-button",2),r.qZA()()()),2&n&&(r.xp6(6),r.Q6J("ngIf",o.canContactSupport))},dependencies:[c.O5,a.I,l.O,s.YG,s.PM,s.gu,s.Ie,s.Q$,g.X$],styles:["[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-left:0;margin-right:0;margin-top:16px}"]}),CoreLoginExceededAttemptsComponent})()},1713:(n,o,t)=>{t.d(o,{X:()=>m});var e=t(49671),i=t(69956),r=t(53564),c=t(63174),a=t(13010),l=t(19212),s=t(96814),g=t(86700),_=t(22068),p=t(31903),d=t(89515);function CoreLoginMethodsComponent_div_0_Template(n,o){1&n&&(l.TgZ(0,"div",4)(1,"span"),l._uU(2),l.ALo(3,"translate"),l.qZA()()),2&n&&(l.xp6(2),l.Oqu(l.lcZ(3,1,"core.login.or")))}function CoreLoginMethodsComponent_div_1_ion_button_1_ion_icon_1_Template(n,o){if(1&n&&l._UZ(0,"ion-icon",9),2&n){const n=l.oxw().$implicit;l.Q6J("name",n.icon)}}function CoreLoginMethodsComponent_div_1_ion_button_1_Template(n,o){if(1&n){const n=l.EpF();l.TgZ(0,"ion-button",7),l.NdJ("click",(function CoreLoginMethodsComponent_div_1_ion_button_1_Template_ion_button_click_0_listener(){const o=l.CHM(n);return l.KtG(o.$implicit.action())})),l.YNc(1,CoreLoginMethodsComponent_div_1_ion_button_1_ion_icon_1_Template,1,1,"ion-icon",8),l.TgZ(2,"ion-label"),l._uU(3),l.qZA()()}if(2&n){const n=o.$implicit;l.Q6J("fill","outline"),l.uIk("aria-label",n.name),l.xp6(),l.Q6J("ngIf",n.icon),l.xp6(2),l.Oqu(n.name)}}function CoreLoginMethodsComponent_div_1_Template(n,o){if(1&n&&(l.TgZ(0,"div",5),l.YNc(1,CoreLoginMethodsComponent_div_1_ion_button_1_Template,4,4,"ion-button",6),l.qZA()),2&n){const n=l.oxw();l.xp6(),l.Q6J("ngForOf",n.loginMethods)}}function CoreLoginMethodsComponent_ng_container_2_Template(n,o){if(1&n){const n=l.EpF();l.ynx(0),l.TgZ(1,"ion-button",10),l.NdJ("click",(function CoreLoginMethodsComponent_ng_container_2_Template_ion_button_click_1_listener(){l.CHM(n);const o=l.oxw();return l.KtG(o.showInstructionsAndScanQR())})),l._UZ(2,"ion-icon",11),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.BQk()}2&n&&(l.xp6(3),l.hij(" ",l.lcZ(4,1,"core.scanqr")," "))}function CoreLoginMethodsComponent_ion_list_3_ion_button_4_img_1_Template(n,o){if(1&n&&l._UZ(0,"img",17),2&n){const n=l.oxw().$implicit;l.Q6J("src",n.iconurl,l.LSH)}}function CoreLoginMethodsComponent_ion_list_3_ion_button_4_Template(n,o){if(1&n){const n=l.EpF();l.TgZ(0,"ion-button",15),l.NdJ("click",(function CoreLoginMethodsComponent_ion_list_3_ion_button_4_Template_ion_button_click_0_listener(){const o=l.CHM(n).$implicit,t=l.oxw(2);return l.KtG(t.oauthClicked(o))})),l.YNc(1,CoreLoginMethodsComponent_ion_list_3_ion_button_4_img_1_Template,1,1,"img",16),l.TgZ(2,"ion-label"),l._uU(3),l.qZA()()}if(2&n){const n=o.$implicit;l.Q6J("fill","outline"),l.uIk("aria-label",n.name),l.xp6(),l.Q6J("ngIf",n.iconurl),l.xp6(2),l.Oqu(n.name)}}function CoreLoginMethodsComponent_ion_list_3_Template(n,o){if(1&n&&(l.TgZ(0,"ion-list",12)(1,"h2",13),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.YNc(4,CoreLoginMethodsComponent_ion_list_3_ion_button_4_Template,4,4,"ion-button",14),l.qZA()),2&n){const n=l.oxw();l.xp6(2),l.Oqu(l.lcZ(3,2,"core.login.potentialidps")),l.xp6(2),l.Q6J("ngForOf",n.identityProviders)}}let m=(()=>{var n;class CoreLoginMethodsComponent{constructor(){this.reconnect=!1,this.siteUrl="",this.isBrowserSSO=!1,this.showScanQR=!1,this.loginMethods=[],this.identityProviders=[]}ngOnInit(){var n=this;return(0,e.Z)((function*(){if(n.reconnect){n.loginMethods=yield i.s.getLoginMethods();const o=r.m9.getCurrentSite(),t=yield i.s.getDefaultLoginMethod();null!=o&&o.isLoggedOut()&&t&&(yield t.action())}n.siteConfig&&(n.isBrowserSSO=i.s.isSSOLoginNeeded(n.siteConfig.typeoflogin),n.isBrowserSSO||(n.identityProviders=yield i.s.getValidIdentityProvidersForSite(c.C.makeUnauthenticatedSite(n.siteUrl,n.siteConfig))),n.reconnect&&(n.showScanQR=i.s.displayQRInSiteScreen()),n.reconnect&&n.showScanQR||(n.showScanQR=yield i.s.displayQRInCredentialsScreen(n.siteConfig.tool_mobile_qrcodetype)))}))()}showInstructionsAndScanQR(){return(0,e.Z)((function*(){try{yield i.s.showScanQRInstructions(),yield i.s.scanQR()}catch{}}))()}oauthClicked(n){var o;i.s.openBrowserForOAuthLogin(this.siteUrl,n,null===(o=this.siteConfig)||void 0===o?void 0:o.launchurl,this.redirectData)||a.OQ.showErrorModal("Invalid data.")}}return(n=CoreLoginMethodsComponent).ɵfac=function CoreLoginMethodsComponent_Factory(o){return new(o||n)},n.ɵcmp=l.Xpm({type:n,selectors:[["core-login-methods"]],inputs:{reconnect:"reconnect",siteUrl:"siteUrl",siteConfig:"siteConfig",redirectData:"redirectData"},decls:4,vars:4,consts:[["class","ion-text-center ion-padding core-login-methods-separator",4,"ngIf"],["class","core-login-methods",4,"ngIf"],[4,"ngIf"],["class","core-login-identity-providers",4,"ngIf"],[1,"ion-text-center","ion-padding","core-login-methods-separator"],[1,"core-login-methods"],["class","ion-text-wrap ion-margin","expand","block",3,"fill","click",4,"ngFor","ngForOf"],["expand","block",1,"ion-text-wrap","ion-margin",3,"fill","click"],["slot","start",3,"name",4,"ngIf"],["slot","start",3,"name"],["expand","block","fill","outline",1,"ion-margin","core-login-site-qrcode",3,"click"],["slot","start","name","fas-qrcode","aria-hidden","true"],[1,"core-login-identity-providers"],[1,"item-heading"],["class","ion-text-wrap ion-margin core-oauth-provider","expand","block",3,"fill","click",4,"ngFor","ngForOf"],["expand","block",1,"ion-text-wrap","ion-margin","core-oauth-provider",3,"fill","click"],["alt","","width","32","height","32","slot","start","aria-hidden","true",3,"src",4,"ngIf"],["alt","","width","32","height","32","slot","start","aria-hidden","true",3,"src"]],template:function CoreLoginMethodsComponent_Template(n,o){1&n&&l.YNc(0,CoreLoginMethodsComponent_div_0_Template,4,3,"div",0)(1,CoreLoginMethodsComponent_div_1_Template,2,1,"div",1)(2,CoreLoginMethodsComponent_ng_container_2_Template,5,3,"ng-container",2)(3,CoreLoginMethodsComponent_ion_list_3_Template,5,4,"ion-list",3),2&n&&(l.Q6J("ngIf",o.loginMethods.length||o.identityProviders.length||o.showScanQR),l.xp6(),l.Q6J("ngIf",o.loginMethods.length),l.xp6(),l.Q6J("ngIf",o.showScanQR),l.xp6(),l.Q6J("ngIf",o.identityProviders.length))},dependencies:[s.sg,s.O5,g.I,_.O,p.YG,p.gu,p.Q$,p.q_,d.X$],styles:['[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{--background: var(--core-login-background);--ion-item-background: var(--core-login-background);--color: var(--core-login-text-color)}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{--color: var(--core-login-text-color)}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .core-oauth-icon[_ngcontent-%COMP%]{color:var(--color)}[_nghost-%COMP%]   ion-button.core-button-as-link[_ngcontent-%COMP%]{--color: var(--core-login-text-color);text-decoration-color:var(--color)}[_nghost-%COMP%]   .core-login-reconnect-warning[_ngcontent-%COMP%]{margin:0 0 32px}[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]{margin-bottom:32px}[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%]   .core-login-site-logo[_ngcontent-%COMP%]{width:90%;max-width:300px;margin:0 auto}[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%]   .core-login-site-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:104px}[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%]   .core-sitename[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:8px}[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%]   .core-siteurl[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:0}[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%] + .core-login-user[_ngcontent-%COMP%]{margin-top:24px}[_nghost-%COMP%]   core-user-avatar.large-avatar[_ngcontent-%COMP%]{--core-avatar-size: var(--core-large-avatar-size)}[_nghost-%COMP%]   .core-login-fullname[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:0}[_nghost-%COMP%]   .core-login-methods[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-login-methods[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{--background: var(--core-login-input-background);--color: var(--core-login-input-color)}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-left:0;margin-right:0}[_nghost-%COMP%]   .core-login-forgotten-password[_ngcontent-%COMP%]{text-decoration:underline}[_nghost-%COMP%]   .core-login-methods-separator[_ngcontent-%COMP%]{position:relative;padding:8px 0}[_nghost-%COMP%]   .core-login-methods-separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--core-login-background);padding:0 8px}[_nghost-%COMP%]   .core-login-methods-separator[_ngcontent-%COMP%]:before{height:1px;position:absolute;top:50%;left:0;right:0;border-bottom:1px solid var(--gray-300);content:"";z-index:-1}[_nghost-%COMP%]   .core-login-login-button[_ngcontent-%COMP%]{margin-top:32px}[_nghost-%COMP%]   .core-login-login-inbrowser-button[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   p.core-login-inbrowser[_ngcontent-%COMP%]{font-size:12px;margin-top:8px;margin-bottom:8px}[_nghost-%COMP%]   .core-login-sign-up[_ngcontent-%COMP%]{margin-top:8px;border-top:1px solid var(--gray-300)}[_nghost-%COMP%]   .core-login-identity-providers[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-login-sign-up[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:8px;font-size:16px}html.dark[_nghost-%COMP%]   core-loading[_ngcontent-%COMP%], html.dark   [_nghost-%COMP%]   core-loading[_ngcontent-%COMP%]{--loading-background: var(--core-login-background-dark);--loading-text-color: #ffffff;--loading-spinner: #ffffff}']}),CoreLoginMethodsComponent})()},22416:(n,o,t)=>{t.d(o,{Y:()=>u});var e=t(49671),i=t(75803),r=t(10727),c=t(34369),a=t(13010),l=t(19212),s=t(96814),g=t(86700),_=t(8947),p=t(29657),d=t(22068),m=t(31903),C=t(89515);function CoreLoginSiteHelpComponent_ng_container_12_p_8_Template(n,o){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&n){const n=l.oxw().$implicit;l.xp6(),l.Oqu(n.answer.text)}}function CoreLoginSiteHelpComponent_ng_container_12_p_9_Template(n,o){if(1&n&&l._UZ(0,"p",4),2&n){const n=l.oxw().$implicit;l.Q6J("innerHTML",n.answer.text,l.oJD)}}function CoreLoginSiteHelpComponent_ng_container_12_core_format_text_10_Template(n,o){if(1&n&&l._UZ(0,"core-format-text",11),2&n){const n=l.oxw().$implicit;l.Q6J("text",n.answer.text)("filter",!1)}}function CoreLoginSiteHelpComponent_ng_container_12_Template(n,o){if(1&n){const n=l.EpF();l.ynx(0),l.TgZ(1,"ion-item",5),l.NdJ("click",(function CoreLoginSiteHelpComponent_ng_container_12_Template_ion_item_click_1_listener(){const o=l.CHM(n).$implicit,t=l.oxw();return l.KtG(t.toggle(o))})),l._UZ(2,"ion-icon",6),l.TgZ(3,"ion-label")(4,"h2"),l._uU(5),l.qZA()()(),l.TgZ(6,"ion-item",7)(7,"ion-label"),l.YNc(8,CoreLoginSiteHelpComponent_ng_container_12_p_8_Template,2,1,"p",8)(9,CoreLoginSiteHelpComponent_ng_container_12_p_9_Template,1,1,"p",9)(10,CoreLoginSiteHelpComponent_ng_container_12_core_format_text_10_Template,1,2,"core-format-text",10),l.qZA()(),l.BQk()}if(2&n){const n=o.$implicit,t=l.oxw();l.xp6(),l.Q6J("detail",!1),l.uIk("aria-expanded",t.isOpen(n))("aria-controls","question-"+n.id+"-answer"),l.xp6(),l.ekj("expandable-status-icon-expanded",t.isOpen(n)),l.xp6(3),l.Oqu(n.text),l.xp6(),l.Tol(n.answer.class+" ion-text-wrap core-login-site-help--answer"),l.ekj("open",t.isOpen(n)),l.Q6J("id","question-"+n.id+"-answer")("tabindex",t.isOpen(n)?null:-1),l.uIk("inert",t.isOpen(n)?null:"true"),l.xp6(2),l.Q6J("ngIf","text"===n.answer.format),l.xp6(),l.Q6J("ngIf","safe-html"===n.answer.format),l.xp6(),l.Q6J("ngIf","unsafe-html"===n.answer.format)}}let u=(()=>{var n;class CoreLoginSiteHelpComponent{constructor(n){this.el=n,this.questions=[],this.hydrated=!1,this.promises=[];const o=r.vN.instant("core.login.faqsetupsitelinktitle"),t=i.Tr.canScanQR(),e=c.mO,a=c.lQ,l=`<a href="${c.WI}" title="${o}">${c.WI}</a>`,s=[{text:r.vN.instant("core.login.faqwhatisurlquestion"),answer:{text:r.vN.instant("core.login.faqwhatisurlanswer",{$image:e}),format:h.SafeHTML,class:"core-login-faqwhatisurlanswer"}},{text:r.vN.instant("core.login.faqcannotfindmysitequestion"),answer:{text:r.vN.instant("core.login.faqcannotfindmysiteanswer"),format:h.Text}},{text:r.vN.instant("core.login.faqcantloginquestion"),answer:{text:r.vN.instant("core.login.faqcantloginanswer"),format:h.SafeHTML}},t&&{text:r.vN.instant("core.login.faqwhereisqrcode"),answer:{text:r.vN.instant("core.login.faqwhereisqrcodeanswer",{$image:a}),format:h.SafeHTML,class:"core-login-faqwhereisqrcodeanswer"}},{text:r.vN.instant("core.login.faqsetupsitequestion"),answer:{text:r.vN.instant("core.login.faqsetupsiteanswer",{$link:l}),format:h.UnsafeHTML}},{text:r.vN.instant("core.login.faqtestappquestion"),answer:{text:r.vN.instant("core.login.faqtestappanswer"),format:h.SafeHTML}}];for(const n of s){var g;n&&this.questions.push({...n,id:this.questions.length+1,answer:{...n.answer,class:null!==(g=n.answer.class)&&void 0!==g?g:""}})}}ngAfterViewInit(){var n=this;return(0,e.Z)((function*(){const o=Array.from(n.el.nativeElement.querySelectorAll(".core-login-site-help--answer"));yield Promise.all(o.map(function(){var o=(0,e.Z)((function*(o){yield n.track(i.Tr.waitFor((()=>0!==o.clientHeight))),yield n.track(a.OQ.waitForImages(o)),o.style.setProperty("--height",`${o.clientHeight}px`)}));return function(n){return o.apply(this,arguments)}}())),n.hydrated=!0}))()}ngOnDestroy(){this.promises.forEach((n=>n.cancel()))}isOpen(n){return this.openQuestion===n.id}toggle(n){if(n.id===this.openQuestion)return delete this.openQuestion,void 0;this.openQuestion=n.id}close(){r.IN.dismiss()}track(n){const remove=()=>{const o=this.promises.indexOf(n);-1!==o&&this.promises.splice(o,1)};return this.promises.push(n),n.then(remove).catch(remove),n}}return(n=CoreLoginSiteHelpComponent).ɵfac=function CoreLoginSiteHelpComponent_Factory(o){return new(o||n)(l.Y36(l.SBq))},n.ɵcmp=l.Xpm({type:n,selectors:[["core-login-site-help"]],hostVars:2,hostBindings:function CoreLoginSiteHelpComponent_HostBindings(n,o){2&n&&l.ekj("hydrated",o.hydrated)},decls:17,vars:10,consts:[["slot","end"],["fill","clear",3,"click"],["slot","icon-only","name","fas-xmark","aria-hidden","true"],[4,"ngFor","ngForOf"],[3,"innerHTML"],["button","","role","heading",1,"ion-text-wrap","divider",3,"detail","click"],["name","fas-chevron-right","flip-rtl","","slot","start","aria-hidden","true",1,"expandable-status-icon"],[3,"id","tabindex"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"text","filter",4,"ngIf"],[3,"text","filter"]],template:function CoreLoginSiteHelpComponent_Template(n,o){1&n&&(l.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"h1"),l._uU(4),l.ALo(5,"translate"),l.qZA()(),l.TgZ(6,"ion-buttons",0)(7,"ion-button",1),l.NdJ("click",(function CoreLoginSiteHelpComponent_Template_ion_button_click_7_listener(){return o.close()})),l.ALo(8,"translate"),l._UZ(9,"ion-icon",2),l.qZA()()()(),l.TgZ(10,"ion-content")(11,"ion-list"),l.YNc(12,CoreLoginSiteHelpComponent_ng_container_12_Template,11,16,"ng-container",3),l.TgZ(13,"ion-item")(14,"ion-label"),l._UZ(15,"p",4),l.ALo(16,"translate"),l.qZA()()()()),2&n&&(l.xp6(4),l.Oqu(l.lcZ(5,4,"core.login.help")),l.xp6(3),l.uIk("aria-label",l.lcZ(8,6,"core.close")),l.xp6(5),l.Q6J("ngForOf",o.questions),l.xp6(3),l.Q6J("innerHTML",l.lcZ(16,8,"core.login.faqmore"),l.oJD))},dependencies:[s.sg,s.O5,g.I,_.r,p.t,d.O,m.YG,m.Sm,m.W2,m.Gu,m.gu,m.Ie,m.Q$,m.q_,m.wd,m.sr,C.X$],styles:["[_nghost-%COMP%]   .core-login-faqwhatisurlanswer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:50px}[_nghost-%COMP%]   .core-login-faqwhereisqrcodeanswer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:220px;margin-top:5px;margin-bottom:5px}[_nghost-%COMP%]:not(.hydrated)   .core-login-site-help--answer[_ngcontent-%COMP%]{opacity:0;max-width:100%;position:absolute;pointer-events:none}.hydrated[_nghost-%COMP%]   .core-login-site-help--answer[_ngcontent-%COMP%]{height:0;transition:height .2s ease-in-out}.hydrated[_nghost-%COMP%]   .core-login-site-help--answer.open[_ngcontent-%COMP%]{height:var(--height)}"]}),CoreLoginSiteHelpComponent})();var h=function(n){return n.Text="text",n.SafeHTML="safe-html",n.UnsafeHTML="unsafe-html",n}(h||{})},51071:(n,o,t)=>{t.d(o,{z:()=>m});var e=t(5973),i=t(75803),r=t(34369),c=t(10727),a=t(19212),l=t(96814),s=t(86700),g=t(29657),_=t(22068),p=t(31903),d=t(89515);function CoreLoginSiteOnboardingComponent_div_19_Template(n,o){if(1&n){const n=a.EpF();a.TgZ(0,"div",7)(1,"ion-button",9),a.NdJ("click",(function CoreLoginSiteOnboardingComponent_div_19_Template_ion_button_click_1_listener(o){a.CHM(n);const t=a.oxw();return a.KtG(t.skip(o))})),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"ion-button",9),a.NdJ("click",(function CoreLoginSiteOnboardingComponent_div_19_Template_ion_button_click_4_listener(o){a.CHM(n);const t=a.oxw();return a.KtG(t.next(o))})),a._uU(5),a.ALo(6,"translate"),a.qZA()()}2&n&&(a.xp6(2),a.hij(" ",a.lcZ(3,2,"core.login.onboardingimalearner")," "),a.xp6(3),a.hij(" ",a.lcZ(6,4,"core.login.onboardingimaneducator")," "))}function CoreLoginSiteOnboardingComponent_div_20_Template(n,o){if(1&n){const n=a.EpF();a.TgZ(0,"div",7)(1,"p",10),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"ion-button",9),a.NdJ("click",(function CoreLoginSiteOnboardingComponent_div_20_Template_ion_button_click_4_listener(o){a.CHM(n);const t=a.oxw();return a.KtG(t.skip(o))})),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.TgZ(7,"ion-button",11),a.NdJ("click",(function CoreLoginSiteOnboardingComponent_div_20_Template_ion_button_click_7_listener(o){a.CHM(n);const t=a.oxw();return a.KtG(t.next(o))})),a._uU(8),a.ALo(9,"translate"),a.qZA()()}2&n&&(a.xp6(2),a.hij(" ",a.lcZ(3,3,"core.login.onboardingtoconnect")," "),a.xp6(3),a.hij(" ",a.lcZ(6,5,"core.login.onboardingialreadyhaveasite")," "),a.xp6(3),a.hij(" ",a.lcZ(9,7,"core.login.onboardingineedasite")," "))}function CoreLoginSiteOnboardingComponent_div_21_Template(n,o){if(1&n){const n=a.EpF();a.TgZ(0,"div",7)(1,"ul",12)(2,"li"),a._UZ(3,"ion-icon",13),a._uU(4),a.ALo(5,"translate"),a.qZA(),a.TgZ(6,"li"),a._UZ(7,"ion-icon",13),a._uU(8),a.ALo(9,"translate"),a.qZA(),a.TgZ(10,"li"),a._UZ(11,"ion-icon",13),a._uU(12),a.ALo(13,"translate"),a.qZA()(),a.TgZ(14,"ion-button",11),a.NdJ("click",(function CoreLoginSiteOnboardingComponent_div_21_Template_ion_button_click_14_listener(o){a.CHM(n);const t=a.oxw();return a.KtG(t.gotoWeb(o))})),a._uU(15),a.ALo(16,"translate"),a.qZA()()}2&n&&(a.xp6(4),a.hij(" ",a.lcZ(5,4,"core.login.onboardingcreatemanagecourses")," "),a.xp6(4),a.hij(" ",a.lcZ(9,6,"core.login.onboardingenrolmanagestudents")," "),a.xp6(4),a.hij(" ",a.lcZ(13,8,"core.login.onboardingprovidefeedback")," "),a.xp6(3),a.hij(" ",a.lcZ(16,10,"core.login.onboardinggetstarted")," "))}let m=(()=>{var n;class CoreLoginSiteOnboardingComponent{constructor(){this.step=0}next(n){n.stopPropagation(),this.step++}previous(n){n.stopPropagation(),0==this.step?c.IN.dismiss():this.step--}skip(n){n.stopPropagation(),this.saveOnboardingDone(),c.IN.dismiss()}gotoWeb(n){n.stopPropagation(),this.saveOnboardingDone(),i.Tr.openInBrowser(r.WI,{showBrowserWarning:!1}),c.IN.dismiss()}saveOnboardingDone(){e.b.set(r.Jx,1)}}return(n=CoreLoginSiteOnboardingComponent).ɵfac=function CoreLoginSiteOnboardingComponent_Factory(o){return new(o||n)},n.ɵcmp=a.Xpm({type:n,selectors:[["core-login-site-onboarding"]],decls:22,vars:15,consts:[["slot","start"],["fill","clear",3,"click"],["slot","icon-only","name","fas-arrow-left","aria-hidden","true"],["slot","end"],[1,"ion-padding"],[1,"ion-text-center","ion-padding","core-login-site-logo"],["src","assets/img/login_logo.png","role","presentation","alt","",1,"avatar-full","login-logo"],[1,"core-login-onboarding-step"],["class","core-login-onboarding-step",4,"ngIf"],["expand","block","fill","outline",1,"ion-margin-bottom",3,"click"],[1,"core-login-onboarding-text"],["expand","block",1,"ion-margin-bottom",3,"click"],[1,"core-login-onboarding-text","ion-text-start"],["name","far-circle-check","aria-hidden","true"]],template:function CoreLoginSiteOnboardingComponent_Template(n,o){1&n&&(a.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),a.NdJ("click",(function CoreLoginSiteOnboardingComponent_Template_ion_button_click_3_listener(n){return o.previous(n)})),a.ALo(4,"translate"),a._UZ(5,"ion-icon",2),a.qZA()(),a._UZ(6,"ion-title"),a.TgZ(7,"ion-buttons",3)(8,"ion-button",1),a.NdJ("click",(function CoreLoginSiteOnboardingComponent_Template_ion_button_click_8_listener(n){return o.skip(n)})),a.ALo(9,"translate"),a._uU(10),a.ALo(11,"translate"),a.qZA()()()(),a.TgZ(12,"ion-content",4)(13,"div")(14,"div",5),a._UZ(15,"img",6),a.qZA(),a.TgZ(16,"h1",7),a._uU(17),a.ALo(18,"translate"),a.qZA(),a.YNc(19,CoreLoginSiteOnboardingComponent_div_19_Template,7,6,"div",8)(20,CoreLoginSiteOnboardingComponent_div_20_Template,10,9,"div",8)(21,CoreLoginSiteOnboardingComponent_div_21_Template,17,12,"div",8),a.qZA()()),2&n&&(a.xp6(3),a.uIk("aria-label",a.lcZ(4,7,"core.back")),a.xp6(5),a.uIk("aria-label",a.lcZ(9,9,"core.skip")),a.xp6(2),a.hij(" ",a.lcZ(11,11,"core.skip")," "),a.xp6(7),a.hij(" ",a.lcZ(18,13,"core.login.onboardingwelcome")," "),a.xp6(2),a.Q6J("ngIf",0===o.step),a.xp6(),a.Q6J("ngIf",1===o.step),a.xp6(),a.Q6J("ngIf",2===o.step))},dependencies:[l.O5,s.I,g.t,_.O,p.YG,p.Sm,p.W2,p.Gu,p.gu,p.wd,p.sr,d.X$],styles:["[_nghost-%COMP%]   .core-login-onboarding-step[_ngcontent-%COMP%]{padding:10px 20px;text-align:center;margin:0 auto}@media (min-width: 768px){[_nghost-%COMP%]   .core-login-onboarding-step[_ngcontent-%COMP%]{max-width:80%}}[_nghost-%COMP%]   .core-login-onboarding-step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .core-login-onboarding-step[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:30px;list-style-type:none;padding-inline-start:10px}[_nghost-%COMP%]   .core-login-onboarding-step[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .core-login-onboarding-step[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{margin-top:20px}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px}",'[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{--background: var(--core-login-background);--ion-item-background: var(--core-login-background);--color: var(--core-login-text-color)}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{--color: var(--core-login-text-color)}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .core-oauth-icon[_ngcontent-%COMP%]{color:var(--color)}[_nghost-%COMP%]   ion-button.core-button-as-link[_ngcontent-%COMP%]{--color: var(--core-login-text-color);text-decoration-color:var(--color)}[_nghost-%COMP%]   .core-login-reconnect-warning[_ngcontent-%COMP%]{margin:0 0 32px}[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]{margin-bottom:32px}[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%]   .core-login-site-logo[_ngcontent-%COMP%]{width:90%;max-width:300px;margin:0 auto}[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%]   .core-login-site-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:104px}[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%]   .core-sitename[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:8px}[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%]   .core-siteurl[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:0}[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%] + .core-login-user[_ngcontent-%COMP%]{margin-top:24px}[_nghost-%COMP%]   core-user-avatar.large-avatar[_ngcontent-%COMP%]{--core-avatar-size: var(--core-large-avatar-size)}[_nghost-%COMP%]   .core-login-fullname[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:0}[_nghost-%COMP%]   .core-login-methods[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-login-methods[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{--background: var(--core-login-input-background);--color: var(--core-login-input-color)}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-left:0;margin-right:0}[_nghost-%COMP%]   .core-login-forgotten-password[_ngcontent-%COMP%]{text-decoration:underline}[_nghost-%COMP%]   .core-login-methods-separator[_ngcontent-%COMP%]{position:relative;padding:8px 0}[_nghost-%COMP%]   .core-login-methods-separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--core-login-background);padding:0 8px}[_nghost-%COMP%]   .core-login-methods-separator[_ngcontent-%COMP%]:before{height:1px;position:absolute;top:50%;left:0;right:0;border-bottom:1px solid var(--gray-300);content:"";z-index:-1}[_nghost-%COMP%]   .core-login-login-button[_ngcontent-%COMP%]{margin-top:32px}[_nghost-%COMP%]   .core-login-login-inbrowser-button[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   p.core-login-inbrowser[_ngcontent-%COMP%]{font-size:12px;margin-top:8px;margin-bottom:8px}[_nghost-%COMP%]   .core-login-sign-up[_ngcontent-%COMP%]{margin-top:8px;border-top:1px solid var(--gray-300)}[_nghost-%COMP%]   .core-login-identity-providers[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-login-sign-up[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:8px;font-size:16px}html.dark[_nghost-%COMP%]   core-loading[_ngcontent-%COMP%], html.dark   [_nghost-%COMP%]   core-loading[_ngcontent-%COMP%]{--loading-background: var(--core-login-background-dark);--loading-text-color: #ffffff;--loading-spinner: #ffffff}']}),CoreLoginSiteOnboardingComponent})()},61646:(n,o,t)=>{t.d(o,{b:()=>b});var e=t(49671),i=t(13010),r=t(53564),c=t(69956),a=t(43555),l=t(48959),s=t(7351),g=t(10727),_=t(19212),p=t(96814),d=t(66931),m=t(65931),C=t(73946),u=t(86700),h=t(29657),f=t(22068),M=t(31903),O=t(89515);function CoreLoginSitesModalComponent_ion_button_11_Template(n,o){if(1&n){const n=_.EpF();_.TgZ(0,"ion-button",12),_.NdJ("click",(function CoreLoginSitesModalComponent_ion_button_11_Template_ion_button_click_0_listener(){_.CHM(n);const o=_.oxw();return _.KtG(o.toggleDelete())})),_.ALo(1,"translate"),_._UZ(2,"ion-icon",13),_.qZA()}2&n&&_.uIk("aria-label",_.lcZ(1,1,"core.login.toggleremove"))}function CoreLoginSitesModalComponent_ng_template_15_ion_icon_0_Template(n,o){1&n&&_._UZ(0,"ion-icon",16)}const _c0=n=>({count:n});function CoreLoginSitesModalComponent_ng_template_15_ng_container_1_ion_badge_1_Template(n,o){if(1&n&&(_.TgZ(0,"ion-badge",3)(1,"span",19),_._uU(2),_.qZA(),_.TgZ(3,"span",11),_._uU(4),_.ALo(5,"translate"),_.qZA()()),2&n){const n=_.oxw(2).site;_.Q6J("@coreShowHideAnimation",void 0),_.xp6(2),_.Oqu(n.badge),_.xp6(2),_.Oqu(_.xi3(5,3,"core.login.sitebadgedescription",_.VKq(6,_c0,n.badge)))}}function CoreLoginSitesModalComponent_ng_template_15_ng_container_1_ion_button_2_Template(n,o){if(1&n){const n=_.EpF();_.TgZ(0,"ion-button",20),_.NdJ("click",(function CoreLoginSitesModalComponent_ng_template_15_ng_container_1_ion_button_2_Template_ion_button_click_0_listener(o){_.CHM(n);const t=_.oxw(2).site,e=_.oxw();return _.KtG(e.deleteSite(o,t))})),_.ALo(1,"translate"),_._UZ(2,"ion-icon",21),_.qZA()}2&n&&(_.Q6J("@coreSlideInOut","fromRight"),_.uIk("aria-label",_.lcZ(1,2,"core.login.removeaccount")))}function CoreLoginSitesModalComponent_ng_template_15_ng_container_1_Template(n,o){if(1&n&&(_.ynx(0),_.YNc(1,CoreLoginSitesModalComponent_ng_template_15_ng_container_1_ion_badge_1_Template,6,8,"ion-badge",17)(2,CoreLoginSitesModalComponent_ng_template_15_ng_container_1_ion_button_2_Template,3,4,"ion-button",18),_.BQk()),2&n){const n=_.oxw().site,o=_.oxw();_.xp6(),_.Q6J("ngIf",!o.showDelete&&n.badge),_.xp6(),_.Q6J("ngIf",o.showDelete)}}function CoreLoginSitesModalComponent_ng_template_15_Template(n,o){if(1&n&&_.YNc(0,CoreLoginSitesModalComponent_ng_template_15_ion_icon_0_Template,1,0,"ion-icon",14)(1,CoreLoginSitesModalComponent_ng_template_15_ng_container_1_Template,3,2,"ng-container",15),2&n){const n=o.isCurrentSite;_.Q6J("ngIf",n),_.xp6(),_.Q6J("ngIf",!n)}}let b=(()=>{var n;class CoreLoginSitesModalComponent{constructor(){this.accountsList={sameSite:[],otherSites:[],count:0},this.showDelete=!1,this.loaded=!1,this.currentSiteId=r.m9.getRequiredCurrentSite().getId()}ngOnInit(){var n=this;return(0,e.Z)((function*(){n.accountsList=yield c.s.getAccountsList(),n.loaded=!0}))()}add(n){var o=this;return(0,e.Z)((function*(){yield o.close(n,!0),yield c.s.goToAddSite(!0,!0)}))()}deleteSite(n,o){var t=this;return(0,e.Z)((function*(){n.stopPropagation();let e=o.siteName||"";e=yield l.G.formatText(e,{clean:!0,singleLine:!0,filter:!1},[],o.id);try{yield i.OQ.showDeleteConfirm("core.login.confirmdeletesite",{sitename:e})}catch{return}try{yield c.s.deleteAccountFromList(t.accountsList,o),t.showDelete=!1}catch(n){i.OQ.showErrorModalDefault(n,"core.login.errordeletesite",!0)}}))()}login(n){var o=this;return(0,e.Z)((function*(){yield o.close(void 0,!0),yield a.b.navigateToSiteHome({preferCurrentTab:!1,siteId:n.id})}))()}toggleDelete(){this.showDelete=!this.showDelete}close(n,o=!1){return(0,e.Z)((function*(){null==n||n.preventDefault(),null==n||n.stopPropagation(),yield g.IN.dismiss(o)}))()}}return(n=CoreLoginSitesModalComponent).ɵfac=function CoreLoginSitesModalComponent_Factory(o){return new(o||n)},n.ɵcmp=_.Xpm({type:n,selectors:[["core-login-sites-modal"]],decls:24,vars:17,consts:[["slot","start"],["fill","clear",1,"ion-back-button",3,"click"],["ios","chevron-back","md","arrow-back-sharp","slot","icon-only","aria-hidden","true"],["slot","end"],["fill","clear",3,"click",4,"ngIf"],[3,"hideUntil"],[3,"accountsList","sitesClickable","currentSiteClickable","onSiteClicked"],["siteItem",""],["slot","fixed","core-fab","","vertical","bottom","horizontal","end"],[3,"click"],["name","fas-plus","aria-hidden","true"],[1,"sr-only"],["fill","clear",3,"click"],["slot","icon-only","name","fas-pen","aria-hidden","true"],["color","success","name","fas-check",4,"ngIf"],[4,"ngIf"],["color","success","name","fas-check"],["slot","end",4,"ngIf"],["slot","end","fill","clear","color","danger",3,"click",4,"ngIf"],["aria-hidden","true"],["slot","end","fill","clear","color","danger",3,"click"],["name","fas-trash","slot","icon-only","aria-hidden","true"]],template:function CoreLoginSitesModalComponent_Template(n,o){1&n&&(_.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),_.NdJ("click",(function CoreLoginSitesModalComponent_Template_ion_button_click_3_listener(n){return o.close(n)})),_.ALo(4,"translate"),_._UZ(5,"ion-icon",2),_.qZA()(),_.TgZ(6,"ion-title")(7,"h1"),_._uU(8),_.ALo(9,"translate"),_.qZA()(),_.TgZ(10,"ion-buttons",3),_.YNc(11,CoreLoginSitesModalComponent_ion_button_11_Template,3,3,"ion-button",4),_.qZA()()(),_.TgZ(12,"ion-content")(13,"core-loading",5)(14,"core-sites-list",6),_.NdJ("onSiteClicked",(function CoreLoginSitesModalComponent_Template_core_sites_list_onSiteClicked_14_listener(n){return o.login(n)})),_.YNc(15,CoreLoginSitesModalComponent_ng_template_15_Template,2,2,"ng-template",null,7,_.W1O),_.qZA()(),_.TgZ(17,"ion-fab",8)(18,"ion-fab-button",9),_.NdJ("click",(function CoreLoginSitesModalComponent_Template_ion_fab_button_click_18_listener(n){return o.add(n)})),_.ALo(19,"translate"),_._UZ(20,"ion-icon",10),_.TgZ(21,"span",11),_._uU(22),_.ALo(23,"translate"),_.qZA()()()()),2&n&&(_.xp6(3),_.uIk("aria-label",_.lcZ(4,9,"core.back")),_.xp6(5),_.Oqu(_.lcZ(9,11,"core.mainmenu.switchaccount")),_.xp6(3),_.Q6J("ngIf",o.accountsList.count>1),_.xp6(2),_.Q6J("hideUntil",o.loaded),_.xp6(),_.Q6J("accountsList",o.accountsList)("sitesClickable",!0)("currentSiteClickable",!1),_.xp6(4),_.uIk("aria-label",_.lcZ(19,13,"core.login.add")),_.xp6(4),_.Oqu(_.lcZ(23,15,"core.login.add")))},dependencies:[p.O5,d.r,m.Z,C.U,u.I,h.t,f.O,M.yp,M.YG,M.Sm,M.W2,M.IJ,M.W4,M.Gu,M.gu,M.wd,M.sr,O.X$],encapsulation:2,data:{animation:[s.j.SLIDE_IN_OUT,s.j.SHOW_HIDE]}}),CoreLoginSitesModalComponent})()}}]);