"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6603],{96603:(e,t,o)=>{o.r(t),o.d(t,{CoreMainMenuHomeLazyModule:()=>Z});var n=o(19212),a=o(67643),i=o(13386),r=o(39716),s=o(19378),l=o(56283),u=o(54592),c=o(49671),d=o(53564),m=o(98370),p=o(10994),g=o(70953),b=o(75803),M=o(52467),_=o(96814),h=o(55126),f=o(66931),C=o(8947),y=o(31903),v=o(83431),H=o(89515);function CoreMainMenuHomePage_core_empty_box_12_Template(e,t){1&e&&(n._UZ(0,"core-empty-box",8),n.ALo(1,"translate")),2&e&&n.Q6J("message",n.lcZ(1,1,"core.courses.nocourses"))}function CoreMainMenuHomePage_core_tabs_outlet_13_Template(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"core-tabs-outlet",9),n.NdJ("ionChange",(function CoreMainMenuHomePage_core_tabs_outlet_13_Template_core_tabs_outlet_ionChange_0_listener(){n.CHM(e);const t=n.oxw();return n.KtG(t.tabSelected())})),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("hideUntil",e.loaded)("tabs",e.tabs)}}let x=(()=>{var e;class CoreMainMenuHomePage{constructor(){this.siteName="",this.tabs=[],this.loaded=!1}ngOnInit(){var e=this;return(0,c.Z)((function*(){e.deepLinkManager=new M.L,yield e.loadSiteName(),e.subscription=g.L.getHandlersObservable().subscribe((t=>{t&&e.initHandlers(t)})),e.updateSiteObserver=m.R.on(m.R.SITE_UPDATED,(0,c.Z)((function*(){yield e.loadSiteName()})),d.m9.getCurrentSiteId())}))()}initHandlers(e){const t=g.L.areHandlersLoaded(),o=b.Tr.arrayToObject(e,"title"),n=e.map((e=>{const t=this.tabs.find((t=>t.title==e.title));return t||{page:`/main/${s.V.PAGE_NAME}/${e.page}`,pageParams:e.pageParams,title:e.title,class:e.class,icon:e.icon,badge:e.badge}}));n.sort(((e,t)=>(o[t.title].priority||0)-(o[e.title].priority||0))),this.tabs=n,setTimeout((()=>{this.loaded=t}),50)}loadSiteName(){var e=this;return(0,c.Z)((function*(){const t=d.m9.getRequiredCurrentSite();e.siteName=(yield t.getSiteName())||""}))()}tabSelected(){var e;null===(e=this.deepLinkManager)||void 0===e||e.treatLink()}ionViewDidEnter(){var e;null===(e=this.tabsComponent)||void 0===e||e.ionViewDidEnter()}ionViewDidLeave(){var e;null===(e=this.tabsComponent)||void 0===e||e.ionViewDidLeave()}}return(e=CoreMainMenuHomePage).ɵfac=function CoreMainMenuHomePage_Factory(t){return new(t||e)},e.ɵcmp=n.Xpm({type:e,selectors:[["page-core-mainmenu-home"]],viewQuery:function CoreMainMenuHomePage_Query(e,t){if(1&e&&n.Gf(p.W,5),2&e){let e;n.iGM(e=n.CRH())&&(t.tabsComponent=e.first)}},decls:14,vars:9,consts:[["slot","start"],[3,"text"],["contextLevel","system",1,"core-header-sitename",3,"text","contextInstanceId"],["src","assets/img/top_logo.png",1,"core-header-logo",3,"alt"],["slot","end"],[3,"hideUntil"],["icon","fas-house",3,"message",4,"ngIf"],[3,"hideUntil","tabs","ionChange",4,"ngIf"],["icon","fas-house",3,"message"],[3,"hideUntil","tabs","ionChange"]],template:function CoreMainMenuHomePage_Template(e,t){1&e&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),n._UZ(3,"ion-back-button",1),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"ion-title")(6,"h1"),n._UZ(7,"core-format-text",2)(8,"img",3),n.qZA()(),n.TgZ(9,"ion-buttons",4),n._UZ(10,"core-user-menu-button"),n.qZA()()(),n.TgZ(11,"core-loading",5),n.YNc(12,CoreMainMenuHomePage_core_empty_box_12_Template,2,3,"core-empty-box",6),n.qZA(),n.YNc(13,CoreMainMenuHomePage_core_tabs_outlet_13_Template,1,2,"core-tabs-outlet",7)),2&e&&(n.xp6(3),n.Q6J("text",n.lcZ(4,7,"core.back")),n.xp6(4),n.Q6J("text",t.siteName)("contextInstanceId",0),n.xp6(),n.Q6J("alt",t.siteName),n.xp6(3),n.Q6J("hideUntil",t.loaded),n.xp6(),n.Q6J("ngIf",0===t.tabs.length),n.xp6(),n.Q6J("ngIf",t.tabs.length>0))},dependencies:[_.O5,h.z,f.r,p.W,C.r,y.Sm,y.Gu,y.wd,y.sr,y.oU,v.o,H.X$],encapsulation:2}),CoreMainMenuHomePage})();function buildRoutes(e){const t=(0,u.v)(e);return[...(0,r.o)(e,{path:"",data:{mainMenuTabRoot:s.V.PAGE_NAME},component:x,children:t.children}),...t.siblings]}let Z=(()=>{var e;class CoreMainMenuHomeLazyModule{}return(e=CoreMainMenuHomeLazyModule).ɵfac=function CoreMainMenuHomeLazyModule_Factory(t){return new(t||e)},e.ɵmod=n.oAB({type:e}),e.ɵinj=n.cJS({providers:[{provide:a.Z6,multi:!0,useFactory:buildRoutes,deps:[n.zs3]}],imports:[i.L,l.g,a.Bz]}),CoreMainMenuHomeLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&n.kYT(Z,{declarations:[x],imports:[i.L,l.g],exports:[a.Bz]}))}}]);