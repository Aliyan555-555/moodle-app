"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2372],{72372:(e,t,n)=>{n.r(t),n.d(t,{CoreSettingsLazyModule:()=>me});var i=n(67643),o=n(23966),s=n(13386),a=n(38049),r=n(49671),l=n(30242),c=n(1389),g=n(18005),_=n(54129),p=n(83521),u=n(43571);class CoreSettingsSectionsSource extends _.H{loadPageItems(){return(0,r.Z)((function*(){const e=[{name:"core.settings.general",path:"general",icon:"fas-wrench"},{name:"core.settings.spaceusage",path:"spaceusage",icon:"fas-list-check"},{name:"core.settings.synchronization",path:"sync",icon:g.i.ICON_SYNC}];return u.n.isIOS()&&e.push({name:"core.sharedfiles.sharedfiles",path:p.LK+"/list/root",icon:"fas-folder",params:{manage:!0}}),e.push({name:"core.settings.about",path:"about",icon:"fas-id-card"}),{items:e}}))()}getItemPath(e){return e.path}getItemQueryParams(e){return e.params||{}}}var d=n(25233),m=n(19212),f=n(96814),h=n(86700),S=n(29657),T=n(31903),Z=n(89515);function CoreSettingsIndexPage_ion_item_13_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",4),m.NdJ("click",(function CoreSettingsIndexPage_ion_item_13_Template_ion_item_click_0_listener(){const t=m.CHM(e).$implicit,n=m.oxw();return m.KtG(n.sections.select(t))})),m._UZ(1,"ion-icon",5),m.TgZ(2,"ion-label"),m._uU(3),m.ALo(4,"translate"),m.qZA()()}if(2&e){const e=t.$implicit,n=m.oxw();m.Q6J("detail",!0),m.uIk("aria-current",n.sections.getItemAriaCurrent(e)),m.xp6(),m.Q6J("name",e.icon),m.xp6(2),m.Oqu(m.lcZ(4,4,e.name))}}let C=(()=>{var e;class CoreSettingsIndexPage{constructor(){const e=d.p.getOrCreateSource(CoreSettingsSectionsSource,[]);this.sections=new c.a(e,CoreSettingsIndexPage)}ngAfterViewInit(){var e=this;return(0,r.Z)((function*(){yield e.sections.load(),yield e.sections.start(e.splitView)}))()}ngOnDestroy(){this.sections.destroy()}}return(e=CoreSettingsIndexPage).ɵfac=function CoreSettingsIndexPage_Factory(t){return new(t||e)},e.ɵcmp=m.Xpm({type:e,selectors:[["page-core-settings-index"]],viewQuery:function CoreSettingsIndexPage_Query(e,t){if(1&e&&m.Gf(l.A,5),2&e){let e;m.iGM(e=m.CRH())&&(t.splitView=e.first)}},decls:14,vars:7,consts:[["slot","start"],[3,"text"],["slot","end"],["button","",3,"detail","click",4,"ngFor","ngForOf"],["button","",3,"detail","click"],["slot","start","aria-hidden","true",3,"name"]],template:function CoreSettingsIndexPage_Template(e,t){1&e&&(m.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),m._UZ(3,"ion-back-button",1),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"ion-title")(6,"h1"),m._uU(7),m.ALo(8,"translate"),m.qZA()(),m._UZ(9,"ion-buttons",2),m.qZA()(),m.TgZ(10,"ion-content")(11,"core-split-view")(12,"ion-list"),m.YNc(13,CoreSettingsIndexPage_ion_item_13_Template,5,6,"ion-item",3),m.qZA()()()),2&e&&(m.xp6(3),m.Q6J("text",m.lcZ(4,3,"core.back")),m.xp6(4),m.Oqu(m.lcZ(8,5,"core.settings.appsettings")),m.xp6(6),m.Q6J("ngForOf",t.sections.items))},dependencies:[f.sg,l.A,h.I,S.t,T.Sm,T.W2,T.Gu,T.gu,T.Ie,T.Q$,T.q_,T.wd,T.sr,T.oU,Z.X$],encapsulation:2}),CoreSettingsIndexPage})();var v=n(98370),I=n(53564),x=n(13010),b=n(5973),A=n(23939),y=n(10727),P=n(69956),L=n(81370),q=n(43555),O=n(61341),w=n(66931),U=n(78308),D=n(65931),J=n(22068),N=n(56223);function CoreSettingsSynchronizationPage_ion_card_26_ng_container_4_Template(e,t){1&e&&(m.ynx(0),m._uU(1),m.ALo(2,"translate"),m.BQk()),2&e&&(m.xp6(),m.hij(" ",m.lcZ(2,1,"core.settings.connectwifitosync"),""))}function CoreSettingsSynchronizationPage_ion_card_26_ng_container_5_Template(e,t){1&e&&(m.ynx(0),m._uU(1),m.ALo(2,"translate"),m.BQk()),2&e&&(m.xp6(),m.Oqu(m.lcZ(2,1,"core.settings.connecttosync")))}function CoreSettingsSynchronizationPage_ion_card_26_Template(e,t){if(1&e&&(m.TgZ(0,"ion-card",11)(1,"ion-item",7),m._UZ(2,"ion-icon",12),m.TgZ(3,"ion-label"),m.YNc(4,CoreSettingsSynchronizationPage_ion_card_26_ng_container_4_Template,3,3,"ng-container",10)(5,CoreSettingsSynchronizationPage_ion_card_26_ng_container_5_Template,3,3,"ng-container",10),m.qZA()()()),2&e){const e=m.oxw();m.xp6(4),m.Q6J("ngIf",e.isOnline&&e.dataSaver&&e.limitedConnection),m.xp6(),m.Q6J("ngIf",!e.isOnline)}}function CoreSettingsSynchronizationPage_ng_container_27_ng_template_7_p_0_Template(e,t){1&e&&(m.TgZ(0,"p",17),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(),m.Oqu(m.lcZ(2,1,"core.settings.logintosync")))}function CoreSettingsSynchronizationPage_ng_container_27_ng_template_7_Template(e,t){if(1&e&&m.YNc(0,CoreSettingsSynchronizationPage_ng_container_27_ng_template_7_p_0_Template,3,3,"p",16),2&e){m.Q6J("ngIf",t.site.loggedOut)}}function CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_core_button_with_spinner_0_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"core-button-with-spinner",20)(1,"ion-button",21),m.NdJ("click",(function CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_core_button_with_spinner_0_Template_ion_button_click_1_listener(){m.CHM(e);const t=m.oxw().site,n=m.oxw(2);return m.KtG(n.synchronize(t.id))})),m.ALo(2,"translate"),m._UZ(3,"ion-icon",22),m.qZA()()}if(2&e){const e=m.oxw().site,t=m.oxw(2);m.Q6J("loading",t.isSynchronizing(e.id)),m.xp6(),m.uIk("aria-label",m.lcZ(2,2,"core.settings.synchronizenow"))}}function CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_ion_button_1_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-button",23),m.NdJ("click",(function CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_ion_button_1_Template_ion_button_click_0_listener(){m.CHM(e);const t=m.oxw().site,n=m.oxw(2);return m.KtG(n.login(t.id))})),m.ALo(1,"translate"),m._UZ(2,"ion-icon",24),m.qZA()}2&e&&m.uIk("aria-label",m.lcZ(1,1,"core.login.login"))}function CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_Template(e,t){if(1&e&&m.YNc(0,CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_core_button_with_spinner_0_Template,4,4,"core-button-with-spinner",18)(1,CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_ion_button_1_Template,3,3,"ion-button",19),2&e){const e=t.site;m.Q6J("ngIf",!e.loggedOut),m.xp6(),m.Q6J("ngIf",e.loggedOut)}}function CoreSettingsSynchronizationPage_ng_container_27_Template(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"ion-item-divider")(2,"ion-label")(3,"h2"),m._uU(4),m.ALo(5,"translate"),m.qZA()()(),m.TgZ(6,"core-sites-list",13),m.YNc(7,CoreSettingsSynchronizationPage_ng_container_27_ng_template_7_Template,1,1,"ng-template",null,14,m.W1O)(9,CoreSettingsSynchronizationPage_ng_container_27_ng_template_9_Template,2,2,"ng-template",null,15,m.W1O),m.qZA(),m.BQk()),2&e){const e=m.oxw();m.xp6(4),m.Oqu(m.lcZ(5,2,"core.accounts")),m.xp6(2),m.Q6J("accountsList",e.accountsList)}}let k=(()=>{var e;class CoreSettingsSynchronizationPage{constructor(){var e=this;this.accountsList={sameSite:[],otherSites:[],count:0},this.sitesLoaded=!1,this.dataSaver=!1,this.limitedConnection=!1,this.isOnline=!0,this.isDestroyed=!1,this.sitesObserver=v.R.on(v.R.SITE_UPDATED,function(){var t=(0,r.Z)((function*(t){var n;const i=t.siteId;let o=i===(null===(n=e.accountsList.currentSite)||void 0===n?void 0:n.id)?e.accountsList.currentSite:void 0;if(o||(o=e.accountsList.sameSite.find((e=>e.id===i))),o||e.accountsList.otherSites.some((e=>(o=e.find((e=>e.id===i)),o))),!o)return;const s=yield I.m9.getSite(i),a=s.getInfo();o.siteName=yield s.getSiteName(),a&&(o.siteUrl=a.siteurl,o.fullname=a.fullname)}));return function(e){return t.apply(this,arguments)}}()),this.isOnline=L.AS.isOnline(),this.limitedConnection=this.isOnline&&L.AS.isNetworkAccessLimited(),this.networkObserver=L.AS.onChange().subscribe((()=>{y.R0.run((()=>{this.isOnline=L.AS.isOnline(),this.limitedConnection=this.isOnline&&L.AS.isNetworkAccessLimited()}))}))}ngOnInit(){var e=this;return(0,r.Z)((function*(){try{e.accountsList=yield P.s.getAccountsList()}catch{}e.sitesLoaded=!0,e.dataSaver=yield b.b.get(g.i.SETTINGS_SYNC_ONLY_ON_WIFI,!0)}))()}syncOnlyOnWifiChanged(){b.b.set(g.i.SETTINGS_SYNC_ONLY_ON_WIFI,this.dataSaver?1:0)}synchronize(e){var t=this;return(0,r.Z)((function*(){try{yield A.f.synchronizeSite(!1,e)}catch(e){if(t.isDestroyed)return;x.OQ.showErrorModalDefault(e,"core.settings.sitesyncfailed",!0)}}))()}login(e){return(0,r.Z)((function*(){yield q.b.navigateToSiteHome({preferCurrentTab:!1,siteId:e})}))()}isSynchronizing(e){return!!A.f.getSiteSyncPromise(e)}showInfo(){x.OQ.showAlert(y.vN.instant("core.help"),y.vN.instant("core.settings.synchronizenowhelp"))}ngOnDestroy(){this.isDestroyed=!0,this.sitesObserver.off(),this.networkObserver.unsubscribe()}}return(e=CoreSettingsSynchronizationPage).ɵfac=function CoreSettingsSynchronizationPage_Factory(t){return new(t||e)},e.ɵcmp=m.Xpm({type:e,selectors:[["page-core-app-settings-synchronization"]],decls:28,vars:19,consts:[["slot","start"],[3,"text"],["slot","end"],[3,"click"],["name","fas-circle-info","slot","icon-only","aria-hidden","true"],[1,"limited-width"],[3,"hideUntil"],[1,"ion-text-wrap"],[3,"ngModel","ngModelChange"],["class","core-warning-card",4,"ngIf"],[4,"ngIf"],[1,"core-warning-card"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"],[3,"accountsList"],["siteLabel",""],["siteItem",""],["class","text-danger",4,"ngIf"],[1,"text-danger"],["slot","end",3,"loading",4,"ngIf"],["fill","clear","slot","end",3,"click",4,"ngIf"],["slot","end",3,"loading"],["fill","clear",3,"click"],["name","fas-rotate","slot","icon-only","aria-hidden","true"],["fill","clear","slot","end",3,"click"],["name","fas-right-to-bracket","slot","icon-only","aria-hidden","true"]],template:function CoreSettingsSynchronizationPage_Template(e,t){1&e&&(m.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),m._UZ(3,"ion-back-button",1),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"ion-title")(6,"h1"),m._uU(7),m.ALo(8,"translate"),m.qZA()(),m.TgZ(9,"ion-buttons",2)(10,"core-navbar-buttons")(11,"ion-button",3),m.NdJ("click",(function CoreSettingsSynchronizationPage_Template_ion_button_click_11_listener(){return t.showInfo()})),m.ALo(12,"translate"),m._UZ(13,"ion-icon",4),m.qZA()()()()(),m.TgZ(14,"ion-content",5)(15,"core-loading",6)(16,"ion-list",5)(17,"ion-item-divider")(18,"ion-label")(19,"h2"),m._uU(20),m.ALo(21,"translate"),m.qZA()()(),m.TgZ(22,"ion-item",7)(23,"ion-toggle",8),m.NdJ("ngModelChange",(function CoreSettingsSynchronizationPage_Template_ion_toggle_ngModelChange_23_listener(e){return t.dataSaver=e}))("ngModelChange",(function CoreSettingsSynchronizationPage_Template_ion_toggle_ngModelChange_23_listener(){return t.syncOnlyOnWifiChanged()})),m._uU(24),m.ALo(25,"translate"),m.qZA()(),m.YNc(26,CoreSettingsSynchronizationPage_ion_card_26_Template,6,2,"ion-card",9)(27,CoreSettingsSynchronizationPage_ng_container_27_Template,11,4,"ng-container",10),m.qZA()()()),2&e&&(m.xp6(3),m.Q6J("text",m.lcZ(4,9,"core.back")),m.xp6(4),m.Oqu(m.lcZ(8,11,"core.settings.synchronization")),m.xp6(4),m.uIk("aria-label",m.lcZ(12,13,"core.info")),m.xp6(4),m.Q6J("hideUntil",t.sitesLoaded),m.xp6(5),m.Oqu(m.lcZ(21,15,"core.settings.syncsettings")),m.xp6(3),m.Q6J("ngModel",t.dataSaver),m.xp6(),m.hij(" ",m.lcZ(25,17,"core.settings.syncdatasaver")," "),m.xp6(2),m.Q6J("ngIf",!t.isOnline||t.dataSaver&&t.limitedConnection),m.xp6(),m.Q6J("ngIf",t.isOnline&&(!t.dataSaver||!t.limitedConnection)))},dependencies:[f.O5,O.$,w.r,U.J,D.Z,h.I,S.t,J.O,N.JJ,N.On,T.YG,T.Sm,T.PM,T.W2,T.Gu,T.gu,T.Ie,T.rH,T.Q$,T.q_,T.wd,T.ho,T.sr,T.w,T.oU,Z.X$],encapsulation:2}),CoreSettingsSynchronizationPage})();var Q=n(90391),E=n(32506),M=n(75803),G=n(43468);function CoreSettingsGeneralPage_ion_select_option_18_Template(e,t){if(1&e&&(m.TgZ(0,"ion-select-option",16),m._uU(1),m.qZA()),2&e){const e=t.$implicit;m.Q6J("value",e.code),m.xp6(),m.Oqu(e.name)}}const _c0=e=>({"font-size.px":e});function CoreSettingsGeneralPage_ion_segment_button_25_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-segment-button",17),m.NdJ("click",(function CoreSettingsGeneralPage_ion_segment_button_25_Template_ion_segment_button_click_0_listener(t){const n=m.CHM(e).$implicit,i=m.oxw();return m.KtG(i.zoomLevelChanged(t,n.value))})),m.TgZ(1,"ion-label"),m._uU(2),m.ALo(3,"translate"),m._UZ(4,"span",18),m.qZA()()}if(2&e){const e=t.$implicit,n=m.oxw();m.Q6J("value",e.value)("ngStyle",m.VKq(6,_c0,e.style)),m.xp6(2),m.hij(" ",m.lcZ(3,4,"core.settings.fontsizecharacter")," "),m.xp6(2),m.Q6J("ngStyle",m.VKq(8,_c0,n.zoomLevels[n.zoomLevels.length-1].style))}}function CoreSettingsGeneralPage_ion_item_26_p_8_Template(e,t){1&e&&(m.TgZ(0,"p",23),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(),m.Oqu(m.lcZ(2,1,"core.settings.forcedsetting")))}function CoreSettingsGeneralPage_ion_item_26_ion_select_option_9_Template(e,t){if(1&e&&(m.TgZ(0,"ion-select-option",16),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){const e=t.$implicit;m.Q6J("value",e),m.xp6(),m.hij(" ",m.lcZ(2,2,"core.settings.colorscheme-"+e),"")}}const _c1=e=>({header:e});function CoreSettingsGeneralPage_ion_item_26_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",19)(1,"ion-select",20),m.NdJ("ngModelChange",(function CoreSettingsGeneralPage_ion_item_26_Template_ion_select_ngModelChange_1_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.selectedScheme=t)}))("ionChange",(function CoreSettingsGeneralPage_ion_item_26_Template_ion_select_ionChange_1_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.colorSchemeChanged(t))})),m.ALo(2,"translate"),m.ALo(3,"translate"),m.TgZ(4,"div",21)(5,"p",8),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.YNc(8,CoreSettingsGeneralPage_ion_item_26_p_8_Template,3,3,"p",22),m.qZA(),m.YNc(9,CoreSettingsGeneralPage_ion_item_26_ion_select_option_9_Template,3,4,"ion-select-option",6),m.qZA()()}if(2&e){const e=m.oxw();m.xp6(),m.Q6J("ngModel",e.selectedScheme)("cancelText",m.lcZ(2,7,"core.cancel"))("disabled",e.colorSchemeDisabled)("interfaceOptions",m.VKq(13,_c1,m.lcZ(3,9,"core.settings.colorscheme"))),m.xp6(5),m.Oqu(m.lcZ(7,11,"core.settings.colorscheme")),m.xp6(2),m.Q6J("ngIf",e.colorSchemeDisabled),m.xp6(),m.Q6J("ngForOf",e.colorSchemes)}}function CoreSettingsGeneralPage_ion_item_27_Template(e,t){1&e&&(m.TgZ(0,"ion-item",24)(1,"ion-label",13)(2,"p"),m._uU(3),m.ALo(4,"translate"),m.qZA()()()),2&e&&(m.xp6(3),m.Oqu(m.lcZ(4,1,"core.settings.colorscheme-system-notice")))}function CoreSettingsGeneralPage_ion_item_36_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",13)(1,"ion-label")(2,"p",8),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.TgZ(8,"ion-button",25),m.NdJ("click",(function CoreSettingsGeneralPage_ion_item_36_Template_ion_button_click_8_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.openNativeSettings(t))})),m._uU(9),m.ALo(10,"translate"),m.qZA()()()}2&e&&(m.xp6(3),m.Oqu(m.lcZ(4,3,"core.settings.ioscookies")),m.xp6(3),m.Oqu(m.lcZ(7,5,"core.settings.ioscookiesdescription")),m.xp6(3),m.hij(" ",m.lcZ(10,7,"core.opensettings")," "))}function CoreSettingsGeneralPage_ion_item_45_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",13)(1,"ion-label")(2,"p",8),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.ALo(7,"translate"),m.qZA()(),m.TgZ(8,"ion-toggle",26),m.NdJ("ngModelChange",(function CoreSettingsGeneralPage_ion_item_45_Template_ion_toggle_ngModelChange_8_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.analyticsEnabled=t)}))("ionChange",(function CoreSettingsGeneralPage_ion_item_45_Template_ion_toggle_ionChange_8_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.analyticsEnabledChanged(t))})),m.qZA()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,3,"core.settings.enableanalytics")),m.xp6(3),m.Oqu(m.lcZ(7,5,"core.settings.enableanalyticsdescription")),m.xp6(2),m.Q6J("ngModel",e.analyticsEnabled)}}let F=(()=>{var e;class CoreSettingsGeneralPage{constructor(){this.languages=[],this.selectedLanguage="",this.zoomLevels=[],this.selectedZoomLevel="none",this.richTextEditor=!0,this.debugDisplay=!1,this.analyticsAvailable=!1,this.analyticsEnabled=!1,this.colorSchemes=[],this.selectedScheme="light",this.colorSchemeDisabled=!1,this.isAndroid=!1,this.displayIframeHelp=!1,this.asyncInit()}asyncInit(){var e=this;return(0,r.Z)((function*(){const t=g.i.CONFIG.languages;for(const n in t)e.languages.push({code:n,name:t[n]});e.languages.sort(((e,t)=>e.name.localeCompare(t.name))),e.selectedLanguage=yield Q.B.getCurrentLanguage(),g.i.CONFIG.forceColorScheme||(e.colorSchemeDisabled=A.f.isColorSchemeDisabledInSite(),e.colorSchemeDisabled?(e.colorSchemes.push("light"),e.selectedScheme=e.colorSchemes[0]):(e.isAndroid=u.n.isAndroid(),e.colorSchemes=A.f.getAllowedColorSchemes(),e.selectedScheme=yield b.b.get(g.i.SETTINGS_COLOR_SCHEME,"light"))),e.selectedZoomLevel=yield A.f.getZoomLevel(),e.zoomLevels=Object.keys(g.i.CONFIG.zoomlevels).map((t=>({value:t,style:Math.round(16*g.i.CONFIG.zoomlevels[t]/100),selected:t===e.selectedZoomLevel}))),e.richTextEditor=yield b.b.get(g.i.SETTINGS_RICH_TEXT_EDITOR,!0),e.debugDisplay=yield b.b.get(g.i.SETTINGS_DEBUG_DISPLAY,!1),e.analyticsAvailable=yield G.ke.isAnalyticsAvailable(),e.analyticsAvailable&&(e.analyticsEnabled=yield b.b.get(g.i.SETTINGS_ANALYTICS_ENABLED,!0)),e.displayIframeHelp=E.Y.shouldDisplayHelp()}))()}languageChanged(e){var t=this;return(0,r.Z)((function*(){e.stopPropagation(),e.preventDefault();const n=yield Q.B.getCurrentLanguage();if(t.selectedLanguage===n)return;const i=y.vN.instant("core.cancel");try{yield Q.B.changeCurrentLanguage(t.selectedLanguage)}finally{var o;const e=null===(o=t.languages.find((e=>e.code==t.selectedLanguage)))||void 0===o?void 0:o.name,s=[{text:i,role:"cancel",handler:()=>{clearTimeout(l),t.selectedLanguage=n,Q.B.changeCurrentLanguage(t.selectedLanguage)}},{text:y.vN.instant("core.settings.changelanguage",{$a:e}),cssClass:"timed-button",handler:()=>{clearTimeout(l),t.applyLanguageAndRestart()}}],a=yield x.OQ.showAlertWithOptions({message:y.vN.instant("core.settings.changelanguagealert"),buttons:s}),l=window.setTimeout((0,r.Z)((function*(){yield a.dismiss(),t.applyLanguageAndRestart()})),1e4)}}))()}applyLanguageAndRestart(){var e=this;return(0,r.Z)((function*(){const t=yield I.m9.getSitesInstances();yield M.Tr.ignoreErrors(Promise.all(t.map((e=>e.invalidateWsCache())))),v.R.trigger(v.R.LANGUAGE_CHANGED,e.selectedLanguage),q.b.navigate("/reload",{reset:!0})}))()}zoomLevelChanged(e,t){e.stopPropagation(),e.preventDefault(),this.selectedZoomLevel=t,this.zoomLevels=this.zoomLevels.map((e=>(e.selected=e.value===this.selectedZoomLevel,e))),A.f.applyZoomLevel(this.selectedZoomLevel),b.b.set(g.i.SETTINGS_ZOOM_LEVEL,this.selectedZoomLevel)}colorSchemeChanged(e){e.stopPropagation(),e.preventDefault(),A.f.setColorScheme(this.selectedScheme),b.b.set(g.i.SETTINGS_COLOR_SCHEME,this.selectedScheme)}richTextEditorChanged(e){e.stopPropagation(),e.preventDefault(),b.b.set(g.i.SETTINGS_RICH_TEXT_EDITOR,this.richTextEditor?1:0)}debugDisplayChanged(e){e.stopPropagation(),e.preventDefault(),b.b.set(g.i.SETTINGS_DEBUG_DISPLAY,this.debugDisplay?1:0),x.OQ.setDebugDisplay(this.debugDisplay)}analyticsEnabledChanged(e){var t=this;return(0,r.Z)((function*(){e.stopPropagation(),e.preventDefault(),yield G.ke.enableAnalytics(t.analyticsEnabled),b.b.set(g.i.SETTINGS_ANALYTICS_ENABLED,t.analyticsEnabled?1:0)}))()}openNativeSettings(e){e.stopPropagation(),e.preventDefault(),y.R9.switchToSettings()}}return(e=CoreSettingsGeneralPage).ɵfac=function CoreSettingsGeneralPage_Factory(t){return new(t||e)},e.ɵcmp=m.Xpm({type:e,selectors:[["page-core-app-settings-general"]],decls:46,vars:42,consts:[["slot","start"],[3,"text"],[1,"list-item-limited-width"],["lines","none",1,"ion-text-wrap"],["interface","action-sheet",3,"ngModel","cancelText","interfaceOptions","ngModelChange","ionChange"],["slot","label",1,"item-heading"],[3,"value",4,"ngFor","ngForOf"],["lines","none",1,"ion-text-wrap","core-settings-general-font-size","item-interactive"],[1,"item-heading"],["color","primary",3,"ngModel","ngModelChange"],[3,"value","ngStyle","click",4,"ngFor","ngForOf"],["class","ion-text-wrap core-settings-general-color-scheme","lines","none",4,"ngIf"],["lines","none",4,"ngIf"],[1,"ion-text-wrap"],[3,"ngModel","ngModelChange","ionChange"],["class","ion-text-wrap",4,"ngIf"],[3,"value"],[3,"value","ngStyle","click"],[3,"ngStyle"],["lines","none",1,"ion-text-wrap","core-settings-general-color-scheme"],["interface","action-sheet",3,"ngModel","cancelText","disabled","interfaceOptions","ngModelChange","ionChange"],["slot","label"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["lines","none"],["expand","block",3,"click"],["slot","end",3,"ngModel","ngModelChange","ionChange"]],template:function CoreSettingsGeneralPage_Template(e,t){1&e&&(m.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),m._UZ(3,"ion-back-button",1),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"ion-title")(6,"h1"),m._uU(7),m.ALo(8,"translate"),m.qZA()()()(),m.TgZ(9,"ion-content")(10,"ion-list",2)(11,"ion-item",3)(12,"ion-select",4),m.NdJ("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_select_ngModelChange_12_listener(e){return t.selectedLanguage=e}))("ionChange",(function CoreSettingsGeneralPage_Template_ion_select_ionChange_12_listener(e){return t.languageChanged(e)})),m.ALo(13,"translate"),m.ALo(14,"translate"),m.TgZ(15,"div",5),m._uU(16),m.ALo(17,"translate"),m.qZA(),m.YNc(18,CoreSettingsGeneralPage_ion_select_option_18_Template,2,2,"ion-select-option",6),m.qZA()(),m.TgZ(19,"ion-item",7)(20,"ion-label")(21,"p",8),m._uU(22),m.ALo(23,"translate"),m.qZA()(),m.TgZ(24,"ion-segment",9),m.NdJ("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_segment_ngModelChange_24_listener(e){return t.selectedZoomLevel=e})),m.YNc(25,CoreSettingsGeneralPage_ion_segment_button_25_Template,5,10,"ion-segment-button",10),m.qZA()(),m.YNc(26,CoreSettingsGeneralPage_ion_item_26_Template,10,15,"ion-item",11)(27,CoreSettingsGeneralPage_ion_item_27_Template,5,3,"ion-item",12),m.TgZ(28,"ion-item",13)(29,"ion-toggle",14),m.NdJ("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ngModelChange_29_listener(e){return t.richTextEditor=e}))("ionChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ionChange_29_listener(e){return t.richTextEditorChanged(e)})),m.TgZ(30,"p",8),m._uU(31),m.ALo(32,"translate"),m.qZA(),m.TgZ(33,"p"),m._uU(34),m.ALo(35,"translate"),m.qZA()()(),m.YNc(36,CoreSettingsGeneralPage_ion_item_36_Template,11,9,"ion-item",15),m.TgZ(37,"ion-item",13)(38,"ion-toggle",14),m.NdJ("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ngModelChange_38_listener(e){return t.debugDisplay=e}))("ionChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ionChange_38_listener(e){return t.debugDisplayChanged(e)})),m.TgZ(39,"p",8),m._uU(40),m.ALo(41,"translate"),m.qZA(),m.TgZ(42,"p"),m._uU(43),m.ALo(44,"translate"),m.qZA()()(),m.YNc(45,CoreSettingsGeneralPage_ion_item_45_Template,9,7,"ion-item",15),m.qZA()()),2&e&&(m.xp6(3),m.Q6J("text",m.lcZ(4,20,"core.back")),m.xp6(4),m.Oqu(m.lcZ(8,22,"core.settings.general")),m.xp6(5),m.Q6J("ngModel",t.selectedLanguage)("cancelText",m.lcZ(13,24,"core.cancel"))("interfaceOptions",m.VKq(40,_c1,m.lcZ(14,26,"core.settings.language"))),m.xp6(4),m.Oqu(m.lcZ(17,28,"core.settings.language")),m.xp6(2),m.Q6J("ngForOf",t.languages),m.xp6(4),m.Oqu(m.lcZ(23,30,"core.settings.fontsize")),m.xp6(2),m.Q6J("ngModel",t.selectedZoomLevel),m.xp6(),m.Q6J("ngForOf",t.zoomLevels),m.xp6(),m.Q6J("ngIf",t.colorSchemes.length>0),m.xp6(),m.Q6J("ngIf",t.colorSchemes.length>0&&"system"===t.selectedScheme&&t.isAndroid),m.xp6(2),m.Q6J("ngModel",t.richTextEditor),m.xp6(2),m.Oqu(m.lcZ(32,32,"core.settings.enablerichtexteditor")),m.xp6(3),m.Oqu(m.lcZ(35,34,"core.settings.enablerichtexteditordescription")),m.xp6(2),m.Q6J("ngIf",t.displayIframeHelp),m.xp6(2),m.Q6J("ngModel",t.debugDisplay),m.xp6(2),m.Oqu(m.lcZ(41,36,"core.settings.debugdisplay")),m.xp6(3),m.Oqu(m.lcZ(44,38,"core.settings.debugdisplaydescription")),m.xp6(2),m.Q6J("ngIf",t.analyticsAvailable))},dependencies:[f.sg,f.O5,f.PC,S.t,J.O,N.JJ,N.On,T.YG,T.Sm,T.W2,T.Gu,T.Ie,T.Q$,T.q_,T.cJ,T.GO,T.t9,T.n0,T.wd,T.ho,T.sr,T.w,T.QI,T.oU,Z.X$],styles:["[_nghost-%COMP%]   .core-settings-general-font-size[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{max-width:250px}"]}),CoreSettingsGeneralPage})();var z=n(1097);function CoreSettingsSpaceUsagePage_ng_template_18_ion_badge_0_Template(e,t){if(1&e&&(m.TgZ(0,"ion-badge",13),m._uU(1),m.ALo(2,"coreBytesToSize"),m.qZA()),2&e){const e=m.oxw().site;m.xp6(),m.Oqu(m.lcZ(2,1,e.spaceUsage))}}function CoreSettingsSpaceUsagePage_ng_template_18_Template(e,t){if(1&e&&m.YNc(0,CoreSettingsSpaceUsagePage_ng_template_18_ion_badge_0_Template,3,3,"ion-badge",12),2&e){m.Q6J("ngIf",void 0!==t.site.spaceUsage)}}const space_usage_c0=e=>({name:e});function CoreSettingsSpaceUsagePage_ng_template_20_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-button",14),m.NdJ("click",(function CoreSettingsSpaceUsagePage_ng_template_20_Template_ion_button_click_0_listener(){const t=m.CHM(e).site,n=m.oxw();return m.KtG(n.deleteSiteStorage(t))})),m._UZ(1,"ion-icon",15),m.ALo(2,"translate"),m.qZA()}if(2&e){const e=t.site;m.Q6J("hidden",e.spaceUsage<=0&&!e.hasCacheEntries),m.xp6(),m.uIk("aria-label",m.xi3(2,2,"addon.storagemanager.deletedatafrom",m.VKq(5,space_usage_c0,e.siteName)))}}let H=(()=>{var e;class CoreSettingsSpaceUsagePage{constructor(){var e=this;this.loaded=!1,this.totalSpaceUsage=0,this.accountsList={sameSite:[],otherSites:[],count:0},this.sitesObserver=v.R.on(v.R.SITE_UPDATED,function(){var t=(0,r.Z)((function*(t){var n;const i=t.siteId;let o=i===(null===(n=e.accountsList.currentSite)||void 0===n?void 0:n.id)?e.accountsList.currentSite:void 0;if(o||(o=e.accountsList.sameSite.find((e=>e.id===i))),o||e.accountsList.otherSites.some((e=>(o=e.find((e=>e.id===i)),o))),!o)return;const s=yield I.m9.getSite(i),a=s.getInfo();o.siteName=yield s.getSiteName(),a&&(o.siteUrl=a.siteurl,o.fullname=a.fullname)}));return function(e){return t.apply(this,arguments)}}())}ngOnInit(){this.loadSiteData().finally((()=>{this.loaded=!0}))}loadSiteData(){var e=this;return(0,r.Z)((function*(){let t=0;const n=yield M.Tr.ignoreErrors(I.m9.getSortedSites(),[]),i=yield Promise.all(n.map((t=>e.getSiteWithUsage(t))));let o="";const s=I.m9.getCurrentSiteId();if(s){const n=i.findIndex((e=>e.id===s)),a=i.splice(n,1)[0];e.accountsList.currentSite=a,t+=a.spaceUsage||0,o=e.accountsList.currentSite.siteUrlWithoutProtocol}const a={};i.forEach((n=>{t+=n.spaceUsage||0,n.siteUrlWithoutProtocol===o?e.accountsList.sameSite.push(n):(void 0===a[n.siteUrlWithoutProtocol]&&(a[n.siteUrlWithoutProtocol]=[]),a[n.siteUrlWithoutProtocol].push(n))})),e.accountsList.otherSites=M.Tr.objectToArray(a),e.accountsList.count=n.length,e.totalSpaceUsage=t}))()}getSiteWithUsage(e){return(0,r.Z)((function*(){const t=yield A.f.getSiteSpaceUsage(e.id);return Object.assign(e,{hasCacheEntries:t.cacheEntries>0,spaceUsage:t.spaceUsage})}))()}refreshData(e){this.loadSiteData().finally((()=>{null==e||e.complete()}))}deleteSiteStorage(e){var t=this;return(0,r.Z)((function*(){try{const n=yield A.f.deleteSiteStorage(e.siteName||"",e.id);t.totalSpaceUsage-=e.spaceUsage-n.spaceUsage,e.spaceUsage=n.spaceUsage,e.hasCacheEntries=n.cacheEntries>0}catch{}}))()}ngOnDestroy(){this.sitesObserver.off()}}return(e=CoreSettingsSpaceUsagePage).ɵfac=function CoreSettingsSpaceUsagePage_Factory(t){return new(t||e)},e.ɵcmp=m.Xpm({type:e,selectors:[["page-core-app-settings-space-usage"]],decls:30,vars:18,consts:[["slot","start"],[3,"text"],["slot","end"],[1,"limited-width"],["slot","fixed",3,"disabled","ionRefresh"],[3,"pullingText"],[3,"hideUntil"],[3,"accountsList"],["siteLabel",""],["siteItem",""],[1,"item-heading"],["slot","end",1,"ion-margin-end"],["color","light",4,"ngIf"],["color","light"],["fill","clear","color","danger","slot","end",3,"hidden","click"],["name","fas-trash","slot","icon-only"]],template:function CoreSettingsSpaceUsagePage_Template(e,t){1&e&&(m.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),m._UZ(3,"ion-back-button",1),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"ion-title")(6,"h1"),m._uU(7),m.ALo(8,"translate"),m.qZA()(),m.TgZ(9,"ion-buttons",2),m._UZ(10,"core-navbar-buttons"),m.qZA()()(),m.TgZ(11,"ion-content",3)(12,"ion-refresher",4),m.NdJ("ionRefresh",(function CoreSettingsSpaceUsagePage_Template_ion_refresher_ionRefresh_12_listener(e){return t.refreshData(e.target)})),m._UZ(13,"ion-refresher-content",5),m.ALo(14,"translate"),m.qZA(),m.TgZ(15,"core-loading",6)(16,"ion-list",3)(17,"core-sites-list",7),m.YNc(18,CoreSettingsSpaceUsagePage_ng_template_18_Template,1,1,"ng-template",null,8,m.W1O)(20,CoreSettingsSpaceUsagePage_ng_template_20_Template,3,7,"ng-template",null,9,m.W1O),m.qZA(),m.TgZ(22,"ion-item-divider")(23,"ion-label")(24,"p",10),m._uU(25),m.ALo(26,"translate"),m.qZA()(),m.TgZ(27,"p",11),m._uU(28),m.ALo(29,"coreBytesToSize"),m.qZA()()()()()),2&e&&(m.xp6(3),m.Q6J("text",m.lcZ(4,8,"core.back")),m.xp6(4),m.Oqu(m.lcZ(8,10,"core.settings.spaceusage")),m.xp6(5),m.Q6J("disabled",!t.loaded),m.xp6(),m.s9C("pullingText",m.lcZ(14,12,"core.pulltorefresh")),m.xp6(2),m.Q6J("hideUntil",t.loaded),m.xp6(2),m.Q6J("accountsList",t.accountsList),m.xp6(8),m.Oqu(m.lcZ(26,14,"core.settings.total")),m.xp6(3),m.hij(" ",m.lcZ(29,16,t.totalSpaceUsage)," "))},dependencies:[f.O5,w.r,U.J,D.Z,h.I,S.t,J.O,T.yp,T.YG,T.Sm,T.W2,T.Gu,T.gu,T.rH,T.Q$,T.q_,T.nJ,T.Wo,T.wd,T.sr,T.oU,z.C,Z.X$],encapsulation:2}),CoreSettingsSpaceUsagePage})();var Y=n(21525);function CoreSettingsAboutPage_ion_item_16_Template(e,t){if(1&e&&(m.TgZ(0,"ion-item",10),m._UZ(1,"ion-icon",11),m.TgZ(2,"ion-label"),m._uU(3),m.ALo(4,"translate"),m.qZA()()),2&e){const e=m.oxw();m.Q6J("href",e.privacyPolicy)("detail",!0),m.xp6(3),m.Oqu(m.lcZ(4,3,"core.settings.privacypolicy"))}}function CoreSettingsAboutPage_ion_item_17_Template(e,t){if(1&e&&(m.TgZ(0,"ion-item",10),m._UZ(1,"ion-icon",12),m.TgZ(2,"ion-label"),m._uU(3),m.ALo(4,"translate"),m.qZA()()),2&e){const e=m.oxw();m.Q6J("href",e.a11yStatement)("detail",!0),m.xp6(3),m.Oqu(m.lcZ(4,3,"core.settings.accessstatement"))}}function CoreSettingsAboutPage_ion_item_18_Template(e,t){if(1&e&&(m.TgZ(0,"ion-item",13),m._UZ(1,"ion-icon",14),m.TgZ(2,"ion-label"),m._uU(3),m.ALo(4,"translate"),m.qZA()()),2&e){const e=m.oxw();m.Q6J("href",e.feedbackFormUrl)("detail",!0),m.xp6(3),m.Oqu(m.lcZ(4,3,"core.settings.helpusimprove"))}}function CoreSettingsAboutPage_ion_item_19_Template(e,t){if(1&e&&(m.TgZ(0,"ion-item",10),m._UZ(1,"ion-icon",15),m.TgZ(2,"ion-label"),m._uU(3),m.ALo(4,"translate"),m.qZA()()),2&e){const e=m.oxw();m.Q6J("href",e.legalDisclaimer)("detail",!0),m.xp6(3),m.Oqu(m.lcZ(4,3,"core.settings.legaldisclaimer"))}}let K=(()=>{var e;class CoreSettingsAboutPage{constructor(){var e,t,n;this.feedbackFormUrl=null!==(e=g.i.CONFIG.feedbackFormUrl)&&void 0!==e?e:"https://feedback.moodle.org/mobileapp",this.a11yStatement=null!==(t=g.i.CONFIG.a11yStatement)&&void 0!==t?t:"https://apps.moodle.com/admin/tool/policy/view.php?versionid=5",this.showSurvey=!1,this.legalDisclaimer=g.i.CONFIG.legalDisclaimer,this.currentSite=I.m9.getCurrentSite(),this.appName=g.i.CONFIG.appname,this.versionName=g.i.CONFIG.versionname,this.privacyPolicy=this.currentSite&&(this.currentSite.getStoredConfig("tool_mobile_apppolicy")||this.currentSite.getStoredConfig("sitepolicy"))||g.i.CONFIG.privacypolicy,this.showSurvey=null===(n=this.currentSite)||void 0===n?void 0:n.isAdmin()}openPage(e){q.b.navigate(e)}}return(e=CoreSettingsAboutPage).ɵfac=function CoreSettingsAboutPage_Factory(t){return new(t||e)},e.ɵcmp=m.Xpm({type:e,selectors:[["page-core-app-settings-about"]],decls:25,vars:17,consts:[["slot","start"],[3,"text"],[1,"list-item-limited-width"],["button","",1,"ion-text-wrap",3,"detail","click"],["name","far-copyright","slot","start","aria-hidden","true"],["class","ion-text-wrap","button","","core-link","","auto-login","no","detailIcon","open-outline",3,"href","detail",4,"ngIf"],["class","ion-text-wrap","button","","core-link","","detailIcon","open-outline",3,"href","detail",4,"ngIf"],[1,"ion-no-border"],["button","",1,"ion-text-wrap","ion-text-center","core-about-deviceinfo",3,"detail","click"],[1,"item-heading"],["button","","core-link","","auto-login","no","detailIcon","open-outline",1,"ion-text-wrap",3,"href","detail"],["name","fas-user-shield","slot","start","aria-hidden","true"],["name","fas-universal-access","slot","start","aria-hidden","true"],["button","","core-link","","detailIcon","open-outline",1,"ion-text-wrap",3,"href","detail"],["name","fas-bullhorn","slot","start","aria-hidden","true"],["name","fas-scale-balanced","slot","start","aria-hidden","true"]],template:function CoreSettingsAboutPage_Template(e,t){1&e&&(m.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),m._UZ(3,"ion-back-button",1),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"ion-title")(6,"h1"),m._uU(7),m.ALo(8,"translate"),m.qZA()()()(),m.TgZ(9,"ion-content")(10,"ion-list",2)(11,"ion-item",3),m.NdJ("click",(function CoreSettingsAboutPage_Template_ion_item_click_11_listener(){return t.openPage("licenses")})),m._UZ(12,"ion-icon",4),m.TgZ(13,"ion-label"),m._uU(14),m.ALo(15,"translate"),m.qZA()(),m.YNc(16,CoreSettingsAboutPage_ion_item_16_Template,5,5,"ion-item",5)(17,CoreSettingsAboutPage_ion_item_17_Template,5,5,"ion-item",5)(18,CoreSettingsAboutPage_ion_item_18_Template,5,5,"ion-item",6)(19,CoreSettingsAboutPage_ion_item_19_Template,5,5,"ion-item",5),m.qZA()(),m.TgZ(20,"ion-footer",7)(21,"ion-item",8),m.NdJ("click",(function CoreSettingsAboutPage_Template_ion_item_click_21_listener(){return t.openPage("deviceinfo")})),m.TgZ(22,"ion-label")(23,"p",9),m._uU(24),m.qZA()()()()),2&e&&(m.xp6(3),m.Q6J("text",m.lcZ(4,11,"core.back")),m.xp6(4),m.hij(" ",m.lcZ(8,13,"core.settings.about")," "),m.xp6(4),m.Q6J("detail",!0),m.xp6(3),m.Oqu(m.lcZ(15,15,"core.settings.opensourcelicenses")),m.xp6(2),m.Q6J("ngIf",t.privacyPolicy),m.xp6(),m.Q6J("ngIf",t.a11yStatement),m.xp6(),m.Q6J("ngIf",t.currentSite&&t.feedbackFormUrl&&t.showSurvey),m.xp6(),m.Q6J("ngIf",t.legalDisclaimer),m.xp6(2),m.Q6J("detail",!1),m.xp6(3),m.AsE("",t.appName," ",t.versionName,""))},dependencies:[f.O5,h.I,Y.y,S.t,T.Sm,T.W2,T.fr,T.Gu,T.gu,T.Ie,T.Q$,T.q_,T.wd,T.sr,T.oU,Z.X$],styles:[".core-about-deviceinfo[_ngcontent-%COMP%]{--background: transparent}"]}),CoreSettingsAboutPage})();var $=n(24036);function CoreSettingsLicensesPage_ion_item_14_Template(e,t){if(1&e&&(m.TgZ(0,"ion-item",7)(1,"ion-label"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"ion-button",8),m._uU(5),m.ALo(6,"translate"),m.qZA()()),2&e){const e=m.oxw();m.Q6J("href",e.licensesUrl)("detail",!1),m.xp6(2),m.hij(" ",m.lcZ(3,5,"core.settings.opensourcelicenses")," "),m.xp6(2),m.Q6J("href",e.licensesUrl),m.xp6(),m.hij(" ",m.lcZ(6,7,"core.view"),"")}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_3_Template(e,t){if(1&e&&(m.TgZ(0,"a",16),m._uU(1),m.qZA()),2&e){const e=m.oxw().$implicit;m.Q6J("href",e.repository,m.LSH),m.xp6(),m.Oqu(e.name)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_ng_container_4_Template(e,t){if(1&e&&(m.ynx(0),m._uU(1),m.BQk()),2&e){const e=m.oxw().$implicit;m.xp6(),m.Oqu(e.name)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_p_6_Template(e,t){if(1&e&&(m.TgZ(0,"p",11),m._uU(1),m.ALo(2,"translate"),m.ALo(3,"translate"),m.qZA()),2&e){const e=m.oxw().$implicit;m.xp6(),m.lnq(" ",m.lcZ(2,3,"core.settings.publisher"),"",m.lcZ(3,5,"core.labelsep")," ",e.publisher," ")}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_12_Template(e,t){if(1&e&&(m.TgZ(0,"a",16),m._uU(1),m.qZA()),2&e){const e=m.oxw().$implicit;m.Q6J("href",e.url,m.LSH),m.xp6(),m.Oqu(e.url)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_14_Template(e,t){if(1&e&&(m.TgZ(0,"a",17),m._uU(1),m.qZA()),2&e){const e=m.oxw().$implicit;m.Q6J("href","mailto:"+e.email,m.LSH)("showBrowserWarning",!1),m.xp6(),m.Oqu(e.email)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_ion_button_15_Template(e,t){if(1&e&&(m.TgZ(0,"ion-button",8),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){const e=m.oxw().$implicit;m.Q6J("href",e.licenseUrl),m.xp6(),m.Oqu(m.lcZ(2,2,"core.view"))}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_Template(e,t){if(1&e&&(m.TgZ(0,"ion-item",10)(1,"ion-label")(2,"p",11),m.YNc(3,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_3_Template,2,2,"a",12)(4,CoreSettingsLicensesPage_ng_container_15_ion_item_1_ng_container_4_Template,2,1,"ng-container",6),m._uU(5),m.qZA(),m.YNc(6,CoreSettingsLicensesPage_ng_container_15_ion_item_1_p_6_Template,4,7,"p",13),m.TgZ(7,"p"),m._uU(8),m.ALo(9,"translate"),m.ALo(10,"translate"),m.qZA(),m.TgZ(11,"p"),m.YNc(12,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_12_Template,2,2,"a",12),m.qZA(),m.TgZ(13,"p"),m.YNc(14,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_14_Template,2,3,"a",14),m.qZA()(),m.YNc(15,CoreSettingsLicensesPage_ng_container_15_ion_item_1_ion_button_15_Template,3,4,"ion-button",15),m.qZA()),2&e){const e=t.$implicit;m.xp6(3),m.Q6J("ngIf",e.repository),m.xp6(),m.Q6J("ngIf",!e.repository),m.xp6(),m.hij(" - ",e.version," "),m.xp6(),m.Q6J("ngIf",e.publisher),m.xp6(2),m.lnq("",m.lcZ(9,10,"core.settings.license"),"",m.lcZ(10,12,"core.labelsep")," ",e.licenses,""),m.xp6(4),m.Q6J("ngIf",e.url),m.xp6(2),m.Q6J("ngIf",e.email),m.xp6(),m.Q6J("ngIf",e.licenseUrl)}}function CoreSettingsLicensesPage_ng_container_15_Template(e,t){if(1&e&&(m.ynx(0),m.YNc(1,CoreSettingsLicensesPage_ng_container_15_ion_item_1_Template,16,14,"ion-item",9),m.BQk()),2&e){const e=m.oxw();m.xp6(),m.Q6J("ngForOf",e.licenses)}}let W=(()=>{var e;class CoreSettingsLicensesPage{constructor(){this.loaded=!1,this.licenses=[],this.error=!1,this.textFilter="",this.allLicenses=[],this.appLicenseVersion=g.i.CONFIG.versionname.indexOf("-")>0?"main":"v"+g.i.CONFIG.versionname,this.licensesUrl="https://raw.githubusercontent.com/moodlehq/moodleapp/"+this.appLicenseVersion+"/licenses.json"}ngOnInit(){var e=this;return(0,r.Z)((function*(){try{const t=yield(0,$.z)(y.eV.get(e.licensesUrl));e.allLicenses=Object.keys(t).map((n=>{const i=t[n],o=n.lastIndexOf("@");if(i.name=n.substring(0,o),i.version=n.substring(o+1),Array.isArray(i.licenses)&&(i.licenses=i.licenses.join(", ")),i.repository&&(i.repository=i.repository.replace("git://","https://"),i.repository.indexOf("github.com")>0)){i.licenseUrl=i.repository+"/blob/"+("moodlemobile"==i.name?e.appLicenseVersion:i.version)+"/"+i.licenseFile}return i})),e.filterLicenses(),e.error=!1}catch{e.error=!0}e.loaded=!0}))()}filterLicenses(){const e=this.textFilter.trim().toLowerCase();if(""==e)return this.licenses=this.allLicenses,void 0;this.licenses=this.allLicenses.filter((t=>t.name.toLowerCase().indexOf(e)>=0||t.version.toLowerCase().indexOf(e)>=0||"string"==typeof t.licenses&&t.licenses.toLowerCase().indexOf(e)>=0||t.repository&&t.repository.toLowerCase().indexOf(e)>=0||t.publisher&&t.publisher.toLowerCase().indexOf(e)>=0||t.url&&t.url.toLowerCase().indexOf(e)>=0||t.email&&t.email.toLowerCase().indexOf(e)>=0))}filterChanged(e){this.textFilter=e.value||"",this.filterLicenses()}}return(e=CoreSettingsLicensesPage).ɵfac=function CoreSettingsLicensesPage_Factory(t){return new(t||e)},e.ɵcmp=m.Xpm({type:e,selectors:[["page-core-app-settings-licenses"]],decls:16,vars:13,consts:[["slot","start"],[3,"text"],[1,"limited-width"],[3,"hideUntil"],[1,"ion-margin-top",3,"ngModel","placeholder","ngModelChange","ionInput","ionCancel"],["button","","class","ion-text-wrap","core-link","","auto-login","no",3,"href","detail",4,"ngIf"],[4,"ngIf"],["button","","core-link","","auto-login","no",1,"ion-text-wrap",3,"href","detail"],["target","_blank","fill","clear","slot","end","core-link","","auto-login","no",3,"href"],["class","ion-text-wrap",4,"ngFor","ngForOf"],[1,"ion-text-wrap"],[1,"item-heading"],["core-link","","auto-login","no",3,"href",4,"ngIf"],["class","item-heading",4,"ngIf"],["core-link","","auto-login","no",3,"href","showBrowserWarning",4,"ngIf"],["target","_blank","fill","clear","slot","end","core-link","","auto-login","no",3,"href",4,"ngIf"],["core-link","","auto-login","no",3,"href"],["core-link","","auto-login","no",3,"href","showBrowserWarning"]],template:function CoreSettingsLicensesPage_Template(e,t){1&e&&(m.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),m._UZ(3,"ion-back-button",1),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"ion-title")(6,"h1"),m._uU(7),m.ALo(8,"translate"),m.qZA()()()(),m.TgZ(9,"ion-content",2)(10,"core-loading",3)(11,"ion-searchbar",4),m.NdJ("ngModelChange",(function CoreSettingsLicensesPage_Template_ion_searchbar_ngModelChange_11_listener(e){return t.textFilter=e}))("ionInput",(function CoreSettingsLicensesPage_Template_ion_searchbar_ionInput_11_listener(e){return t.filterChanged(e.target)}))("ionCancel",(function CoreSettingsLicensesPage_Template_ion_searchbar_ionCancel_11_listener(e){return t.filterChanged(e.target)})),m.ALo(12,"translate"),m.qZA(),m.TgZ(13,"ion-list"),m.YNc(14,CoreSettingsLicensesPage_ion_item_14_Template,7,9,"ion-item",5)(15,CoreSettingsLicensesPage_ng_container_15_Template,2,1,"ng-container",6),m.qZA()()()),2&e&&(m.xp6(3),m.Q6J("text",m.lcZ(4,7,"core.back")),m.xp6(4),m.Oqu(m.lcZ(8,9,"core.settings.opensourcelicenses")),m.xp6(3),m.Q6J("hideUntil",t.loaded),m.xp6(),m.Q6J("ngModel",t.textFilter)("placeholder",m.lcZ(12,11,"core.filter")),m.xp6(3),m.Q6J("ngIf",t.error),m.xp6(),m.Q6J("ngIf",!t.error))},dependencies:[f.sg,f.O5,w.r,Y.y,S.t,J.O,N.JJ,N.On,T.YG,T.Sm,T.W2,T.Gu,T.Ie,T.Q$,T.q_,T.VI,T.wd,T.sr,T.j9,T.oU,Z.X$],encapsulation:2}),CoreSettingsLicensesPage})();var R=n(18040),B=n(76474),V=n(59837),j=n(63174),X=n(18901),ee=n(83369);function CoreSettingsDeviceInfoPage_ion_item_15_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",13),m.NdJ("click",(function CoreSettingsDeviceInfoPage_ion_item_15_Template_ion_item_click_0_listener(){m.CHM(e);const t=m.oxw();return m.KtG(t.gotoDevOptions())})),m._UZ(1,"ion-icon",14),m.TgZ(2,"ion-label",8)(3,"p",9),m._uU(4),m.ALo(5,"translate"),m.qZA()()()}2&e&&(m.Q6J("detail",!0),m.xp6(4),m.Oqu(m.lcZ(5,2,"core.settings.developeroptions")))}function CoreSettingsDeviceInfoPage_p_28_Template(e,t){if(1&e&&(m.TgZ(0,"p"),m._uU(1),m.ALo(2,"coreFormatDate"),m.qZA()),2&e){const e=m.oxw();m.xp6(),m.Oqu(m.Dn7(2,1,e.deviceInfo.compilationTime,"LLL Z",!1))}}function CoreSettingsDeviceInfoPage_p_29_Template(e,t){if(1&e&&(m.TgZ(0,"p"),m._uU(1),m.qZA()),2&e){const e=m.oxw();m.xp6(),m.Oqu(e.deviceInfo.lastCommit)}}function CoreSettingsDeviceInfoPage_ion_item_30_ng_container_5_Template(e,t){1&e&&(m.ynx(0),m._uU(1," *"),m.BQk())}function CoreSettingsDeviceInfoPage_ion_item_30_p_6_Template(e,t){if(1&e&&(m.TgZ(0,"p")(1,"a",15),m._uU(2),m.qZA()()),2&e){const e=m.oxw(2);m.xp6(),m.Q6J("href",e.deviceInfo.siteUrl,m.LSH),m.xp6(),m.Oqu(e.deviceInfo.siteUrl)}}function CoreSettingsDeviceInfoPage_ion_item_30_p_7_Template(e,t){if(1&e&&(m.TgZ(0,"p"),m._uU(1),m.qZA()),2&e){const e=m.oxw(2);m.xp6(),m.Oqu(e.deviceInfo.siteVersion)}}function CoreSettingsDeviceInfoPage_ion_item_30_p_8_Template(e,t){if(1&e&&(m.TgZ(0,"p"),m._uU(1),m.qZA()),2&e){const e=m.oxw(2);m.xp6(),m.Oqu(e.deviceInfo.siteId)}}function CoreSettingsDeviceInfoPage_ion_item_30_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_30_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.YNc(5,CoreSettingsDeviceInfoPage_ion_item_30_ng_container_5_Template,2,0,"ng-container",11),m.qZA(),m.YNc(6,CoreSettingsDeviceInfoPage_ion_item_30_p_6_Template,3,2,"p",11)(7,CoreSettingsDeviceInfoPage_ion_item_30_p_7_Template,2,1,"p",11)(8,CoreSettingsDeviceInfoPage_ion_item_30_p_8_Template,2,1,"p",11),m.qZA()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,5,"core.settings.siteinfo")),m.xp6(2),m.Q6J("ngIf",e.deviceInfo.isPrefixedUrl),m.xp6(),m.Q6J("ngIf",e.displaySiteUrl),m.xp6(),m.Q6J("ngIf",e.deviceInfo.siteVersion),m.xp6(),m.Q6J("ngIf",e.deviceInfo.siteId)}}function CoreSettingsDeviceInfoPage_ion_item_31_a_6_Template(e,t){if(1&e&&(m.TgZ(0,"a",17),m._uU(1),m.qZA()),2&e){const e=m.oxw(2);m.Q6J("href",e.deviceInfo.fileSystemRoot,m.LSH),m.xp6(),m.hij(" ",e.deviceInfo.fileSystemRoot," ")}}function CoreSettingsDeviceInfoPage_ion_item_31_p_7_Template(e,t){if(1&e&&(m.TgZ(0,"p"),m._uU(1),m.qZA()),2&e){const e=m.oxw(2);m.xp6(),m.Oqu(e.deviceInfo.fileSystemRoot)}}function CoreSettingsDeviceInfoPage_ion_item_31_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_31_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m.YNc(6,CoreSettingsDeviceInfoPage_ion_item_31_a_6_Template,2,2,"a",16),m.qZA(),m.YNc(7,CoreSettingsDeviceInfoPage_ion_item_31_p_7_Template,2,1,"p",11),m.qZA()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,3,"core.settings.filesystemroot")),m.xp6(3),m.Q6J("ngIf",e.fsClickable),m.xp6(),m.Q6J("ngIf",!e.fsClickable)}}function CoreSettingsDeviceInfoPage_ion_item_32_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_32_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.qZA()()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,2,"core.settings.navigatoruseragent")),m.xp6(3),m.Oqu(e.deviceInfo.userAgent)}}function CoreSettingsDeviceInfoPage_ion_item_33_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_33_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.qZA()()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,2,"core.settings.navigatorlanguage")),m.xp6(3),m.Oqu(e.deviceInfo.browserLanguage)}}function CoreSettingsDeviceInfoPage_ion_item_34_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_34_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.qZA()()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,3,"core.settings.currentlanguage")),m.xp6(3),m.AsE("",e.currentLangName," (",e.deviceInfo.currentLanguage,")")}}function CoreSettingsDeviceInfoPage_ion_item_35_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_35_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.qZA()()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,2,"core.settings.locationhref")),m.xp6(3),m.Oqu(e.deviceInfo.locationHref)}}function CoreSettingsDeviceInfoPage_ion_item_36_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_36_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.ALo(7,"translate"),m.qZA()()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,2,"core.settings.displayformat")),m.xp6(3),m.Oqu(m.lcZ(7,4,"core."+e.deviceInfo.deviceType))}}function CoreSettingsDeviceInfoPage_ion_item_37_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_37_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.qZA()()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,2,"core.settings.deviceos")),m.xp6(3),m.Oqu(e.deviceOsTranslated)}}function CoreSettingsDeviceInfoPage_ion_item_38_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_38_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.qZA()()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,2,"core.settings.screen")),m.xp6(3),m.Oqu(e.deviceInfo.screen)}}function CoreSettingsDeviceInfoPage_ion_item_55_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_55_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.qZA()()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,2,"core.settings.cordovaversion")),m.xp6(3),m.Oqu(e.deviceInfo.cordovaVersion)}}function CoreSettingsDeviceInfoPage_ion_item_56_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_56_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.qZA()()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,2,"core.settings.cordovadeviceplatform")),m.xp6(3),m.Oqu(e.deviceInfo.platform)}}function CoreSettingsDeviceInfoPage_ion_item_57_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_57_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.qZA()()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,2,"core.settings.cordovadeviceosversion")),m.xp6(3),m.Oqu(e.deviceInfo.osVersion)}}function CoreSettingsDeviceInfoPage_ion_item_58_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_58_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.qZA()()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,2,"core.settings.cordovadevicemodel")),m.xp6(3),m.Oqu(e.deviceInfo.model)}}function CoreSettingsDeviceInfoPage_ion_item_59_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_59_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.qZA()()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,2,"core.settings.cordovadeviceuuid")),m.xp6(3),m.Oqu(e.deviceInfo.uuid)}}function CoreSettingsDeviceInfoPage_ion_item_60_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_60_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.qZA()()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,2,"core.settings.pushid")),m.xp6(3),m.Oqu(e.deviceInfo.pushId)}}function CoreSettingsDeviceInfoPage_ion_item_61_p_5_Template(e,t){1&e&&(m.TgZ(0,"p"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(),m.Oqu(m.lcZ(2,1,"core.no")))}function CoreSettingsDeviceInfoPage_ion_item_61_p_6_Template(e,t){1&e&&(m.TgZ(0,"p"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(),m.Oqu(m.lcZ(2,1,"core.yes")))}function CoreSettingsDeviceInfoPage_ion_item_61_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_ion_item_61_Template_ion_item_longPress_0_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.copyItemInfo(t))})),m.TgZ(1,"ion-label",8)(2,"p",9),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.YNc(5,CoreSettingsDeviceInfoPage_ion_item_61_p_5_Template,3,3,"p",11)(6,CoreSettingsDeviceInfoPage_ion_item_61_p_6_Template,3,3,"p",11),m.qZA()()}if(2&e){const e=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,3,"core.settings.encryptedpushsupported")),m.xp6(2),m.Q6J("ngIf",!e.deviceInfo.encryptedPushSupported),m.xp6(),m.Q6J("ngIf",e.deviceInfo.encryptedPushSupported)}}let te=(()=>{var e;class CoreSettingsDeviceInfoPage{constructor(){var e;this.fsClickable=!1,this.showDevOptions=!1,this.displaySiteUrl=!1,this.devOptionsClickCounter=0,this.devOptionsForced=!1;const t=I.m9.instance,n=y.AS.instance,i=y.vN.instance,o=window.navigator;if(this.deviceInfo={versionName:g.i.CONFIG.versionname,versionCode:g.i.CONFIG.versioncode,compilationTime:g.i.BUILD.compilationTime||0,lastCommit:g.i.BUILD.lastCommitHash||"",networkStatus:L.AS.isOnline()?"online":"offline",wifiConnection:L.AS.isWifi()?"yes":"no",localNotifAvailable:R.L.isPluginAvailable()?"yes":"no",pushId:V.d.getPushId(),deviceType:""},window.location&&window.location.href){const e=window.location.href;this.deviceInfo.locationHref=e.indexOf("#")>0?e.substring(0,e.indexOf("#")):e}if(window.screen&&(this.deviceInfo.screen=window.innerWidth+"x"+window.innerHeight+" ("+window.screen.width+"x"+window.screen.height+")"),u.n.isMobile())if(this.deviceInfo.deviceType=u.n.is("tablet")?"tablet":"phone",u.n.isAndroid())this.deviceInfo.deviceOs="android",this.deviceOsTranslated="Android";else if(u.n.isIOS())this.deviceInfo.deviceOs="ios",this.deviceOsTranslated="iOS";else{const e=o.userAgent.match(/\(([^)]*)\)/);e&&e.length>1?(this.deviceInfo.deviceOs=e[1],this.deviceOsTranslated=e[1]):(this.deviceInfo.deviceOs="unknown",this.deviceOsTranslated=i.instant("core.unknown"))}else{this.deviceInfo.deviceType="browser";const e=o.userAgent.match(/\(([^)]*)\)/);e&&e.length>1?(this.deviceInfo.deviceOs=e[1],this.deviceOsTranslated=e[1]):(this.deviceInfo.deviceOs="unknown",this.deviceOsTranslated=i.instant("core.unknown"))}o&&(o.userAgent&&(this.deviceInfo.userAgent=o.userAgent),o.language&&(this.deviceInfo.browserLanguage=o.language)),n&&(n.cordova&&(this.deviceInfo.cordovaVersion=n.cordova),n.platform&&(this.deviceInfo.platform=n.platform),n.version&&(this.deviceInfo.osVersion=n.version),n.model&&(this.deviceInfo.model=n.model),n.uuid&&(this.deviceInfo.uuid=n.uuid));const s=t.getCurrentSite();this.deviceInfo.siteId=null==s?void 0:s.getId(),this.deviceInfo.siteVersion=null==s||null===(e=s.getInfo())||void 0===e?void 0:e.release,this.onlineObserver=L.AS.onChange().subscribe((()=>{y.R0.run((()=>{this.deviceInfo.networkStatus=L.AS.isOnline()?"online":"offline"}))})),this.asyncInit()}asyncInit(){var e=this;return(0,r.Z)((function*(){const t=I.m9.instance,n=B.l.instance,i=yield Q.B.getCurrentLanguage();e.deviceInfo.currentLanguage=i,e.currentLangName=g.i.CONFIG.languages[i];const o=t.getCurrentSite(),s=yield P.s.isSingleFixedSite(),a=yield P.s.getAvailableSites(),r=s&&a[0].url;if(e.deviceInfo.siteUrl=(null==o?void 0:o.getURL())||r||void 0,e.deviceInfo.isPrefixedUrl=!!a.length,e.displaySiteUrl=!!e.deviceInfo.siteUrl&&(null!=o?o:j.C.makeUnauthenticatedSite(e.deviceInfo.siteUrl)).shouldDisplayInformativeLinks(),n.isAvailable()){const t=yield n.getBasePath();e.deviceInfo.fileSystemRoot=t,e.fsClickable=n.usesHTMLAPI()}const l=yield b.b.get("showDevOptions",0);e.devOptionsForced=g.i.enableDevTools(),e.showDevOptions=e.devOptionsForced||1==l;const c=e.deviceInfo.pushId?yield M.Tr.ignoreErrors(V.d.getPublicKey()):void 0;e.deviceInfo.encryptedPushSupported=void 0!==c}))()}copyInfo(){M.Tr.copyToClipboard(JSON.stringify(this.deviceInfo))}copyItemInfo(e){var t;const n=e.target,i=null==n||null===(t=n.closest("ion-item"))||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.trim();i&&M.Tr.copyToClipboard(i)}ngOnDestroy(){this.onlineObserver&&this.onlineObserver.unsubscribe()}enableDevOptions(){var e=this;return(0,r.Z)((function*(){if(!e.devOptionsForced){if(clearTimeout(e.devOptionsClickTimeout),e.devOptionsClickCounter++,5==e.devOptionsClickCounter)return e.showDevOptions?(e.showDevOptions=!1,yield b.b.delete("showDevOptions")):(e.showDevOptions=!0,yield b.b.set("showDevOptions",1),x.OQ.showToast("core.settings.youradev",!0)),e.devOptionsClickCounter=0,void 0;e.devOptionsClickTimeout=window.setTimeout((()=>{e.devOptionsClickTimeout=void 0,e.devOptionsClickCounter=0}),500)}}))()}gotoDevOptions(){q.b.navigate("dev")}}return(e=CoreSettingsDeviceInfoPage).ɵfac=function CoreSettingsDeviceInfoPage_Factory(t){return new(t||e)},e.ɵcmp=m.Xpm({type:e,selectors:[["page-core-app-settings-deviceinfo"]],decls:70,vars:54,consts:[["slot","start"],[3,"text"],["slot","end"],["fill","clear",3,"click"],["slot","icon-only","name","fas-clipboard","aria-hidden","true"],[1,"list-item-limited-width"],[3,"detail","click",4,"ngIf"],[3,"longPress"],[1,"ion-text-wrap"],[1,"item-heading"],[3,"longPress","click"],[4,"ngIf"],[3,"longPress",4,"ngIf"],[3,"detail","click"],["name","fas-terminal","slot","start","aria-hidden","true"],["core-link","","auto-login","yes",3,"href"],["core-link","","auto-login","no",3,"href",4,"ngIf"],["core-link","","auto-login","no",3,"href"]],template:function CoreSettingsDeviceInfoPage_Template(e,t){1&e&&(m.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),m._UZ(3,"ion-back-button",1),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"ion-title")(6,"h1"),m._uU(7),m.ALo(8,"translate"),m.qZA()(),m.TgZ(9,"ion-buttons",2)(10,"ion-button",3),m.NdJ("click",(function CoreSettingsDeviceInfoPage_Template_ion_button_click_10_listener(){return t.copyInfo()})),m.ALo(11,"translate"),m._UZ(12,"ion-icon",4),m.qZA()()()(),m.TgZ(13,"ion-content")(14,"ion-list",5),m.YNc(15,CoreSettingsDeviceInfoPage_ion_item_15_Template,6,4,"ion-item",6),m.TgZ(16,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_16_listener(e){return t.copyItemInfo(e)})),m.TgZ(17,"ion-label",8)(18,"p",9),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.TgZ(21,"p"),m._uU(22),m.qZA()()(),m.TgZ(23,"ion-item",10),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_23_listener(e){return t.copyItemInfo(e)}))("click",(function CoreSettingsDeviceInfoPage_Template_ion_item_click_23_listener(){return t.enableDevOptions()})),m.TgZ(24,"ion-label",8)(25,"p",9),m._uU(26),m.ALo(27,"translate"),m.qZA(),m.YNc(28,CoreSettingsDeviceInfoPage_p_28_Template,3,5,"p",11)(29,CoreSettingsDeviceInfoPage_p_29_Template,2,1,"p",11),m.qZA()(),m.YNc(30,CoreSettingsDeviceInfoPage_ion_item_30_Template,9,7,"ion-item",12)(31,CoreSettingsDeviceInfoPage_ion_item_31_Template,8,5,"ion-item",12)(32,CoreSettingsDeviceInfoPage_ion_item_32_Template,7,4,"ion-item",12)(33,CoreSettingsDeviceInfoPage_ion_item_33_Template,7,4,"ion-item",12)(34,CoreSettingsDeviceInfoPage_ion_item_34_Template,7,5,"ion-item",12)(35,CoreSettingsDeviceInfoPage_ion_item_35_Template,7,4,"ion-item",12)(36,CoreSettingsDeviceInfoPage_ion_item_36_Template,8,6,"ion-item",12)(37,CoreSettingsDeviceInfoPage_ion_item_37_Template,7,4,"ion-item",12)(38,CoreSettingsDeviceInfoPage_ion_item_38_Template,7,4,"ion-item",12),m.TgZ(39,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_39_listener(e){return t.copyItemInfo(e)})),m.TgZ(40,"ion-label",8)(41,"p",9),m._uU(42),m.ALo(43,"translate"),m.qZA(),m.TgZ(44,"p"),m._uU(45),m.ALo(46,"translate"),m.qZA()()(),m.TgZ(47,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_47_listener(e){return t.copyItemInfo(e)})),m.TgZ(48,"ion-label",8)(49,"p",9),m._uU(50),m.ALo(51,"translate"),m.qZA(),m.TgZ(52,"p"),m._uU(53),m.ALo(54,"translate"),m.qZA()()(),m.YNc(55,CoreSettingsDeviceInfoPage_ion_item_55_Template,7,4,"ion-item",12)(56,CoreSettingsDeviceInfoPage_ion_item_56_Template,7,4,"ion-item",12)(57,CoreSettingsDeviceInfoPage_ion_item_57_Template,7,4,"ion-item",12)(58,CoreSettingsDeviceInfoPage_ion_item_58_Template,7,4,"ion-item",12)(59,CoreSettingsDeviceInfoPage_ion_item_59_Template,7,4,"ion-item",12)(60,CoreSettingsDeviceInfoPage_ion_item_60_Template,7,4,"ion-item",12)(61,CoreSettingsDeviceInfoPage_ion_item_61_Template,7,5,"ion-item",12),m.TgZ(62,"ion-item",7),m.NdJ("longPress",(function CoreSettingsDeviceInfoPage_Template_ion_item_longPress_62_listener(e){return t.copyItemInfo(e)})),m.TgZ(63,"ion-label",8)(64,"p",9),m._uU(65),m.ALo(66,"translate"),m.qZA(),m.TgZ(67,"p"),m._uU(68),m.ALo(69,"translate"),m.qZA()()()()()),2&e&&(m.xp6(3),m.Q6J("text",m.lcZ(4,32,"core.back")),m.xp6(4),m.hij(" ",m.lcZ(8,34,"core.settings.deviceinfo")," "),m.xp6(3),m.uIk("aria-label",m.lcZ(11,36,"core.settings.copyinfo")),m.xp6(5),m.Q6J("ngIf",t.showDevOptions),m.xp6(4),m.Oqu(m.lcZ(20,38,"core.settings.appversion")),m.xp6(3),m.AsE("",t.deviceInfo.versionName," (",t.deviceInfo.versionCode,")"),m.xp6(4),m.Oqu(m.lcZ(27,40,"core.settings.compilationinfo")),m.xp6(2),m.Q6J("ngIf",t.deviceInfo.compilationTime),m.xp6(),m.Q6J("ngIf",t.deviceInfo.lastCommit),m.xp6(),m.Q6J("ngIf",t.deviceInfo.siteUrl),m.xp6(),m.Q6J("ngIf",t.deviceInfo.fileSystemRoot),m.xp6(),m.Q6J("ngIf",t.deviceInfo.userAgent),m.xp6(),m.Q6J("ngIf",t.deviceInfo.browserLanguage),m.xp6(),m.Q6J("ngIf",t.deviceInfo.currentLanguage),m.xp6(),m.Q6J("ngIf",t.deviceInfo.locationHref),m.xp6(),m.Q6J("ngIf",t.deviceInfo.deviceType),m.xp6(),m.Q6J("ngIf",t.deviceInfo.deviceOs&&t.deviceOsTranslated),m.xp6(),m.Q6J("ngIf",t.deviceInfo.screen),m.xp6(4),m.Oqu(m.lcZ(43,42,"core.settings.networkstatus")),m.xp6(3),m.Oqu(m.lcZ(46,44,"core."+t.deviceInfo.networkStatus)),m.xp6(5),m.Oqu(m.lcZ(51,46,"core.settings.wificonnection")),m.xp6(3),m.Oqu(m.lcZ(54,48,"core."+t.deviceInfo.wifiConnection)),m.xp6(2),m.Q6J("ngIf",t.deviceInfo.cordovaVersion),m.xp6(),m.Q6J("ngIf",t.deviceInfo.platform),m.xp6(),m.Q6J("ngIf",t.deviceInfo.osVersion),m.xp6(),m.Q6J("ngIf",t.deviceInfo.model),m.xp6(),m.Q6J("ngIf",t.deviceInfo.uuid),m.xp6(),m.Q6J("ngIf",t.deviceInfo.pushId),m.xp6(),m.Q6J("ngIf",t.deviceInfo.pushId),m.xp6(4),m.Oqu(m.lcZ(66,50,"core.settings.localnotifavailable")),m.xp6(3),m.Oqu(m.lcZ(69,52,"core."+t.deviceInfo.localNotifAvailable)))},dependencies:[f.O5,h.I,Y.y,X.m,S.t,J.O,T.YG,T.Sm,T.W2,T.Gu,T.gu,T.Ie,T.Q$,T.q_,T.wd,T.sr,T.oU,ee.o,Z.X$],styles:[".item[_ngcontent-%COMP%]{-webkit-user-select:text;user-select:text;cursor:text}"]}),CoreSettingsDeviceInfoPage})();var ne=n(34369),ie=n(76558),oe=n(67698),se=n(91266);function CoreSettingsDevPage_ion_buttons_9_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-buttons",14)(1,"ion-button",15),m.NdJ("click",(function CoreSettingsDevPage_ion_buttons_9_Template_ion_button_click_1_listener(){m.CHM(e);const t=m.oxw();return m.KtG(t.copyInfo())})),m.ALo(2,"translate"),m._UZ(3,"ion-icon",16),m.qZA()()}2&e&&(m.xp6(),m.uIk("aria-label",m.lcZ(2,1,"core.settings.copyinfo")))}function CoreSettingsDevPage_ion_item_22_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",4)(1,"ion-toggle",5),m.NdJ("ngModelChange",(function CoreSettingsDevPage_ion_item_22_Template_ion_toggle_ngModelChange_1_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.enableStagingSites=t)}))("ionChange",(function CoreSettingsDevPage_ion_item_22_Template_ion_toggle_ionChange_1_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.setEnabledStagingSites(t.detail.checked))})),m.TgZ(2,"p",6),m._uU(3,"Enable staging sites "),m.TgZ(4,"ion-badge"),m._uU(5),m.qZA()()()()}if(2&e){const e=m.oxw();m.xp6(),m.Q6J("ngModel",e.enableStagingSites),m.xp6(4),m.Oqu(e.stagingSitesCount)}}function CoreSettingsDevPage_ng_container_23_Template(e,t){if(1&e){const e=m.EpF();m.ynx(0),m.TgZ(1,"ion-item",4)(2,"ion-toggle",5),m.NdJ("ngModelChange",(function CoreSettingsDevPage_ng_container_23_Template_ion_toggle_ngModelChange_2_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.remoteStyles=t)}))("ionChange",(function CoreSettingsDevPage_ng_container_23_Template_ion_toggle_ionChange_2_listener(){m.CHM(e);const t=m.oxw();return m.KtG(t.remoteStylesChanged())})),m.TgZ(3,"p",6),m._uU(4,"Enable remote styles "),m.TgZ(5,"ion-badge"),m._uU(6),m.qZA()()()(),m.TgZ(7,"ion-item",4)(8,"ion-toggle",5),m.NdJ("ngModelChange",(function CoreSettingsDevPage_ng_container_23_Template_ion_toggle_ngModelChange_8_listener(t){m.CHM(e);const n=m.oxw();return m.KtG(n.pluginStyles=t)}))("ionChange",(function CoreSettingsDevPage_ng_container_23_Template_ion_toggle_ionChange_8_listener(){m.CHM(e);const t=m.oxw();return m.KtG(t.pluginStylesChanged())})),m.TgZ(9,"p",6),m._uU(10,"Enable site plugin styles "),m.TgZ(11,"ion-badge"),m._uU(12),m.qZA()()()(),m.BQk()}if(2&e){const e=m.oxw();m.xp6(2),m.Q6J("ngModel",e.remoteStyles),m.xp6(4),m.Oqu(e.remoteStylesCount),m.xp6(2),m.Q6J("ngModel",e.pluginStyles),m.xp6(4),m.Oqu(e.pluginStylesCount)}}function CoreSettingsDevPage_ion_item_24_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",4)(1,"ion-label")(2,"p",6),m._uU(3,"Reset user tours"),m.qZA()(),m.TgZ(4,"ion-button",17),m.NdJ("click",(function CoreSettingsDevPage_ion_item_24_Template_ion_button_click_4_listener(){m.CHM(e);const t=m.oxw();return m.KtG(t.resetUserTours())})),m._UZ(5,"ion-icon",18),m.qZA()()}}function CoreSettingsDevPage_ng_container_43_ion_item_5_Template(e,t){1&e&&(m.TgZ(0,"ion-item")(1,"ion-label"),m._uU(2,"There are no features disabled"),m.qZA()())}function CoreSettingsDevPage_ng_container_43_ion_item_6_Template(e,t){if(1&e&&(m.TgZ(0,"ion-item",4)(1,"ion-label")(2,"p",6),m._uU(3),m.qZA()()()),2&e){const e=t.$implicit;m.xp6(3),m.Oqu(e)}}function CoreSettingsDevPage_ng_container_43_ion_item_11_Template(e,t){1&e&&(m.TgZ(0,"ion-item")(1,"ion-label"),m._uU(2,"There are no site plugins installed"),m.qZA()())}function CoreSettingsDevPage_ng_container_43_ion_item_12_Template(e,t){if(1&e&&(m.TgZ(0,"ion-item",4)(1,"ion-label")(2,"p",6),m._uU(3),m.qZA(),m.TgZ(4,"p"),m._uU(5),m.qZA()()()),2&e){const e=t.$implicit;m.xp6(3),m.AsE("",e.addon," (",e.component,")"),m.xp6(2),m.Oqu(e.version)}}function CoreSettingsDevPage_ng_container_43_Template(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"ion-item-divider")(2,"ion-label")(3,"h2"),m._uU(4,"Disabled features"),m.qZA()()(),m.YNc(5,CoreSettingsDevPage_ng_container_43_ion_item_5_Template,3,0,"ion-item",8)(6,CoreSettingsDevPage_ng_container_43_ion_item_6_Template,4,1,"ion-item",19),m.TgZ(7,"ion-item-divider")(8,"ion-label")(9,"h2"),m._uU(10,"Site plugins"),m.qZA()()(),m.YNc(11,CoreSettingsDevPage_ng_container_43_ion_item_11_Template,3,0,"ion-item",8)(12,CoreSettingsDevPage_ng_container_43_ion_item_12_Template,6,3,"ion-item",19),m.BQk()),2&e){const e=m.oxw();m.xp6(5),m.Q6J("ngIf",0===e.disabledFeatures.length),m.xp6(),m.Q6J("ngForOf",e.disabledFeatures),m.xp6(5),m.Q6J("ngIf",0===e.sitePlugins.length),m.xp6(),m.Q6J("ngForOf",e.sitePlugins)}}let ae=(()=>{var e;class CoreSettingsDevPage{constructor(){this.rtl=!1,this.forceSafeAreaMargins=!1,this.direction="ltr",this.remoteStyles=!0,this.remoteStylesCount=0,this.pluginStyles=!0,this.pluginStylesCount=0,this.sitePlugins=[],this.userToursEnabled=!0,this.stagingSitesCount=0,this.disabledFeatures=[]}ngOnInit(){var e=this;return(0,r.Z)((function*(){var t,n,i,o;if(e.rtl=u.n.isRTL,e.RTLChanged(),e.forceSafeAreaMargins=document.documentElement.classList.contains("force-safe-area-margins"),e.safeAreaChanged(),e.siteId=null===(t=I.m9.getCurrentSite())||void 0===t?void 0:t.getId(),e.stagingSitesCount=g.i.CONFIG.sites.filter((e=>e.staging)).length,e.stagingSitesCount&&(e.enableStagingSites=yield A.f.hasEnabledStagingSites(),e.previousEnableStagingSites=e.enableStagingSites),!e.siteId)return;e.remoteStyles=!1,e.remoteStylesCount=0,e.pluginStyles=!1,e.pluginStylesCount=0,e.userToursEnabled=!oe.f.isDisabled(),document.head.querySelectorAll("style").forEach((t=>{e.siteId&&t.id.endsWith(e.siteId)&&(t.innerHTML.length>0&&e.remoteStylesCount++,e.remoteStyles=e.remoteStyles||"disabled"!=t.getAttribute("media")),t.id.startsWith("siteplugin-")&&(t.innerHTML.length>0&&e.pluginStylesCount++,e.pluginStyles=e.pluginStyles||"disabled"!=t.getAttribute("media"))})),e.sitePlugins=ie.l.getCurrentSitePluginList().map((e=>({addon:e.addon,component:e.component,version:e.version})));const s=null===(n=yield null===(i=I.m9.getCurrentSite())||void 0===i?void 0:i.getPublicConfig())||void 0===n?void 0:n.tool_mobile_disabledfeatures;e.disabledFeatures=null!==(o=null==s?void 0:s.split(",").filter((e=>e.trim().length>0)))&&void 0!==o?o:[]}))()}RTLChanged(){this.direction=this.rtl?"rtl":"ltr",document.dir=this.direction}safeAreaChanged(){document.documentElement.classList.toggle("force-safe-area-margins",this.forceSafeAreaMargins)}remoteStylesChanged(){document.head.querySelectorAll("style").forEach((e=>{this.siteId&&e.id.endsWith(this.siteId)&&(this.remoteStyles?e.removeAttribute("media"):e.setAttribute("media","disabled"))}))}pluginStylesChanged(){document.head.querySelectorAll("style").forEach((e=>{e.id.startsWith("siteplugin-")&&(this.pluginStyles?e.removeAttribute("media"):e.setAttribute("media","disabled"))}))}openErrorLog(){q.b.navigate("error-log")}copyInfo(){M.Tr.copyToClipboard(JSON.stringify({disabledFeatures:this.disabledFeatures,sitePlugins:this.sitePlugins}))}resetUserTours(){return(0,r.Z)((function*(){yield oe.f.resetTours(),yield b.b.delete(ne.Jx),yield b.b.delete(ne.lt),x.OQ.showToast("User tours have been reseted")}))()}invalidateCaches(){return(0,r.Z)((function*(){(yield x.OQ.showOperationModals("Invalidating caches",!0,(0,r.Z)((function*(){return yield se.n.invalidate(),!0}))))&&(yield x.OQ.showToast("Caches invalidated",!0,x.O2.LONG))}))()}clearFileStorage(){return(0,r.Z)((function*(){const e=yield I.m9.getSitesIds();yield B.l.clearDeletedSitesFolder(e),yield B.l.clearTmpFolder(),x.OQ.showToast("File storage cleared")}))()}setEnabledStagingSites(e){var t=this;return(0,r.Z)((function*(){if(t.enableStagingSites!==t.previousEnableStagingSites)try{yield A.f.setEnabledStagingSites(e),t.previousEnableStagingSites=e}catch(n){t.enableStagingSites=!e,x.OQ.showErrorModal(n)}}))()}}return(e=CoreSettingsDevPage).ɵfac=function CoreSettingsDevPage_Factory(t){return new(t||e)},e.ɵcmp=m.Xpm({type:e,selectors:[["page-core-app-settings-dev"]],decls:44,vars:15,consts:[["slot","start"],[3,"text"],["slot","end",4,"ngIf"],[1,"list-item-limited-width"],[1,"ion-text-wrap"],[3,"ngModel","ngModelChange","ionChange"],[1,"item-heading"],["class","ion-text-wrap",4,"ngIf"],[4,"ngIf"],["aria-label","Invalidate caches","fill","clear","slot","end",3,"click"],["slot","icon-only","aria-hidden","true","name","fas-rotate-right"],["button","",1,"ion-text-wrap",3,"detail","click"],["aria-label","Clear File Storage","fill","clear","slot","end",3,"click"],["slot","icon-only","aria-hidden","true","name","fas-broom"],["slot","end"],["fill","clear",3,"click"],["slot","icon-only","name","fas-clipboard","aria-hidden","true"],["aria-label","Reset user tours","fill","clear","slot","end",3,"click"],["slot","icon-only","aria-hidden","true","name","fas-repeat"],["class","ion-text-wrap",4,"ngFor","ngForOf"]],template:function CoreSettingsDevPage_Template(e,t){1&e&&(m.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),m._UZ(3,"ion-back-button",1),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"ion-title")(6,"h1"),m._uU(7),m.ALo(8,"translate"),m.qZA()(),m.YNc(9,CoreSettingsDevPage_ion_buttons_9_Template,4,3,"ion-buttons",2),m.qZA()(),m.TgZ(10,"ion-content")(11,"ion-list",3)(12,"ion-item",4)(13,"ion-toggle",5),m.NdJ("ngModelChange",(function CoreSettingsDevPage_Template_ion_toggle_ngModelChange_13_listener(e){return t.rtl=e}))("ionChange",(function CoreSettingsDevPage_Template_ion_toggle_ionChange_13_listener(){return t.RTLChanged()})),m.TgZ(14,"p",6),m._uU(15,"Change text direction"),m.qZA(),m.TgZ(16,"p"),m._uU(17),m.qZA()()(),m.TgZ(18,"ion-item",4)(19,"ion-toggle",5),m.NdJ("ngModelChange",(function CoreSettingsDevPage_Template_ion_toggle_ngModelChange_19_listener(e){return t.forceSafeAreaMargins=e}))("ionChange",(function CoreSettingsDevPage_Template_ion_toggle_ionChange_19_listener(){return t.safeAreaChanged()})),m.TgZ(20,"p",6),m._uU(21,"Force safe area margins"),m.qZA()()(),m.YNc(22,CoreSettingsDevPage_ion_item_22_Template,6,2,"ion-item",7)(23,CoreSettingsDevPage_ng_container_23_Template,13,4,"ng-container",8)(24,CoreSettingsDevPage_ion_item_24_Template,6,0,"ion-item",7),m.TgZ(25,"ion-item",4)(26,"ion-label")(27,"p",6),m._uU(28,"Invalidate caches"),m.qZA()(),m.TgZ(29,"ion-button",9),m.NdJ("click",(function CoreSettingsDevPage_Template_ion_button_click_29_listener(){return t.invalidateCaches()})),m._UZ(30,"ion-icon",10),m.qZA()(),m.TgZ(31,"ion-item",11),m.NdJ("click",(function CoreSettingsDevPage_Template_ion_item_click_31_listener(){return t.openErrorLog()})),m.TgZ(32,"ion-label")(33,"p",6),m._uU(34,"Error log"),m.qZA()()(),m.TgZ(35,"ion-item",4)(36,"ion-label")(37,"p",6),m._uU(38,"Clean file storage"),m.qZA(),m.TgZ(39,"p"),m._uU(40,"Clear deleted sites from file storage and temp folder"),m.qZA()(),m.TgZ(41,"ion-button",12),m.NdJ("click",(function CoreSettingsDevPage_Template_ion_button_click_41_listener(){return t.clearFileStorage()})),m._UZ(42,"ion-icon",13),m.qZA()(),m.YNc(43,CoreSettingsDevPage_ng_container_43_Template,13,4,"ng-container",8),m.qZA()()),2&e&&(m.xp6(3),m.Q6J("text",m.lcZ(4,11,"core.back")),m.xp6(4),m.Oqu(m.lcZ(8,13,"core.settings.developeroptions")),m.xp6(2),m.Q6J("ngIf",t.siteId),m.xp6(4),m.Q6J("ngModel",t.rtl),m.xp6(4),m.Oqu(t.direction),m.xp6(2),m.Q6J("ngModel",t.forceSafeAreaMargins),m.xp6(3),m.Q6J("ngIf",t.stagingSitesCount&&void 0!==t.enableStagingSites),m.xp6(),m.Q6J("ngIf",t.siteId),m.xp6(),m.Q6J("ngIf",t.userToursEnabled),m.xp6(7),m.Q6J("detail",!0),m.xp6(12),m.Q6J("ngIf",t.siteId))},dependencies:[f.sg,f.O5,h.I,S.t,J.O,N.JJ,N.On,T.yp,T.YG,T.Sm,T.W2,T.Gu,T.gu,T.Ie,T.rH,T.Q$,T.q_,T.wd,T.ho,T.sr,T.w,T.oU,Z.X$],encapsulation:2}),CoreSettingsDevPage})();var re=n(60741),le=n(55126),ce=n(22742);function CoreSettingsErrorLogPage_ion_buttons_8_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-buttons",5)(1,"ion-button",6),m.NdJ("click",(function CoreSettingsErrorLogPage_ion_buttons_8_Template_ion_button_click_1_listener(){m.CHM(e);const t=m.oxw();return m.KtG(t.copyError())})),m.ALo(2,"translate"),m._UZ(3,"ion-icon",7),m.qZA()()}2&e&&(m.xp6(),m.uIk("aria-label",m.lcZ(2,1,"core.settings.copyinfo")))}function CoreSettingsErrorLogPage_ion_list_10_ion_item_1_ng_container_6_Template(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"p",11),m._uU(2,"Method"),m.qZA(),m.TgZ(3,"p",12),m._uU(4),m.qZA(),m.BQk()),2&e){const e=m.oxw().$implicit;m.xp6(4),m.Oqu(e.method)}}function CoreSettingsErrorLogPage_ion_list_10_ion_item_1_ng_container_7_Template(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"p",11),m._uU(2,"Type"),m.qZA(),m.TgZ(3,"p",12),m._uU(4),m.qZA(),m.BQk()),2&e){const e=m.oxw().$implicit;m.xp6(4),m.Oqu(e.type)}}function CoreSettingsErrorLogPage_ion_list_10_ion_item_1_ng_container_8_Template(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"p",11),m._uU(2,"Data"),m.qZA(),m.TgZ(3,"p",12),m._uU(4),m.ALo(5,"json"),m.qZA(),m.BQk()),2&e){const e=m.oxw().$implicit;m.xp6(4),m.Oqu(m.lcZ(5,1,e.data))}}function CoreSettingsErrorLogPage_ion_list_10_ion_item_1_p_9_Template(e,t){if(1&e&&(m.TgZ(0,"p",15),m._uU(1),m.ALo(2,"coreFormatDate"),m.qZA()),2&e){const e=m.oxw().$implicit;m.xp6(),m.hij(" ",m.xi3(2,1,e.time,"strftimedatetimeshort")," ")}}function CoreSettingsErrorLogPage_ion_list_10_ion_item_1_Template(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"ion-item",9),m.NdJ("click",(function CoreSettingsErrorLogPage_ion_list_10_ion_item_1_Template_ion_item_click_0_listener(){const t=m.CHM(e).$implicit,n=m.oxw(2);return m.KtG(n.copyError(t))})),m.TgZ(1,"ion-label",10)(2,"p",11),m._uU(3,"Trace"),m.qZA(),m.TgZ(4,"p",12),m._uU(5),m.qZA(),m.YNc(6,CoreSettingsErrorLogPage_ion_list_10_ion_item_1_ng_container_6_Template,5,1,"ng-container",13)(7,CoreSettingsErrorLogPage_ion_list_10_ion_item_1_ng_container_7_Template,5,1,"ng-container",13)(8,CoreSettingsErrorLogPage_ion_list_10_ion_item_1_ng_container_8_Template,6,3,"ng-container",13)(9,CoreSettingsErrorLogPage_ion_list_10_ion_item_1_p_9_Template,3,4,"p",14),m.qZA()()}if(2&e){const e=t.$implicit;m.xp6(),m.Q6J("collapsible-item",96),m.xp6(4),m.Oqu(e.message),m.xp6(),m.Q6J("ngIf",e.method),m.xp6(),m.Q6J("ngIf",e.type),m.xp6(),m.Q6J("ngIf",e.data),m.xp6(),m.Q6J("ngIf",e.time)}}function CoreSettingsErrorLogPage_ion_list_10_Template(e,t){if(1&e&&(m.TgZ(0,"ion-list"),m.YNc(1,CoreSettingsErrorLogPage_ion_list_10_ion_item_1_Template,10,6,"ion-item",8),m.qZA()),2&e){const e=m.oxw();m.xp6(),m.Q6J("ngForOf",e.errorLogs)}}function CoreSettingsErrorLogPage_ng_template_11_Template(e,t){1&e&&m._UZ(0,"core-empty-box",16)}let ge=(()=>{var e;class CoreSettingsErrorLogPage{constructor(){this.errorLogs=[]}ngOnInit(){this.errorLogs=re._.getErrorLogs()}copyError(e){var t=this;return(0,r.Z)((function*(){e?yield M.Tr.copyToClipboard(JSON.stringify(e)):yield M.Tr.copyToClipboard(JSON.stringify({errors:t.errorLogs}))}))()}}return(e=CoreSettingsErrorLogPage).ɵfac=function CoreSettingsErrorLogPage_Factory(t){return new(t||e)},e.ɵcmp=m.Xpm({type:e,selectors:[["page-core-app-settings-error-log"]],decls:13,vars:6,consts:[["slot","start"],[3,"text"],["slot","end",4,"ngIf"],[4,"ngIf","ngIfElse"],["noLogs",""],["slot","end"],["fill","clear",3,"click"],["slot","icon-only","name","fas-clipboard","aria-hidden","true"],["button","","lines","full","class","ion-text-wrap",3,"click",4,"ngFor","ngForOf"],["button","","lines","full",1,"ion-text-wrap",3,"click"],[1,"ion-padding",3,"collapsible-item"],[1,"item-heading"],[1,"ion-text-wrap"],[4,"ngIf"],["class","ion-text-end",4,"ngIf"],[1,"ion-text-end"],["message","No logs available","icon","fas-clipboard-question"]],template:function CoreSettingsErrorLogPage_Template(e,t){if(1&e&&(m.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),m._UZ(3,"ion-back-button",1),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"ion-title")(6,"h1"),m._uU(7,"Error log"),m.qZA()(),m.YNc(8,CoreSettingsErrorLogPage_ion_buttons_8_Template,4,3,"ion-buttons",2),m.qZA()(),m.TgZ(9,"ion-content"),m.YNc(10,CoreSettingsErrorLogPage_ion_list_10_Template,2,1,"ion-list",3)(11,CoreSettingsErrorLogPage_ng_template_11_Template,1,0,"ng-template",null,4,m.W1O),m.qZA()),2&e){const e=m.MAs(12);m.xp6(3),m.Q6J("text",m.lcZ(4,4,"core.back")),m.xp6(5),m.Q6J("ngIf",t.errorLogs.length),m.xp6(2),m.Q6J("ngIf",t.errorLogs.length)("ngIfElse",e)}},dependencies:[f.sg,f.O5,le.z,h.I,ce._,S.t,J.O,T.YG,T.Sm,T.W2,T.Gu,T.gu,T.Ie,T.Q$,T.q_,T.wd,T.sr,T.oU,f.Ts,ee.o,Z.X$],encapsulation:2}),CoreSettingsErrorLogPage})();const _e=[{path:"general",component:F},{path:"spaceusage",component:H},{path:"sync",component:k},{path:p.LK,loadChildren:()=>n.e(9822).then(n.bind(n,19822)).then((e=>e.CoreSharedFilesLazyModule))},{path:"about",component:K}],pe=[{path:"",component:C},..._e],ue=[{path:"",component:C,children:[{path:"",pathMatch:"full",redirectTo:"general"},..._e]}],de=[...(0,o.Vr)(pe,(()=>a.X4.isMobile)),...(0,o.Vr)(ue,(()=>a.X4.isTablet)),{path:"about/deviceinfo",component:te},{path:"about/deviceinfo/dev",component:ae},{path:"about/deviceinfo/dev/error-log",component:ge},{path:"about/licenses",component:W}];let me=(()=>{var e;class CoreSettingsLazyModule{}return(e=CoreSettingsLazyModule).ɵfac=function CoreSettingsLazyModule_Factory(t){return new(t||e)},e.ɵmod=m.oAB({type:e}),e.ɵinj=m.cJS({imports:[i.Bz.forChild(de),s.L]}),CoreSettingsLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&m.kYT(me,{declarations:[C,k,F,H,K,W,te,ae,ge],imports:[i.Bz,s.L]}))}}]);