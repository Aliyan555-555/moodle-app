"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9655],{89655:(o,e,t)=>{t.r(e),t.d(e,{CorePasswordModalComponent:()=>p,CorePasswordModalModule:()=>Z});var r=t(49671),n=t(53564),a=t(40067),s=t(10727),i=t(13010),d=t(19212);const l=["passwordForm"];function CorePasswordModalComponent_ion_item_19_Template(o,e){if(1&o&&(d.TgZ(0,"ion-item",10),d._UZ(1,"core-format-text",11),d.ALo(2,"translate"),d.qZA()),2&o){const o=d.oxw();d.xp6(),d.Q6J("text",d.lcZ(2,1,o.error))}}let p=(()=>{var o;class CorePasswordModalComponent{constructor(){this.title="core.login.password",this.placeholder="core.login.password",this.submit="core.submit",this.password=""}submitPassword(o){var e=this;return(0,r.Z)((function*(){o.preventDefault(),o.stopPropagation(),a.o.triggerFormSubmittedEvent(e.formElement,!1,n.m9.getCurrentSiteId());const t=yield e.validatePassword(e.password);void 0===t.validated&&s.IN.dismiss(t),t.validated&&s.IN.dismiss(t),"string"==typeof t.error?e.error=t.error:t.error&&s.IN.dismiss(t.error)}))()}validatePassword(o){var e=this;return(0,r.Z)((function*(){const t={password:o};if(!e.validator)return t;const r=yield i.OQ.showModalLoading("core.loading",!0);try{return yield e.validator(o)}catch(o){t.validated=!1,t.error=o}finally{r.dismiss()}return t}))()}closeModal(){a.o.triggerFormCancelledEvent(this.formElement,n.m9.getCurrentSiteId()),s.IN.dismiss()}}return(o=CorePasswordModalComponent).ɵfac=function CorePasswordModalComponent_Factory(e){return new(e||o)},o.ɵcmp=d.Xpm({type:o,selectors:[["core-password-modal"]],viewQuery:function CorePasswordModalComponent_Query(o,e){if(1&o&&d.Gf(l,5),2&o){let o;d.iGM(o=d.CRH())&&(e.formElement=o.first)}},inputs:{title:"title",placeholder:"placeholder",submit:"submit",validator:"validator"},decls:24,vars:19,consts:[["slot","end"],["fill","clear",3,"click"],["slot","icon-only","name","fas-xmark","aria-hidden","true"],[1,"ion-padding"],[3,"ngSubmit"],["passwordForm",""],["name","password","type","password","core-auto-focus","",1,"ion-text-wrap","core-ioninput-password",3,"placeholder","ngModel","clearOnEdit","ngModelChange"],["class","ion-text-wrap ion-padding-top text-danger",4,"ngIf"],["expand","block","type","submit",3,"disabled"],["type","submit",1,"core-submit-hidden-enter"],[1,"ion-text-wrap","ion-padding-top","text-danger"],[3,"text"]],template:function CorePasswordModalComponent_Template(o,e){1&o&&(d.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"h1"),d._uU(4),d.ALo(5,"translate"),d.qZA()(),d.TgZ(6,"ion-buttons",0)(7,"ion-button",1),d.NdJ("click",(function CorePasswordModalComponent_Template_ion_button_click_7_listener(){return e.closeModal()})),d.ALo(8,"translate"),d._UZ(9,"ion-icon",2),d.qZA()()()(),d.TgZ(10,"ion-content",3)(11,"form",4,5),d.NdJ("ngSubmit",(function CorePasswordModalComponent_Template_form_ngSubmit_11_listener(o){return e.submitPassword(o)})),d.TgZ(13,"div")(14,"ion-item")(15,"ion-input",6),d.NdJ("ngModelChange",(function CorePasswordModalComponent_Template_ion_input_ngModelChange_15_listener(o){return e.password=o})),d.ALo(16,"translate"),d.ALo(17,"translate"),d._UZ(18,"core-show-password",0),d.qZA()(),d.YNc(19,CorePasswordModalComponent_ion_item_19_Template,3,3,"ion-item",7),d.qZA(),d.TgZ(20,"ion-button",8),d._uU(21),d.ALo(22,"translate"),d.qZA(),d._UZ(23,"input",9),d.qZA()()),2&o&&(d.xp6(4),d.Oqu(d.lcZ(5,9,e.title)),d.xp6(3),d.uIk("aria-label",d.lcZ(8,11,"core.close")),d.xp6(8),d.s9C("placeholder",d.lcZ(17,15,e.placeholder)),d.Q6J("ngModel",e.password)("clearOnEdit",!1),d.uIk("aria-label",d.lcZ(16,13,e.placeholder)),d.xp6(4),d.Q6J("ngIf",e.error),d.xp6(),d.Q6J("disabled",!e.password),d.xp6(),d.hij(" ",d.lcZ(22,17,e.submit)," "))},encapsulation:2}),CorePasswordModalComponent})();var c=t(13386),u=t(96814),m=t(44887),w=t(15390),g=t(86700),C=t(8947),_=t(29657),f=t(22068),M=t(56223),h=t(31903),b=t(89515);let Z=(()=>{var o;class CorePasswordModalModule{}return(o=CorePasswordModalModule).ɵfac=function CorePasswordModalModule_Factory(e){return new(e||o)},o.ɵmod=d.oAB({type:o}),o.ɵinj=d.cJS({imports:[c.L]}),CorePasswordModalModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&d.kYT(Z,{declarations:[p],imports:[c.L]})),d.B6R(p,[u.O5,m.K,w.W,g.I,C.r,_.t,f.O,M._Y,M.JJ,M.JL,M.On,M.F,h.YG,h.Sm,h.W2,h.Gu,h.gu,h.pK,h.Ie,h.wd,h.sr,h.j9],[b.X$])}}]);