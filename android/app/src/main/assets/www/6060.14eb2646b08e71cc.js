"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6060],{16060:(e,o,t)=>{t.r(o),t.d(o,{CoreUserAppLazyModule:()=>Z});var r=t(13386),n=t(67643),i=t(53564),l=t(69956),s=t(10727),a=t(43555),c=t(98370),p=t(75803),u=t(70955),_=t(19212),g=t(96814),f=t(86700),d=t(29657),m=t(22068),C=t(31903),P=t(89515);function CoreUserCompleteProfilePage_h1_6_Template(e,o){1&e&&(_.TgZ(0,"h1"),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&e&&(_.xp6(),_.Oqu(_.lcZ(2,1,"core.user.completeyourprofile")))}function CoreUserCompleteProfilePage_h1_7_Template(e,o){1&e&&(_.TgZ(0,"h1"),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&e&&(_.xp6(),_.Oqu(_.lcZ(2,1,"core.login.reconnecttosite")))}function CoreUserCompleteProfilePage_ng_container_14_Template(e,o){if(1&e){const e=_.EpF();_.ynx(0),_.TgZ(1,"ion-item",7)(2,"ion-label")(3,"p"),_._uU(4),_.ALo(5,"translate"),_.qZA()()(),_.TgZ(6,"ion-button",9),_.NdJ("click",(function CoreUserCompleteProfilePage_ng_container_14_Template_ion_button_click_6_listener(){_.CHM(e);const o=_.oxw();return _.KtG(o.openCompleteProfilePage())})),_._uU(7),_.ALo(8,"translate"),_.qZA(),_.BQk()}2&e&&(_.xp6(4),_.Oqu(_.lcZ(5,2,"core.user.completeprofilenotice")),_.xp6(3),_.hij(" ",_.lcZ(8,4,"core.user.completeprofile")," "))}function CoreUserCompleteProfilePage_ng_container_15_Template(e,o){if(1&e){const e=_.EpF();_.ynx(0),_.TgZ(1,"ion-item",7)(2,"ion-label")(3,"p"),_._uU(4),_.ALo(5,"translate"),_.qZA()()(),_.TgZ(6,"ion-button",9),_.NdJ("click",(function CoreUserCompleteProfilePage_ng_container_15_Template_ion_button_click_6_listener(){_.CHM(e);const o=_.oxw();return _.KtG(o.login())})),_._uU(7),_.ALo(8,"translate"),_.qZA(),_.BQk()}2&e&&(_.xp6(4),_.Oqu(_.lcZ(5,2,"core.user.completeprofilereconnectinstructions")),_.xp6(3),_.hij(" ",_.lcZ(8,4,"core.login.reconnect")," "))}let h=(()=>{var e;class CoreUserCompleteProfilePage{constructor(){this.editingProfile=!1,this.logoutLabel=l.s.getLogoutLabel()}showHelp(){u.O.showHelp(s.vN.instant("core.user.completeprofilehelp"),s.vN.instant("core.user.completeprofilesupportsubject"))}openCompleteProfilePage(){l.s.openInAppForEdit(i.m9.getCurrentSiteId(),"/user/edit.php",void 0,!0),this.editingProfile=!0,this.detectProileEdited()}login(){a.b.navigateToSiteHome(),this.editingProfile=!1}logout(){i.m9.logout(),this.editingProfile=!1}detectProileEdited(){this.urlLoadedObserver||(this.urlLoadedObserver=c.R.on(c.R.IAB_LOAD_START,(e=>{e.url.match(/\/user\/preferences.php/)&&(p.Tr.closeInAppBrowser(),this.login())})),this.browserClosedObserver=c.R.on(c.R.IAB_EXIT,(()=>{var e,o;null===(e=this.urlLoadedObserver)||void 0===e||e.off(),null===(o=this.browserClosedObserver)||void 0===o||o.off(),delete this.urlLoadedObserver,delete this.browserClosedObserver})))}ngOnDestroy(){var e,o;null===(e=this.urlLoadedObserver)||void 0===e||e.off(),null===(o=this.browserClosedObserver)||void 0===o||o.off()}}return(e=CoreUserCompleteProfilePage).ɵfac=function CoreUserCompleteProfilePage_Factory(o){return new(o||e)},e.ɵcmp=_.Xpm({type:e,selectors:[["page-core-user-complete-profile"]],decls:24,vars:16,consts:[["slot","start"],[3,"text"],[4,"ngIf"],["slot","end"],["fill","clear",3,"click"],["slot","icon-only","name","far-circle-question","aria-hidden","true"],[1,"list-item-limited-width"],[1,"ion-text-wrap"],["expand","block","fill","outline",1,"ion-text-wrap","ion-margin",3,"click"],["expand","block",1,"ion-text-wrap","ion-margin",3,"click"]],template:function CoreUserCompleteProfilePage_Template(e,o){1&e&&(_.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),_._UZ(3,"ion-back-button",1),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"ion-title"),_.YNc(6,CoreUserCompleteProfilePage_h1_6_Template,3,3,"h1",2)(7,CoreUserCompleteProfilePage_h1_7_Template,3,3,"h1",2),_.qZA(),_.TgZ(8,"ion-buttons",3)(9,"ion-button",4),_.NdJ("click",(function CoreUserCompleteProfilePage_Template_ion_button_click_9_listener(){return o.showHelp()})),_.ALo(10,"translate"),_._UZ(11,"ion-icon",5),_.qZA()()()(),_.TgZ(12,"ion-content")(13,"ion-list",6),_.YNc(14,CoreUserCompleteProfilePage_ng_container_14_Template,9,6,"ng-container",2)(15,CoreUserCompleteProfilePage_ng_container_15_Template,9,6,"ng-container",2),_.TgZ(16,"ion-item",7)(17,"ion-label")(18,"p"),_._uU(19),_.ALo(20,"translate"),_.qZA()()(),_.TgZ(21,"ion-button",8),_.NdJ("click",(function CoreUserCompleteProfilePage_Template_ion_button_click_21_listener(){return o.logout()})),_._uU(22),_.ALo(23,"translate"),_.qZA()()()),2&e&&(_.xp6(3),_.Q6J("text",_.lcZ(4,8,"core.back")),_.xp6(3),_.Q6J("ngIf",!o.editingProfile),_.xp6(),_.Q6J("ngIf",o.editingProfile),_.xp6(2),_.uIk("aria-label",_.lcZ(10,10,"core.help")),_.xp6(5),_.Q6J("ngIf",!o.editingProfile),_.xp6(),_.Q6J("ngIf",o.editingProfile),_.xp6(4),_.Oqu(_.lcZ(20,12,"core.wanttochangesite")),_.xp6(3),_.hij(" ",_.lcZ(23,14,o.logoutLabel)," "))},dependencies:[g.O5,f.I,d.t,m.O,C.YG,C.Sm,C.W2,C.Gu,C.gu,C.Ie,C.Q$,C.q_,C.wd,C.sr,C.oU,P.X$],encapsulation:2}),CoreUserCompleteProfilePage})();const b=[{path:"completeprofile",component:h}];let Z=(()=>{var e;class CoreUserAppLazyModule{}return(e=CoreUserAppLazyModule).ɵfac=function CoreUserAppLazyModule_Factory(o){return new(o||e)},e.ɵmod=_.oAB({type:e}),e.ɵinj=_.cJS({imports:[n.Bz.forChild(b),r.L,n.Bz]}),CoreUserAppLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&_.kYT(Z,{declarations:[h],imports:[n.Bz,r.L],exports:[n.Bz]}))}}]);