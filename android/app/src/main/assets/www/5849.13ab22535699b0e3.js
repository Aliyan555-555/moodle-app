"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5849],{15849:(e,n,a)=>{a.r(n),a.d(n,{AddonBadgesLazyModule:()=>R});var t=a(67643),o=a(23966),i=a(38049),d=a(13386),g=a(49671),s=a(52160),_=a(13010),r=a(53564),u=a(45151),l=a(44858),m=a(75803),c=a(92974),p=a(43555),b=a(71460),A=a(54129);class AddonBadgesUserBadgesSource extends A.H{constructor(e,n){super(),this.COURSE_ID=e,this.USER_ID=n}getItemPath(e){return e.uniquehash}getItemQueryParams(){return{courseId:this.COURSE_ID,userId:this.USER_ID}}loadPageItems(){var e=this;return(0,g.Z)((function*(){return{items:yield l.M.getUserBadges(e.COURSE_ID,e.USER_ID)}}))()}}var B=a(25233),f=a(43468),Z=a(88817),I=a(19212),x=a(96814),T=a(66931),h=a(50668),q=a(8947),U=a(21525),P=a(5065),w=a(29657),O=a(31903),y=a(83369),J=a(89515);function AddonBadgesIssuedBadgePage_h1_6_Template(e,n){if(1&e&&(I.TgZ(0,"h1"),I._uU(1),I.qZA()),2&e){const e=I.oxw();I.xp6(),I.Oqu(e.badge.name)}}function AddonBadgesIssuedBadgePage_h1_7_Template(e,n){1&e&&(I.TgZ(0,"h1"),I._uU(1),I.ALo(2,"translate"),I.qZA()),2&e&&(I.xp6(),I.Oqu(I.lcZ(2,1,"addon.badges.badges")))}function AddonBadgesIssuedBadgePage_ion_item_group_13_img_3_Template(e,n){if(1&e&&I._UZ(0,"img",10),2&e){const e=I.oxw(2);I.Q6J("src",e.badge.badgeurl,I.LSH)("alt",e.badge.name)}}function AddonBadgesIssuedBadgePage_ion_item_group_13_ion_badge_4_Template(e,n){1&e&&(I.TgZ(0,"ion-badge",11),I._uU(1),I.ALo(2,"translate"),I.qZA()),2&e&&(I.xp6(),I.hij(" ",I.lcZ(2,1,"addon.badges.expired")," "))}function AddonBadgesIssuedBadgePage_ion_item_group_13_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item-group")(1,"ion-item",7)(2,"ion-label"),I.YNc(3,AddonBadgesIssuedBadgePage_ion_item_group_13_img_3_Template,1,2,"img",8)(4,AddonBadgesIssuedBadgePage_ion_item_group_13_ion_badge_4_Template,3,3,"ion-badge",9),I.qZA()()()),2&e){const e=I.oxw();I.xp6(3),I.Q6J("ngIf",e.badge.badgeurl),I.xp6(),I.Q6J("ngIf",e.badge.dateexpire&&e.currentTime>=e.badge.dateexpire)}}function AddonBadgesIssuedBadgePage_ion_item_group_14_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item-group")(1,"ion-item-divider")(2,"ion-label")(3,"h2"),I._uU(4),I.ALo(5,"translate"),I.qZA()()(),I.TgZ(6,"ion-item",12)(7,"ion-label")(8,"p",13),I._uU(9),I.ALo(10,"translate"),I.qZA(),I.TgZ(11,"p"),I._uU(12),I.qZA()()()()),2&e){const e=I.oxw();I.xp6(4),I.Oqu(I.lcZ(5,3,"addon.badges.recipientdetails")),I.xp6(5),I.Oqu(I.lcZ(10,5,"core.name")),I.xp6(3),I.Oqu(e.user.fullname)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_7_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p"),I._uU(6),I.qZA()()()),2&e){const e=I.oxw(2);I.xp6(3),I.Oqu(I.lcZ(4,2,"addon.badges.issuername")),I.xp6(3),I.Oqu(e.badge.issuername)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_8_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p")(6,"a",15),I._uU(7),I.qZA()()()()),2&e){const e=I.oxw(2);I.xp6(3),I.Oqu(I.lcZ(4,4,"addon.badges.contact")),I.xp6(3),I.MGl("href","mailto:",e.badge.issuercontact,"",I.LSH),I.Q6J("showBrowserWarning",!1),I.xp6(),I.hij(" ",e.badge.issuercontact," ")}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_15_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p"),I._uU(6),I.qZA()()()),2&e){const e=I.oxw(2);I.xp6(3),I.Oqu(I.lcZ(4,2,"core.name")),I.xp6(3),I.Oqu(e.badge.name)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_16_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p"),I._uU(6),I.qZA()()()),2&e){const e=I.oxw(2);I.xp6(3),I.Oqu(I.lcZ(4,2,"addon.badges.version")),I.xp6(3),I.Oqu(e.badge.version)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_17_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p"),I._uU(6),I.qZA()()()),2&e){const e=I.oxw(2);I.xp6(3),I.Oqu(I.lcZ(4,2,"addon.badges.language")),I.xp6(3),I.Oqu(e.badge.language)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_18_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p"),I._uU(6),I.qZA()()()),2&e){const e=I.oxw(2);I.xp6(3),I.Oqu(I.lcZ(4,2,"core.description")),I.xp6(3),I.Oqu(e.badge.description)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_19_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p"),I._uU(6),I.qZA()()()),2&e){const e=I.oxw(2);I.xp6(3),I.Oqu(I.lcZ(4,2,"addon.badges.imageauthorname")),I.xp6(3),I.Oqu(e.badge.imageauthorname)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_20_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p")(6,"a",15),I._uU(7),I.qZA()()()()),2&e){const e=I.oxw(2);I.xp6(3),I.Oqu(I.lcZ(4,4,"addon.badges.imageauthoremail")),I.xp6(3),I.MGl("href","mailto:",e.badge.imageauthoremail,"",I.LSH),I.Q6J("showBrowserWarning",!1),I.xp6(),I.hij(" ",e.badge.imageauthoremail," ")}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_21_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p")(6,"a",16),I._uU(7),I.qZA()()()()),2&e){const e=I.oxw(2);I.xp6(3),I.Oqu(I.lcZ(4,3,"addon.badges.imageauthorurl")),I.xp6(3),I.Q6J("href",e.badge.imageauthorurl,I.LSH),I.xp6(),I.hij(" ",e.badge.imageauthorurl," ")}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_22_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p"),I._uU(6),I.qZA()()()),2&e){const e=I.oxw(2);I.xp6(3),I.Oqu(I.lcZ(4,2,"addon.badges.imagecaption")),I.xp6(3),I.Oqu(e.badge.imagecaption)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_23_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p"),I._UZ(6,"core-format-text",17),I.qZA()()()),2&e){const e=I.oxw(2);I.xp6(3),I.Oqu(I.lcZ(4,3,"core.course")),I.xp6(3),I.Q6J("text",e.course.fullname)("contextInstanceId",e.courseId)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_30_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p"),I._uU(6),I.ALo(7,"coreFormatDate"),I.qZA()()()),2&e){const e=I.oxw(2);I.xp6(3),I.Oqu(I.lcZ(4,2,"addon.badges.dateawarded")),I.xp6(3),I.Oqu(I.lcZ(7,4,1e3*e.badge.dateissued))}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_31_span_8_Template(e,n){1&e&&(I.TgZ(0,"span",19),I._uU(1),I.ALo(2,"translate"),I.qZA()),2&e&&(I.xp6(),I.hij(" ",I.lcZ(2,1,"addon.badges.warnexpired")," "))}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_31_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p"),I._uU(6),I.ALo(7,"coreFormatDate"),I.YNc(8,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_31_span_8_Template,3,3,"span",18),I.qZA()()()),2&e){const e=I.oxw(2);I.xp6(3),I.Oqu(I.lcZ(4,3,"addon.badges.expirydate")),I.xp6(3),I.hij(" ",I.lcZ(7,5,1e3*e.badge.dateexpire)," "),I.xp6(2),I.Q6J("ngIf",e.currentTime>=e.badge.dateexpire)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_ion_item_6_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p"),I._uU(6),I.qZA()()()),2&e){const e=I.oxw(3);I.xp6(3),I.Oqu(I.lcZ(4,2,"addon.badges.issuername")),I.xp6(3),I.Oqu(e.badge.endorsement.issuername)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_ion_item_7_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p")(6,"a",15),I._uU(7),I.qZA()()()()),2&e){const e=I.oxw(3);I.xp6(3),I.Oqu(I.lcZ(4,4,"addon.badges.issueremail")),I.xp6(3),I.MGl("href","mailto:",e.badge.endorsement.issueremail,"",I.LSH),I.Q6J("showBrowserWarning",!1),I.xp6(),I.hij(" ",e.badge.endorsement.issueremail," ")}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_ion_item_8_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p")(6,"a",16),I._uU(7),I.qZA()()()()),2&e){const e=I.oxw(3);I.xp6(3),I.Oqu(I.lcZ(4,3,"addon.badges.issuerurl")),I.xp6(3),I.Q6J("href",e.badge.endorsement.issuerurl,I.LSH),I.xp6(),I.hij(" ",e.badge.endorsement.issuerurl," ")}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_ion_item_9_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p"),I._uU(6),I.ALo(7,"coreFormatDate"),I.qZA()()()),2&e){const e=I.oxw(3);I.xp6(3),I.Oqu(I.lcZ(4,2,"addon.badges.dateawarded")),I.xp6(3),I.Oqu(I.lcZ(7,4,1e3*e.badge.endorsement.dateissued))}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_ion_item_10_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p")(6,"a",16),I._uU(7),I.qZA()()()()),2&e){const e=I.oxw(3);I.xp6(3),I.Oqu(I.lcZ(4,3,"addon.badges.claimid")),I.xp6(3),I.Q6J("href",e.badge.endorsement.claimid,I.LSH),I.xp6(),I.hij(" ",e.badge.endorsement.claimid," ")}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_ion_item_11_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"p"),I._uU(6),I.qZA()()()),2&e){const e=I.oxw(3);I.xp6(3),I.Oqu(I.lcZ(4,2,"addon.badges.claimcomment")),I.xp6(3),I.Oqu(e.badge.endorsement.claimcomment)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item-group")(1,"ion-item-divider")(2,"ion-label")(3,"h2"),I._uU(4),I.ALo(5,"translate"),I.qZA()()(),I.YNc(6,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_ion_item_6_Template,7,4,"ion-item",14)(7,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_ion_item_7_Template,8,6,"ion-item",14)(8,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_ion_item_8_Template,8,5,"ion-item",14)(9,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_ion_item_9_Template,8,6,"ion-item",14)(10,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_ion_item_10_Template,8,5,"ion-item",14)(11,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_ion_item_11_Template,7,4,"ion-item",14),I.qZA()),2&e){const e=I.oxw(2);I.xp6(4),I.Oqu(I.lcZ(5,7,"addon.badges.bendorsement")),I.xp6(2),I.Q6J("ngIf",e.badge.endorsement.issuername),I.xp6(),I.Q6J("ngIf",e.badge.endorsement.issueremail),I.xp6(),I.Q6J("ngIf",e.badge.endorsement.issuerurl),I.xp6(),I.Q6J("ngIf",e.badge.endorsement.dateissued),I.xp6(),I.Q6J("ngIf",e.badge.endorsement.claimid),I.xp6(),I.Q6J("ngIf",e.badge.endorsement.claimcomment)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_33_ion_item_6_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.qZA()()()),2&e){const e=n.$implicit;I.xp6(3),I.Oqu(e.name)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_33_ion_item_7_Template(e,n){1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA()()()),2&e&&(I.xp6(3),I.Oqu(I.lcZ(4,1,"addon.badges.norelated")))}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_33_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item-group")(1,"ion-item-divider")(2,"ion-label")(3,"h2"),I._uU(4),I.ALo(5,"translate"),I.qZA()()(),I.YNc(6,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_33_ion_item_6_Template,4,1,"ion-item",20)(7,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_33_ion_item_7_Template,5,3,"ion-item",14),I.qZA()),2&e){const e=I.oxw(2);I.xp6(4),I.Oqu(I.lcZ(5,3,"addon.badges.relatedbages")),I.xp6(2),I.Q6J("ngForOf",e.badge.relatedbadges),I.xp6(),I.Q6J("ngIf",0===e.badge.relatedbadges.length)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_34_ion_item_6_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item",22)(1,"ion-label")(2,"p",13),I._uU(3),I.qZA()()()),2&e){const e=n.$implicit;I.Q6J("href",e.targeturl),I.xp6(3),I.Oqu(e.targetname)}}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_34_ion_item_7_Template(e,n){1&e&&(I.TgZ(0,"ion-item",12)(1,"ion-label")(2,"p",13),I._uU(3),I.ALo(4,"translate"),I.qZA()()()),2&e&&(I.xp6(3),I.Oqu(I.lcZ(4,1,"addon.badges.noalignment")))}function AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_34_Template(e,n){if(1&e&&(I.TgZ(0,"ion-item-group")(1,"ion-item-divider")(2,"ion-label")(3,"h2"),I._uU(4),I.ALo(5,"translate"),I.qZA()()(),I.YNc(6,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_34_ion_item_6_Template,4,2,"ion-item",21)(7,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_34_ion_item_7_Template,5,3,"ion-item",14),I.qZA()),2&e){const e=I.oxw(2);I.xp6(4),I.Oqu(I.lcZ(5,3,"addon.badges.alignment")),I.xp6(2),I.Q6J("ngForOf",e.badge.alignment),I.xp6(),I.Q6J("ngIf",0===e.badge.alignment.length)}}function AddonBadgesIssuedBadgePage_ng_container_15_Template(e,n){if(1&e&&(I.ynx(0),I.TgZ(1,"ion-item-group")(2,"ion-item-divider")(3,"ion-label")(4,"h2"),I._uU(5),I.ALo(6,"translate"),I.qZA()()(),I.YNc(7,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_7_Template,7,4,"ion-item",14)(8,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_8_Template,8,6,"ion-item",14),I.qZA(),I.TgZ(9,"ion-item-group")(10,"ion-item-divider")(11,"ion-label")(12,"h2"),I._uU(13),I.ALo(14,"translate"),I.qZA()()(),I.YNc(15,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_15_Template,7,4,"ion-item",14)(16,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_16_Template,7,4,"ion-item",14)(17,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_17_Template,7,4,"ion-item",14)(18,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_18_Template,7,4,"ion-item",14)(19,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_19_Template,7,4,"ion-item",14)(20,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_20_Template,8,6,"ion-item",14)(21,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_21_Template,8,5,"ion-item",14)(22,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_22_Template,7,4,"ion-item",14)(23,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_23_Template,7,5,"ion-item",14),I.qZA(),I.TgZ(24,"ion-item-group")(25,"ion-item-divider")(26,"ion-label")(27,"h2"),I._uU(28),I.ALo(29,"translate"),I.qZA()()(),I.YNc(30,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_30_Template,8,6,"ion-item",14)(31,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_31_Template,9,7,"ion-item",14),I.qZA(),I.YNc(32,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_32_Template,12,9,"ion-item-group",2)(33,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_33_Template,8,5,"ion-item-group",2)(34,AddonBadgesIssuedBadgePage_ng_container_15_ion_item_group_34_Template,8,5,"ion-item-group",2),I.BQk()),2&e){const e=I.oxw();I.xp6(5),I.Oqu(I.lcZ(6,19,"addon.badges.issuerdetails")),I.xp6(2),I.Q6J("ngIf",e.badge.issuername),I.xp6(),I.Q6J("ngIf",e.badge.issuercontact),I.xp6(5),I.Oqu(I.lcZ(14,21,"addon.badges.badgedetails")),I.xp6(2),I.Q6J("ngIf",e.badge.name),I.xp6(),I.Q6J("ngIf",e.badge.version),I.xp6(),I.Q6J("ngIf",e.badge.language),I.xp6(),I.Q6J("ngIf",e.badge.description),I.xp6(),I.Q6J("ngIf",e.badge.imageauthorname),I.xp6(),I.Q6J("ngIf",e.badge.imageauthoremail),I.xp6(),I.Q6J("ngIf",e.badge.imageauthorurl),I.xp6(),I.Q6J("ngIf",e.badge.imagecaption),I.xp6(),I.Q6J("ngIf",e.course),I.xp6(5),I.Oqu(I.lcZ(29,23,"addon.badges.issuancedetails")),I.xp6(2),I.Q6J("ngIf",e.badge.dateissued),I.xp6(),I.Q6J("ngIf",e.badge.dateexpire),I.xp6(),I.Q6J("ngIf",e.badge.endorsement),I.xp6(),I.Q6J("ngIf",e.badge.relatedbadges),I.xp6(),I.Q6J("ngIf",e.badge.alignment)}}let v=(()=>{var e;class AddonBadgesIssuedBadgePage{constructor(e){this.route=e,this.badgeHash="",this.courseId=0,this.badgeLoaded=!1,this.currentTime=0,this.courseId=p.b.getRouteNumberParam("courseId")||this.courseId,this.userId=p.b.getRouteNumberParam("userId")||r.m9.getRequiredCurrentSite().getUserId(),this.badgeHash=p.b.getRouteParam("badgeHash")||"";const n=B.p.getOrCreateSource(AddonBadgesUserBadgesSource,[this.courseId,this.userId]);this.badges=new b.t(n),this.logView=Z.V.once((e=>{f.ke.logEvent({type:f.gM.VIEW_ITEM,ws:"core_badges_view_user_badges",name:e.name,data:{id:e.uniquehash,category:"badges"},url:`/badges/badge.php?hash=${e.uniquehash}`})}))}ngOnInit(){this.fetchIssuedBadge().finally((()=>{this.badgeLoaded=!0})),this.badges.start()}ngOnDestroy(){this.badges.destroy()}fetchIssuedBadge(){var e=this;return(0,g.Z)((function*(){e.currentTime=s.D.timestamp(),e.user=yield u.My.getProfile(e.userId,e.courseId,!0);try{const n=(yield l.M.getUserBadges(e.courseId,e.userId)).find((n=>e.badgeHash==n.uniquehash));if(!n)return;if(e.badge=n,n.courseid)try{e.course=yield c.B.getUserCourse(n.courseid,!0)}catch{e.course=void 0}e.logView(n)}catch(e){_.OQ.showErrorModalDefault(e,"Error getting badge data.")}}))()}refreshBadges(e){var n=this;return(0,g.Z)((function*(){yield m.Tr.ignoreErrors(Promise.all([l.M.invalidateUserBadges(n.courseId,n.userId)])),yield m.Tr.ignoreErrors(Promise.all([n.fetchIssuedBadge()])),null==e||e.complete()}))()}}return(e=AddonBadgesIssuedBadgePage).ɵfac=function AddonBadgesIssuedBadgePage_Factory(n){return new(n||e)(I.Y36(t.gz))},e.ɵcmp=I.Xpm({type:e,selectors:[["page-addon-badges-issued-badge"]],decls:16,vars:14,consts:[["slot","start"],[3,"text"],[4,"ngIf"],[1,"limited-width",3,"core-swipe-navigation"],["slot","fixed",3,"disabled","ionRefresh"],[3,"pullingText"],[3,"hideUntil"],[1,"ion-text-wrap","ion-text-center"],["class","large-avatar","core-external-content","",3,"src","alt",4,"ngIf"],["color","danger",4,"ngIf"],["core-external-content","",1,"large-avatar",3,"src","alt"],["color","danger"],[1,"ion-text-wrap"],[1,"item-heading"],["class","ion-text-wrap",4,"ngIf"],["core-link","","auto-login","no",3,"href","showBrowserWarning"],["core-link","","auto-login","no",3,"href"],["contextLevel","course",3,"text","contextInstanceId"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["class","ion-text-wrap",4,"ngFor","ngForOf"],["class","ion-text-wrap","core-link","","auto-login","no",3,"href",4,"ngFor","ngForOf"],["core-link","","auto-login","no",1,"ion-text-wrap",3,"href"]],template:function AddonBadgesIssuedBadgePage_Template(e,n){1&e&&(I.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),I._UZ(3,"ion-back-button",1),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"ion-title"),I.YNc(6,AddonBadgesIssuedBadgePage_h1_6_Template,2,1,"h1",2)(7,AddonBadgesIssuedBadgePage_h1_7_Template,3,3,"h1",2),I.qZA()()(),I.TgZ(8,"ion-content",3)(9,"ion-refresher",4),I.NdJ("ionRefresh",(function AddonBadgesIssuedBadgePage_Template_ion_refresher_ionRefresh_9_listener(e){return n.refreshBadges(e.target)})),I._UZ(10,"ion-refresher-content",5),I.ALo(11,"translate"),I.qZA(),I.TgZ(12,"core-loading",6),I.YNc(13,AddonBadgesIssuedBadgePage_ion_item_group_13_Template,5,2,"ion-item-group",2)(14,AddonBadgesIssuedBadgePage_ion_item_group_14_Template,13,7,"ion-item-group",2)(15,AddonBadgesIssuedBadgePage_ng_container_15_Template,35,25,"ng-container",2),I.qZA()()),2&e&&(I.xp6(3),I.Q6J("text",I.lcZ(4,10,"core.back")),I.xp6(3),I.Q6J("ngIf",n.badge),I.xp6(),I.Q6J("ngIf",!n.badge),I.xp6(),I.Q6J("core-swipe-navigation",n.badges),I.xp6(),I.Q6J("disabled",!n.badgeLoaded),I.xp6(),I.s9C("pullingText",I.lcZ(11,12,"core.pulltorefresh")),I.xp6(2),I.Q6J("hideUntil",n.badgeLoaded),I.xp6(),I.Q6J("ngIf",n.badge),I.xp6(),I.Q6J("ngIf",n.user),I.xp6(),I.Q6J("ngIf",n.badge))},dependencies:[x.sg,x.O5,T.r,h.l,q.r,U.y,P.g,w.t,O.yp,O.Sm,O.W2,O.Gu,O.Ie,O.rH,O.Ub,O.Q$,O.nJ,O.Wo,O.wd,O.sr,O.oU,y.o,J.X$],encapsulation:2}),AddonBadgesIssuedBadgePage})();var Q=a(30242),L=a(1389),S=a(10727),M=a(55126);function AddonBadgesUserBadgesPage_core_empty_box_15_Template(e,n){1&e&&(I._UZ(0,"core-empty-box",7),I.ALo(1,"translate")),2&e&&I.Q6J("message",I.lcZ(1,1,"addon.badges.nobadges"))}function AddonBadgesUserBadgesPage_ion_list_16_ion_item_1_ion_badge_9_Template(e,n){1&e&&(I.TgZ(0,"ion-badge",14),I._uU(1),I.ALo(2,"translate"),I.qZA()),2&e&&(I.xp6(),I.hij(" ",I.lcZ(2,1,"addon.badges.expired")," "))}function AddonBadgesUserBadgesPage_ion_list_16_ion_item_1_Template(e,n){if(1&e){const e=I.EpF();I.TgZ(0,"ion-item",10),I.NdJ("click",(function AddonBadgesUserBadgesPage_ion_list_16_ion_item_1_Template_ion_item_click_0_listener(){const n=I.CHM(e).$implicit,a=I.oxw(2);return I.KtG(a.badges.select(n))})),I.TgZ(1,"ion-avatar",0),I._UZ(2,"img",11),I.qZA(),I.TgZ(3,"ion-label")(4,"p",12),I._uU(5),I.qZA(),I.TgZ(6,"p"),I._uU(7),I.ALo(8,"coreFormatDate"),I.qZA()(),I.YNc(9,AddonBadgesUserBadgesPage_ion_list_16_ion_item_1_ion_badge_9_Template,3,3,"ion-badge",13),I.qZA()}if(2&e){const e=n.$implicit,a=I.oxw(2);I.Q6J("detail",!0),I.uIk("aria-label",e.name)("aria-current",a.badges.getItemAriaCurrent(e)),I.xp6(2),I.Q6J("src",e.badgeurl,I.LSH)("alt",e.name),I.xp6(3),I.Oqu(e.name),I.xp6(2),I.Oqu(I.xi3(8,8,1e3*e.dateissued,"strftimedatetimeshort")),I.xp6(2),I.Q6J("ngIf",e.dateexpire&&a.currentTime>=e.dateexpire)}}function AddonBadgesUserBadgesPage_ion_list_16_Template(e,n){if(1&e&&(I.TgZ(0,"ion-list",8),I.YNc(1,AddonBadgesUserBadgesPage_ion_list_16_ion_item_1_Template,10,11,"ion-item",9),I.qZA()),2&e){const e=I.oxw();I.xp6(),I.Q6J("ngForOf",e.badges.items)}}let k=(()=>{var e;class AddonBadgesUserBadgesPage{constructor(){var e,n;this.currentTime=0;let a=null!==(e=p.b.getRouteNumberParam("courseId"))&&void 0!==e?e:0;const t=null!==(n=p.b.getRouteNumberParam("userId"))&&void 0!==n?n:r.m9.getCurrentSiteUserId();a===r.m9.getCurrentSiteHomeId()&&(a=0),this.badges=new L.a(B.p.getOrCreateSource(AddonBadgesUserBadgesSource,[a,t]),AddonBadgesUserBadgesPage),this.logView=Z.V.once((()=>{f.ke.logEvent({type:f.gM.VIEW_ITEM_LIST,ws:"core_badges_view_user_badges",name:S.vN.instant("addon.badges.badges"),data:{courseId:this.badges.getSource().COURSE_ID,category:"badges"},url:"/badges/mybadges.php"})}))}ngAfterViewInit(){var e=this;return(0,g.Z)((function*(){yield e.fetchInitialBadges(),e.badges.start(e.splitView)}))()}ngOnDestroy(){this.badges.destroy()}refreshBadges(e){var n=this;return(0,g.Z)((function*(){yield m.Tr.ignoreErrors(l.M.invalidateUserBadges(n.badges.getSource().COURSE_ID,n.badges.getSource().USER_ID)),yield m.Tr.ignoreErrors(n.badges.reload()),null==e||e.complete()}))()}fetchInitialBadges(){var e=this;return(0,g.Z)((function*(){e.currentTime=s.D.timestamp();try{yield e.badges.reload(),e.logView()}catch(n){_.OQ.showErrorModalDefault(n,"Error loading badges"),e.badges.reset()}}))()}}return(e=AddonBadgesUserBadgesPage).ɵfac=function AddonBadgesUserBadgesPage_Factory(n){return new(n||e)},e.ɵcmp=I.Xpm({type:e,selectors:[["page-addon-badges-user-badges"]],viewQuery:function AddonBadgesUserBadgesPage_Query(e,n){if(1&e&&I.Gf(Q.A,5),2&e){let e;I.iGM(e=I.CRH())&&(n.splitView=e.first)}},decls:17,vars:13,consts:[["slot","start"],[3,"text"],["slot","fixed",3,"disabled","ionRefresh"],[3,"pullingText"],[3,"hideUntil"],["icon","fas-trophy",3,"message",4,"ngIf"],["class","ion-no-margin",4,"ngIf"],["icon","fas-trophy",3,"message"],[1,"ion-no-margin"],["button","","class","ion-text-wrap",3,"detail","click",4,"ngFor","ngForOf"],["button","",1,"ion-text-wrap",3,"detail","click"],["core-external-content","",3,"src","alt"],[1,"item-heading"],["slot","end","color","danger",4,"ngIf"],["slot","end","color","danger"]],template:function AddonBadgesUserBadgesPage_Template(e,n){1&e&&(I.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),I._UZ(3,"ion-back-button",1),I.ALo(4,"translate"),I.qZA(),I.TgZ(5,"ion-title")(6,"h1"),I._uU(7),I.ALo(8,"translate"),I.qZA()()()(),I.TgZ(9,"ion-content")(10,"core-split-view")(11,"ion-refresher",2),I.NdJ("ionRefresh",(function AddonBadgesUserBadgesPage_Template_ion_refresher_ionRefresh_11_listener(e){return n.refreshBadges(e.target)})),I._UZ(12,"ion-refresher-content",3),I.ALo(13,"translate"),I.qZA(),I.TgZ(14,"core-loading",4),I.YNc(15,AddonBadgesUserBadgesPage_core_empty_box_15_Template,2,3,"core-empty-box",5)(16,AddonBadgesUserBadgesPage_ion_list_16_Template,2,1,"ion-list",6),I.qZA()()()),2&e&&(I.xp6(3),I.Q6J("text",I.lcZ(4,7,"core.back")),I.xp6(4),I.Oqu(I.lcZ(8,9,"addon.badges.badges")),I.xp6(4),I.Q6J("disabled",!n.badges.loaded),I.xp6(),I.s9C("pullingText",I.lcZ(13,11,"core.pulltorefresh")),I.xp6(2),I.Q6J("hideUntil",n.badges.loaded),I.xp6(),I.Q6J("ngIf",n.badges.empty),I.xp6(),I.Q6J("ngIf",!n.badges.empty))},dependencies:[x.sg,x.O5,M.z,T.r,Q.A,h.l,w.t,O.BJ,O.yp,O.Sm,O.W2,O.Gu,O.Ie,O.Q$,O.q_,O.nJ,O.Wo,O.wd,O.sr,O.oU,y.o,J.X$],encapsulation:2}),AddonBadgesUserBadgesPage})();const C=[{path:"",component:k,children:[{path:":badgeHash",component:v}]}],N=[...(0,o.Vr)([{path:"",pathMatch:"full",component:k},{path:":badgeHash",component:v}],(()=>i.X4.isMobile)),...(0,o.Vr)(C,(()=>i.X4.isTablet))];let R=(()=>{var e;class AddonBadgesLazyModule{}return(e=AddonBadgesLazyModule).ɵfac=function AddonBadgesLazyModule_Factory(n){return new(n||e)},e.ɵmod=I.oAB({type:e}),e.ɵinj=I.cJS({imports:[t.Bz.forChild(N),d.L]}),AddonBadgesLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&I.kYT(R,{declarations:[k,v],imports:[t.Bz,d.L]}))},71460:(e,n,a)=>{a.d(n,{t:()=>CoreSwipeNavigationItemsManager});var t=a(49671),o=a(67643),i=a(43555),d=a(22594);class CoreSwipeNavigationItemsManager extends d.A{start(){var e=this;return(0,t.Z)((function*(){e.updateSelectedItem()}))()}navigateToNextItem(){var e=this;return(0,t.Z)((function*(){yield e.navigateToItemBy(1,"forward")}))()}navigateToPreviousItem(){var e=this;return(0,t.Z)((function*(){yield e.navigateToItemBy(-1,"back")}))()}hasNextItem(){var e=this;return(0,t.Z)((function*(){return!!(yield e.getItemBy(1))}))()}hasPreviousItem(){var e=this;return(0,t.Z)((function*(){return!!(yield e.getItemBy(-1))}))()}getCurrentPageRoute(){return i.b.getCurrentRoute()}getSelectedItemPathFromRoute(e){const n=[];for(;e;){if(n.push(...(e instanceof o.De?e:e.snapshot).url),!e.firstChild)break;e=e.firstChild}return n.map((e=>e.path)).join("/").replace(/\/+/,"/").trim()||null}navigateToItemBy(e,n){var a=this;return(0,t.Z)((function*(){const t=yield a.getItemBy(e);t&&(yield a.navigateToItem(t,{animationDirection:n,replace:!0}))}))()}getItemBy(e){var n=this;return(0,t.Z)((function*(){var a;const t=n.getSource().getItems(),o=null!==(a=n.selectedItem&&(null==t?void 0:t.indexOf(n.selectedItem)))&&void 0!==a?a:-1;if(-1===o||null===t)return null;const i=e>0?1:-1;let d=o,g=0;for(;g!==e;){if(d+=i,d<0)return null;if(d>=t.length)break;n.skipItemInSwipe(t[d])||(g+=i)}return g===e?t[d]:n.getSource().isCompleted()?null:(yield n.getSource().load(),n.getItemBy(e))}))()}skipItemInSwipe(e){return!1}}}}]);