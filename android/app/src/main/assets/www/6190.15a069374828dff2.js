"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6190],{86190:(e,n,t)=>{t.r(n),t.d(n,{CoreMainMenuMoreLazyModule:()=>y});var i=t(19212),o=t(67643),a=t(13386),r=t(39716),l=t(50462),s=t(56283),c=t(49671),u=t(53564),_=t(75803),m=t(85461),d=t(98370),p=t(43555),g=t(64310),M=t(34749),f=t(10727),b=t(52467),h=t(93988),C=t(96814),T=t(86700),Z=t(21525),x=t(29657),I=t(31903),P=t(83431),A=t(89515);function CoreMainMenuMorePage_ion_item_13_Template(e,n){1&e&&(i.TgZ(0,"ion-item",10)(1,"ion-label"),i._UZ(2,"ion-spinner"),i.ALo(3,"translate"),i.qZA()()),2&e&&(i.xp6(2),i.uIk("aria-label",i.lcZ(3,1,"core.loading")))}function CoreMainMenuMorePage_ion_item_14_ion_badge_7_Template(e,n){if(1&e&&(i.TgZ(0,"ion-badge",16),i._uU(1),i.qZA()),2&e){const e=i.oxw().$implicit;i.Q6J("hidden",e.loading||!e.badge),i.xp6(),i.hij(" ",e.badge," ")}}const _c0=e=>({$a:e});function CoreMainMenuMorePage_ion_item_14_span_8_Template(e,n){if(1&e&&(i.TgZ(0,"span",17),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&e){const e=i.oxw().$implicit;i.xp6(),i.hij(" ",i.xi3(2,1,e.badgeA11yText,i.VKq(4,_c0,e.badge))," ")}}function CoreMainMenuMorePage_ion_item_14_ion_spinner_9_Template(e,n){1&e&&(i._UZ(0,"ion-spinner",2),i.ALo(1,"translate")),2&e&&i.uIk("aria-label",i.lcZ(1,1,"core.loading"))}const _c1=e=>["core-moremenu-handler",e];function CoreMainMenuMorePage_ion_item_14_Template(e,n){if(1&e){const e=i.EpF();i.TgZ(0,"ion-item",11),i.NdJ("click",(function CoreMainMenuMorePage_ion_item_14_Template_ion_item_click_0_listener(){const n=i.CHM(e).$implicit,t=i.oxw();return i.KtG(t.openHandler(n))})),i.ALo(1,"translate"),i._UZ(2,"ion-icon",12),i.TgZ(3,"ion-label")(4,"p",9),i._uU(5),i.ALo(6,"translate"),i.qZA()(),i.YNc(7,CoreMainMenuMorePage_ion_item_14_ion_badge_7_Template,2,2,"ion-badge",13)(8,CoreMainMenuMorePage_ion_item_14_span_8_Template,3,6,"span",14)(9,CoreMainMenuMorePage_ion_item_14_ion_spinner_9_Template,2,3,"ion-spinner",15),i.qZA()}if(2&e){const e=n.$implicit;i.Q6J("ngClass",i.VKq(12,_c1,e.class||""))("detail",!0),i.uIk("aria-label",i.lcZ(1,8,e.title)),i.xp6(2),i.Q6J("name",e.icon),i.xp6(3),i.Oqu(i.lcZ(6,10,e.title)),i.xp6(2),i.Q6J("ngIf",e.showBadge),i.xp6(),i.Q6J("ngIf",e.showBadge&&e.badge&&e.badgeA11yText),i.xp6(),i.Q6J("ngIf",e.showBadge&&e.loading)}}function CoreMainMenuMorePage_ng_container_15_ion_item_1_Template(e,n){if(1&e&&(i.TgZ(0,"ion-item",20),i._UZ(1,"ion-icon",12),i.TgZ(2,"ion-label")(3,"p",9),i._uU(4),i.qZA()()()),2&e){const e=i.oxw().$implicit;i.Q6J("href",e.url)("capture","app"===e.type)("inApp","inappbrowser"===e.type)("detail",!0)("detailIcon","browser"===e.type?"open-outline":"chevron-forward"),i.uIk("aria-label",e.label),i.xp6(),i.Q6J("name",e.icon),i.xp6(3),i.Oqu(e.label)}}function CoreMainMenuMorePage_ng_container_15_ion_item_2_Template(e,n){if(1&e){const e=i.EpF();i.TgZ(0,"ion-item",21),i.NdJ("click",(function CoreMainMenuMorePage_ng_container_15_ion_item_2_Template_ion_item_click_0_listener(){i.CHM(e);const n=i.oxw().$implicit,t=i.oxw();return i.KtG(t.openItem(n))})),i._UZ(1,"ion-icon",12),i.TgZ(2,"ion-label")(3,"p",9),i._uU(4),i.qZA()()()}if(2&e){const e=i.oxw().$implicit;i.Q6J("detail",!0),i.uIk("aria-label",e.label),i.xp6(),i.Q6J("name",e.icon),i.xp6(3),i.Oqu(e.label)}}function CoreMainMenuMorePage_ng_container_15_Template(e,n){if(1&e&&(i.ynx(0),i.YNc(1,CoreMainMenuMorePage_ng_container_15_ion_item_1_Template,5,8,"ion-item",18)(2,CoreMainMenuMorePage_ng_container_15_ion_item_2_Template,5,4,"ion-item",19),i.BQk()),2&e){const e=n.$implicit;i.xp6(),i.Q6J("ngIf","embedded"!==e.type),i.xp6(),i.Q6J("ngIf","embedded"===e.type)}}function CoreMainMenuMorePage_ion_item_16_Template(e,n){if(1&e){const e=i.EpF();i.TgZ(0,"ion-item",7),i.NdJ("click",(function CoreMainMenuMorePage_ion_item_16_Template_ion_item_click_0_listener(){i.CHM(e);const n=i.oxw();return i.KtG(n.scanQR())})),i._UZ(1,"ion-icon",22),i.TgZ(2,"ion-label")(3,"p",9),i._uU(4),i.ALo(5,"translate"),i.qZA()()()}2&e&&(i.Q6J("detail",!0),i.xp6(4),i.Oqu(i.lcZ(5,2,"core.scanqr")))}let k=(()=>{var e;class CoreMainMenuMorePage{constructor(){var e,n=this;this.handlersLoaded=!1,this.langObserver=d.R.on(d.R.LANGUAGE_CHANGED,(()=>this.loadCustomMenuItems())),this.updateSiteObserver=d.R.on(d.R.SITE_UPDATED,(0,c.Z)((function*(){n.customItems=yield l.t.getCustomMenuItems()})),u.m9.getCurrentSiteId()),this.loadCustomMenuItems(),this.showScanQR=_.Tr.canScanQR()&&!(null!==(e=u.m9.getCurrentSite())&&void 0!==e&&e.isFeatureDisabled("CoreMainMenuDelegate_QrReader"))}ngOnInit(){this.subscription=m.w.getHandlersObservable().subscribe((e=>{this.allHandlers=e,this.initHandlers()})),this.resizeListener=h.V.onWindowResize((()=>{this.initHandlers()}));(new b.L).treatLink()}ngOnDestroy(){var e,n,t,i;null===(e=this.langObserver)||void 0===e||e.off(),null===(n=this.updateSiteObserver)||void 0===n||n.off(),null===(t=this.subscription)||void 0===t||t.unsubscribe(),null===(i=this.resizeListener)||void 0===i||i.off()}initHandlers(){if(!this.allHandlers)return;const e=this.allHandlers.filter((e=>!e.onlyInMore)).slice(0,l.t.getNumItems());this.handlers=this.allHandlers.filter((n=>-1==e.indexOf(n))),this.handlersLoaded=m.w.areHandlersLoaded()}loadCustomMenuItems(){var e=this;return(0,c.Z)((function*(){e.customItems=yield l.t.getCustomMenuItems()}))()}openHandler(e){p.b.navigateToSitePath(e.page,{params:e.pageParams})}openItem(e){p.b.navigateToSitePath("viewer/iframe",{params:{title:e.label,url:e.url}})}openSettings(){p.b.navigateToSitePath("settings")}scanQR(){return(0,c.Z)((function*(){const e=yield _.Tr.scanQR();e&&(g.us.isCustomURL(e)?g.us.handleCustomURL(e).catch((e=>{g.us.treatHandleCustomURLError(e)})):/^[^:]{2,}:\/\/[^ ]+$/i.test(e)?yield u.m9.visitLink(e,{checkRoot:!0,openBrowserRoot:!0}):M._1.viewText(f.vN.instant("core.qrscanner"),e,{displayCopyButton:!0}))}))()}}return(e=CoreMainMenuMorePage).ɵfac=function CoreMainMenuMorePage_Factory(n){return new(n||e)},e.ɵcmp=i.Xpm({type:e,selectors:[["page-core-mainmenu-more"]],decls:25,vars:17,consts:[["slot","start"],[3,"text"],["slot","end"],["class","ion-text-center",4,"ngIf"],["button","",3,"ngClass","detail","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["button","",3,"detail","click",4,"ngIf"],["button","",3,"detail","click"],["name","fas-gears","slot","start","aria-hidden","true"],[1,"item-heading"],[1,"ion-text-center"],["button","",3,"ngClass","detail","click"],["slot","start","aria-hidden","true",3,"name"],["slot","end","aria-hidden","true",3,"hidden",4,"ngIf"],["class","sr-only",4,"ngIf"],["slot","end",4,"ngIf"],["slot","end","aria-hidden","true",3,"hidden"],[1,"sr-only"],["button","","core-link","","class","core-moremenu-customitem",3,"href","capture","inApp","detail","detailIcon",4,"ngIf"],["button","","class","core-moremenu-customitem",3,"detail","click",4,"ngIf"],["button","","core-link","",1,"core-moremenu-customitem",3,"href","capture","inApp","detail","detailIcon"],["button","",1,"core-moremenu-customitem",3,"detail","click"],["name","fas-qrcode","slot","start","aria-hidden","true"]],template:function CoreMainMenuMorePage_Template(e,n){1&e&&(i.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),i._UZ(3,"ion-back-button",1),i.ALo(4,"translate"),i.qZA(),i.TgZ(5,"ion-title")(6,"h1"),i._uU(7),i.ALo(8,"translate"),i.qZA()(),i.TgZ(9,"ion-buttons",2),i._UZ(10,"core-user-menu-button"),i.qZA()()(),i.TgZ(11,"ion-content")(12,"ion-list"),i.YNc(13,CoreMainMenuMorePage_ion_item_13_Template,4,3,"ion-item",3)(14,CoreMainMenuMorePage_ion_item_14_Template,10,14,"ion-item",4)(15,CoreMainMenuMorePage_ng_container_15_Template,3,2,"ng-container",5)(16,CoreMainMenuMorePage_ion_item_16_Template,6,4,"ion-item",6),i.qZA()(),i.TgZ(17,"ion-footer")(18,"ion-item",7),i.NdJ("click",(function CoreMainMenuMorePage_Template_ion_item_click_18_listener(){return n.openSettings()})),i.ALo(19,"translate"),i._UZ(20,"ion-icon",8),i.TgZ(21,"ion-label")(22,"p",9),i._uU(23),i.ALo(24,"translate"),i.qZA()()()()),2&e&&(i.xp6(3),i.Q6J("text",i.lcZ(4,9,"core.back")),i.xp6(4),i.Oqu(i.lcZ(8,11,"core.more")),i.xp6(6),i.Q6J("ngIf",!(n.handlers&&n.handlers.length||n.handlersLoaded)),i.xp6(),i.Q6J("ngForOf",n.handlers),i.xp6(),i.Q6J("ngForOf",n.customItems),i.xp6(),i.Q6J("ngIf",n.showScanQR),i.xp6(2),i.Q6J("detail",!0),i.uIk("aria-label",i.lcZ(19,13,"core.settings.appsettings")),i.xp6(5),i.Oqu(i.lcZ(24,15,"core.settings.appsettings")))},dependencies:[C.mk,C.sg,C.O5,T.I,Z.y,x.t,I.yp,I.Sm,I.W2,I.fr,I.Gu,I.gu,I.Ie,I.Q$,I.q_,I.PQ,I.wd,I.sr,I.oU,P.o,A.X$],styles:["ion-item[_ngcontent-%COMP%]{--border-color: var(--core-more-item-border, var(--ion-border-color))}ion-item[_ngcontent-%COMP%] > ion-icon[slot][_ngcontent-%COMP%]{color:var(--core-more-icon)!important}"]}),CoreMainMenuMorePage})();function buildRoutes(e){return(0,r.o)(e,{component:k,data:{mainMenuTabRoot:l.L.MORE_PAGE_NAME}})}let y=(()=>{var e;class CoreMainMenuMoreLazyModule{}return(e=CoreMainMenuMoreLazyModule).ɵfac=function CoreMainMenuMoreLazyModule_Factory(n){return new(n||e)},e.ɵmod=i.oAB({type:e}),e.ɵinj=i.cJS({providers:[{provide:o.Z6,multi:!0,deps:[i.zs3],useFactory:buildRoutes}],imports:[a.L,s.g,o.Bz]}),CoreMainMenuMoreLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.kYT(y,{declarations:[k],imports:[a.L,s.g],exports:[o.Bz]}))}}]);